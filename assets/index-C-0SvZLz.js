(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function Qh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var uu={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function hv(){if(Qp)return Wo;Qp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return Wo.Fragment=t,Wo.jsx=l,Wo.jsxs=l,Wo}var Zp;function gv(){return Zp||(Zp=1,uu.exports=hv()),uu.exports}var T=gv(),cu={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function yv(){if($p)return de;$p=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),_=Symbol.iterator;function A(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,M={};function z(C,U,F){this.props=C,this.context=U,this.refs=M,this.updater=F||I}z.prototype.isReactComponent={},z.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function J(){}J.prototype=z.prototype;function D(C,U,F){this.props=C,this.context=U,this.refs=M,this.updater=F||I}var O=D.prototype=new J;O.constructor=D,w(O,z.prototype),O.isPureReactComponent=!0;var Z=Array.isArray;function ie(){}var Y={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function ee(C,U,F){var te=F.ref;return{$$typeof:i,type:C,key:U,ref:te!==void 0?te:null,props:F}}function X(C,U){return ee(C.type,U,C.props)}function le(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function $(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(F){return U[F]})}var ue=/\/+/g;function Me(C,U){return typeof C=="object"&&C!==null&&C.key!=null?$(""+C.key):U.toString(36)}function it(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ie,ie):(C.status="pending",C.then(function(U){C.status==="pending"&&(C.status="fulfilled",C.value=U)},function(U){C.status==="pending"&&(C.status="rejected",C.reason=U)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function H(C,U,F,te,fe){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var Ne=!1;if(C===null)Ne=!0;else switch(ge){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(C.$$typeof){case i:case t:Ne=!0;break;case v:return Ne=C._init,H(Ne(C._payload),U,F,te,fe)}}if(Ne)return fe=fe(C),Ne=te===""?"."+Me(C,0):te,Z(fe)?(F="",Ne!=null&&(F=Ne.replace(ue,"$&/")+"/"),H(fe,U,F,"",function(oo){return oo})):fe!=null&&(le(fe)&&(fe=X(fe,F+(fe.key==null||C&&C.key===fe.key?"":(""+fe.key).replace(ue,"$&/")+"/")+Ne)),U.push(fe)),1;Ne=0;var at=te===""?".":te+":";if(Z(C))for(var ze=0;ze<C.length;ze++)te=C[ze],ge=at+Me(te,ze),Ne+=H(te,U,F,ge,fe);else if(ze=A(C),typeof ze=="function")for(C=ze.call(C),ze=0;!(te=C.next()).done;)te=te.value,ge=at+Me(te,ze++),Ne+=H(te,U,F,ge,fe);else if(ge==="object"){if(typeof C.then=="function")return H(it(C),U,F,te,fe);throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function Q(C,U,F){if(C==null)return C;var te=[],fe=0;return H(C,te,"","",function(ge){return U.call(F,ge,fe++)}),te}function re(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(F){(C._status===0||C._status===-1)&&(C._status=1,C._result=F)},function(F){(C._status===0||C._status===-1)&&(C._status=2,C._result=F)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var K=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},j={map:Q,forEach:function(C,U,F){Q(C,function(){U.apply(this,arguments)},F)},count:function(C){var U=0;return Q(C,function(){U++}),U},toArray:function(C){return Q(C,function(U){return U})||[]},only:function(C){if(!le(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return de.Activity=E,de.Children=j,de.Component=z,de.Fragment=l,de.Profiler=r,de.PureComponent=D,de.StrictMode=a,de.Suspense=y,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,de.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Y.H.useMemoCache(C)}},de.cache=function(C){return function(){return C.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(C,U,F){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var te=w({},C.props),fe=C.key;if(U!=null)for(ge in U.key!==void 0&&(fe=""+U.key),U)!he.call(U,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&U.ref===void 0||(te[ge]=U[ge]);var ge=arguments.length-2;if(ge===1)te.children=F;else if(1<ge){for(var Ne=Array(ge),at=0;at<ge;at++)Ne[at]=arguments[at+2];te.children=Ne}return ee(C.type,fe,te)},de.createContext=function(C){return C={$$typeof:p,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},de.createElement=function(C,U,F){var te,fe={},ge=null;if(U!=null)for(te in U.key!==void 0&&(ge=""+U.key),U)he.call(U,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(fe[te]=U[te]);var Ne=arguments.length-2;if(Ne===1)fe.children=F;else if(1<Ne){for(var at=Array(Ne),ze=0;ze<Ne;ze++)at[ze]=arguments[ze+2];fe.children=at}if(C&&C.defaultProps)for(te in Ne=C.defaultProps,Ne)fe[te]===void 0&&(fe[te]=Ne[te]);return ee(C,ge,fe)},de.createRef=function(){return{current:null}},de.forwardRef=function(C){return{$$typeof:g,render:C}},de.isValidElement=le,de.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:re}},de.memo=function(C,U){return{$$typeof:h,type:C,compare:U===void 0?null:U}},de.startTransition=function(C){var U=Y.T,F={};Y.T=F;try{var te=C(),fe=Y.S;fe!==null&&fe(F,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ie,K)}catch(ge){K(ge)}finally{U!==null&&F.types!==null&&(U.types=F.types),Y.T=U}},de.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},de.use=function(C){return Y.H.use(C)},de.useActionState=function(C,U,F){return Y.H.useActionState(C,U,F)},de.useCallback=function(C,U){return Y.H.useCallback(C,U)},de.useContext=function(C){return Y.H.useContext(C)},de.useDebugValue=function(){},de.useDeferredValue=function(C,U){return Y.H.useDeferredValue(C,U)},de.useEffect=function(C,U){return Y.H.useEffect(C,U)},de.useEffectEvent=function(C){return Y.H.useEffectEvent(C)},de.useId=function(){return Y.H.useId()},de.useImperativeHandle=function(C,U,F){return Y.H.useImperativeHandle(C,U,F)},de.useInsertionEffect=function(C,U){return Y.H.useInsertionEffect(C,U)},de.useLayoutEffect=function(C,U){return Y.H.useLayoutEffect(C,U)},de.useMemo=function(C,U){return Y.H.useMemo(C,U)},de.useOptimistic=function(C,U){return Y.H.useOptimistic(C,U)},de.useReducer=function(C,U,F){return Y.H.useReducer(C,U,F)},de.useRef=function(C){return Y.H.useRef(C)},de.useState=function(C){return Y.H.useState(C)},de.useSyncExternalStore=function(C,U,F){return Y.H.useSyncExternalStore(C,U,F)},de.useTransition=function(){return Y.H.useTransition()},de.version="19.2.3",de}var Wp;function Lu(){return Wp||(Wp=1,cu.exports=yv()),cu.exports}var _e=Lu();const Ma=Qh(_e);var fu={exports:{}},jo={},du={exports:{}},pu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function vv(){return jp||(jp=1,(function(i){function t(H,Q){var re=H.length;H.push(Q);e:for(;0<re;){var K=re-1>>>1,j=H[K];if(0<r(j,Q))H[K]=Q,H[re]=j,re=K;else break e}}function l(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var Q=H[0],re=H.pop();if(re!==Q){H[0]=re;e:for(var K=0,j=H.length,C=j>>>1;K<C;){var U=2*(K+1)-1,F=H[U],te=U+1,fe=H[te];if(0>r(F,re))te<j&&0>r(fe,F)?(H[K]=fe,H[te]=re,K=te):(H[K]=F,H[U]=re,K=U);else if(te<j&&0>r(fe,re))H[K]=fe,H[te]=re,K=te;else break e}}return Q}function r(H,Q){var re=H.sortIndex-Q.sortIndex;return re!==0?re:H.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,E=null,_=3,A=!1,I=!1,w=!1,M=!1,z=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var Q=l(h);Q!==null;){if(Q.callback===null)a(h);else if(Q.startTime<=H)a(h),Q.sortIndex=Q.expirationTime,t(y,Q);else break;Q=l(h)}}function Z(H){if(w=!1,O(H),!I)if(l(y)!==null)I=!0,ie||(ie=!0,$());else{var Q=l(h);Q!==null&&it(Z,Q.startTime-H)}}var ie=!1,Y=-1,he=5,ee=-1;function X(){return M?!0:!(i.unstable_now()-ee<he)}function le(){if(M=!1,ie){var H=i.unstable_now();ee=H;var Q=!0;try{e:{I=!1,w&&(w=!1,J(Y),Y=-1),A=!0;var re=_;try{t:{for(O(H),E=l(y);E!==null&&!(E.expirationTime>H&&X());){var K=E.callback;if(typeof K=="function"){E.callback=null,_=E.priorityLevel;var j=K(E.expirationTime<=H);if(H=i.unstable_now(),typeof j=="function"){E.callback=j,O(H),Q=!0;break t}E===l(y)&&a(y),O(H)}else a(y);E=l(y)}if(E!==null)Q=!0;else{var C=l(h);C!==null&&it(Z,C.startTime-H),Q=!1}}break e}finally{E=null,_=re,A=!1}Q=void 0}}finally{Q?$():ie=!1}}}var $;if(typeof D=="function")$=function(){D(le)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Me=ue.port2;ue.port1.onmessage=le,$=function(){Me.postMessage(null)}}else $=function(){z(le,0)};function it(H,Q){Y=z(function(){H(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(H){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var re=_;_=Q;try{return H()}finally{_=re}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=_;_=H;try{return Q()}finally{_=re}},i.unstable_scheduleCallback=function(H,Q,re){var K=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?K+re:K):re=K,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=re+j,H={id:v++,callback:Q,priorityLevel:H,startTime:re,expirationTime:j,sortIndex:-1},re>K?(H.sortIndex=re,t(h,H),l(y)===null&&H===l(h)&&(w?(J(Y),Y=-1):w=!0,it(Z,re-K))):(H.sortIndex=j,t(y,H),I||A||(I=!0,ie||(ie=!0,$()))),H},i.unstable_shouldYield=X,i.unstable_wrapCallback=function(H){var Q=_;return function(){var re=_;_=Q;try{return H.apply(this,arguments)}finally{_=re}}}})(pu)),pu}var em;function Sv(){return em||(em=1,du.exports=vv()),du.exports}var mu={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function Tv(){if(tm)return ot;tm=1;var i=Lu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ot.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},ot.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},ot.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},ot.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ot.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:_,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:_,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ot.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},ot.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ot.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},ot.requestFormReset=function(y){a.d.r(y)},ot.unstable_batchedUpdates=function(y,h){return y(h)},ot.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},ot.useFormStatus=function(){return p.H.useHostTransitionStatus()},ot.version="19.2.3",ot}var nm;function Ev(){if(nm)return mu.exports;nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),mu.exports=Tv(),mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function _v(){if(im)return jo;im=1;var i=Sv(),t=Lu(),l=Ev();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=m;else{for(var S=!1,x=d.child;x;){if(x===o){S=!0,o=d,s=m;break}if(x===s){S=!0,s=d,o=m;break}x=x.sibling}if(!S){for(x=m.child;x;){if(x===o){S=!0,o=m,s=d;break}if(x===s){S=!0,s=m,o=d;break}x=x.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case z:return"Profiler";case M:return"StrictMode";case Z:return"Suspense";case ie:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case D:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:Me(e.type)||"Memo";case he:n=e._payload,e=e._init;try{return Me(e(n))}catch{}}return null}var it=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},K=[],j=-1;function C(e){return{current:e}}function U(e){0>j||(e.current=K[j],K[j]=null,j--)}function F(e,n){j++,K[j]=e.current,e.current=n}var te=C(null),fe=C(null),ge=C(null),Ne=C(null);function at(e,n){switch(F(ge,n),F(fe,e),F(te,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?vp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=vp(n),e=Sp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(te),F(te,e)}function ze(){U(te),U(fe),U(ge)}function oo(e){e.memoizedState!==null&&F(Ne,e);var n=te.current,o=Sp(n,e.type);n!==o&&(F(fe,e),F(te,o))}function ll(e){fe.current===e&&(U(te),U(fe)),Ne.current===e&&(U(Ne),Ko._currentValue=re)}var Ya,Xu;function Fn(e){if(Ya===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Ya=n&&n[1]||"",Xu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ya+e+Xu}var Ja=!1;function Xa(e,n){if(!e||Ja)return"";Ja=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(k){var G=k}Reflect.construct(e,[],P)}else{try{P.call()}catch(k){G=k}e.call(P.prototype)}}else{try{throw Error()}catch(k){G=k}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(k){if(k&&G&&typeof k.stack=="string")return[k.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),S=m[0],x=m[1];if(S&&x){var b=S.split(`
`),V=x.split(`
`);for(d=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;d<V.length&&!V[d].includes("DetermineComponentFrameRoot");)d++;if(s===b.length||d===V.length)for(s=b.length-1,d=V.length-1;1<=s&&0<=d&&b[s]!==V[d];)d--;for(;1<=s&&0<=d;s--,d--)if(b[s]!==V[d]){if(s!==1||d!==1)do if(s--,d--,0>d||b[s]!==V[d]){var q=`
`+b[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=d);break}}}finally{Ja=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Fn(o):""}function Jg(e,n){switch(e.tag){case 26:case 27:case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return e.child!==n&&n!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Xa(e.type,!1);case 11:return Xa(e.type.render,!1);case 1:return Xa(e.type,!0);case 31:return Fn("Activity");default:return""}}function Ku(e){try{var n="",o=null;do n+=Jg(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ka=Object.prototype.hasOwnProperty,Qa=i.unstable_scheduleCallback,Za=i.unstable_cancelCallback,Xg=i.unstable_shouldYield,Kg=i.unstable_requestPaint,yt=i.unstable_now,Qg=i.unstable_getCurrentPriorityLevel,Qu=i.unstable_ImmediatePriority,Zu=i.unstable_UserBlockingPriority,al=i.unstable_NormalPriority,Zg=i.unstable_LowPriority,$u=i.unstable_IdlePriority,$g=i.log,Wg=i.unstable_setDisableYieldValue,lo=null,vt=null;function yn(e){if(typeof $g=="function"&&Wg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(lo,e)}catch{}}var St=Math.clz32?Math.clz32:t0,jg=Math.log,e0=Math.LN2;function t0(e){return e>>>=0,e===0?32:31-(jg(e)/e0|0)|0}var sl=256,rl=262144,ul=4194304;function Yn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cl(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~m,s!==0?d=Yn(s):(S&=x,S!==0?d=Yn(S):o||(o=x&~e,o!==0&&(d=Yn(o))))):(x=s&~m,x!==0?d=Yn(x):S!==0?d=Yn(S):o||(o=s&~e,o!==0&&(d=Yn(o)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,o=n&-n,m>=o||m===32&&(o&4194048)!==0)?n:d}function ao(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function n0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wu(){var e=ul;return ul<<=1,(ul&62914560)===0&&(ul=4194304),e}function $a(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function so(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function i0(e,n,o,s,d,m){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var x=e.entanglements,b=e.expirationTimes,V=e.hiddenUpdates;for(o=S&~o;0<o;){var q=31-St(o),P=1<<q;x[q]=0,b[q]=-1;var G=V[q];if(G!==null)for(V[q]=null,q=0;q<G.length;q++){var k=G[q];k!==null&&(k.lane&=-536870913)}o&=~P}s!==0&&ju(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function ju(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-St(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function ec(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-St(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function tc(e,n){var o=n&-n;return o=(o&42)!==0?1:Wa(o),(o&(e.suspendedLanes|n))!==0?0:o}function Wa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nc(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Pp(e.type))}function ic(e,n){var o=Q.p;try{return Q.p=e,n()}finally{Q.p=o}}var vn=Math.random().toString(36).slice(2),$e="__reactFiber$"+vn,ct="__reactProps$"+vn,fi="__reactContainer$"+vn,es="__reactEvents$"+vn,o0="__reactListeners$"+vn,l0="__reactHandles$"+vn,oc="__reactResources$"+vn,ro="__reactMarker$"+vn;function ts(e){delete e[$e],delete e[ct],delete e[es],delete e[o0],delete e[l0]}function di(e){var n=e[$e];if(n)return n;for(var o=e.parentNode;o;){if(n=o[fi]||o[$e]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=bp(e);e!==null;){if(o=e[$e])return o;e=bp(e)}return n}e=o,o=e.parentNode}return null}function pi(e){if(e=e[$e]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function uo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function mi(e){var n=e[oc];return n||(n=e[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ke(e){e[ro]=!0}var lc=new Set,ac={};function Jn(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(ac[e]=n,e=0;e<n.length;e++)lc.add(n[e])}var a0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sc={},rc={};function s0(e){return Ka.call(rc,e)?!0:Ka.call(sc,e)?!1:a0.test(e)?rc[e]=!0:(sc[e]=!0,!1)}function fl(e,n,o){if(s0(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function dl(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Qt(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function r0(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ns(e){if(!e._valueTracker){var n=uc(e)?"checked":"value";e._valueTracker=r0(e,n,""+e[n])}}function cc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=uc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var u0=/[\n"\\]/g;function Rt(e){return e.replace(u0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function is(e,n,o,s,d,m,S,x){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Nt(n)):e.value!==""+Nt(n)&&(e.value=""+Nt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?os(e,S,Nt(n)):o!=null?os(e,S,Nt(o)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Nt(x):e.removeAttribute("name")}function fc(e,n,o,s,d,m,S,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ns(e);return}o=o!=null?""+Nt(o):"",n=n!=null?""+Nt(n):o,x||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ns(e)}function os(e,n,o){n==="number"&&pl(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function gi(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Nt(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function dc(e,n,o){if(n!=null&&(n=""+Nt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Nt(o):""}function pc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(it(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=Nt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),ns(e)}function yi(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var c0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||c0.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function hc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&mc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&mc(e,m,n[m])}function ls(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(e){return d0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zt(){}var as=null;function ss(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Si=null;function gc(e){var n=pi(e);if(n&&(e=n.stateNode)){var o=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(is(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[ct]||null;if(!d)throw Error(a(90));is(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&cc(s)}break e;case"textarea":dc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&gi(e,!!o.multiple,n,!1)}}}var rs=!1;function yc(e,n,o){if(rs)return e(n,o);rs=!0;try{var s=e(n);return s}finally{if(rs=!1,(vi!==null||Si!==null)&&(ta(),vi&&(n=vi,e=Si,Si=vi=null,gc(n),e)))for(n=0;n<e.length;n++)gc(e[n])}}function co(e,n){var o=e.stateNode;if(o===null)return null;var s=o[ct]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if($t)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){us=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{us=!1}var Sn=null,cs=null,hl=null;function vc(){if(hl)return hl;var e,n=cs,o=n.length,s,d="value"in Sn?Sn.value:Sn.textContent,m=d.length;for(e=0;e<o&&n[e]===d[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===d[m-s];s++);return hl=d.slice(e,1<s?1-s:void 0)}function gl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function Sc(){return!1}function ft(e){function n(o,s,d,m,S){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(o=e[x],this[x]=o?o(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?yl:Sc,this.isPropagationStopped=Sc,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),n}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=ft(Xn),po=E({},Xn,{view:0,detail:0}),p0=ft(po),fs,ds,mo,Sl=E({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mo&&(mo&&e.type==="mousemove"?(fs=e.screenX-mo.screenX,ds=e.screenY-mo.screenY):ds=fs=0,mo=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ds}}),Tc=ft(Sl),m0=E({},Sl,{dataTransfer:0}),h0=ft(m0),g0=E({},po,{relatedTarget:0}),ps=ft(g0),y0=E({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=ft(y0),S0=E({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T0=ft(S0),E0=E({},Xn,{data:0}),Ec=ft(E0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=C0[e])?!!n[e]:!1}function ms(){return A0}var b0=E({},po,{key:function(e){if(e.key){var n=_0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N0=ft(b0),R0=E({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_c=ft(R0),w0=E({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),M0=ft(w0),I0=E({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),D0=ft(I0),U0=E({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L0=ft(U0),V0=E({},Xn,{newState:0,oldState:0}),G0=ft(V0),k0=[9,13,27,32],hs=$t&&"CompositionEvent"in window,ho=null;$t&&"documentMode"in document&&(ho=document.documentMode);var H0=$t&&"TextEvent"in window&&!ho,xc=$t&&(!hs||ho&&8<ho&&11>=ho),Cc=" ",Ac=!1;function bc(e,n){switch(e){case"keyup":return k0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ti=!1;function q0(e,n){switch(e){case"compositionend":return Nc(n);case"keypress":return n.which!==32?null:(Ac=!0,Cc);case"textInput":return e=n.data,e===Cc&&Ac?null:e;default:return null}}function z0(e,n){if(Ti)return e==="compositionend"||!hs&&bc(e,n)?(e=vc(),hl=cs=Sn=null,Ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xc&&n.locale!=="ko"?null:n.data;default:return null}}var B0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!B0[e.type]:n==="textarea"}function wc(e,n,o,s){vi?Si?Si.push(s):Si=[s]:vi=s,n=ra(n,"onChange"),0<n.length&&(o=new vl("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var go=null,yo=null;function P0(e){dp(e,0)}function Tl(e){var n=uo(e);if(cc(n))return e}function Mc(e,n){if(e==="change")return n}var Ic=!1;if($t){var gs;if($t){var ys="oninput"in document;if(!ys){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),ys=typeof Dc.oninput=="function"}gs=ys}else gs=!1;Ic=gs&&(!document.documentMode||9<document.documentMode)}function Uc(){go&&(go.detachEvent("onpropertychange",Lc),yo=go=null)}function Lc(e){if(e.propertyName==="value"&&Tl(yo)){var n=[];wc(n,yo,e,ss(e)),yc(P0,n)}}function O0(e,n,o){e==="focusin"?(Uc(),go=n,yo=o,go.attachEvent("onpropertychange",Lc)):e==="focusout"&&Uc()}function F0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tl(yo)}function Y0(e,n){if(e==="click")return Tl(n)}function J0(e,n){if(e==="input"||e==="change")return Tl(n)}function X0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tt=typeof Object.is=="function"?Object.is:X0;function vo(e,n){if(Tt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!Ka.call(n,d)||!Tt(e[d],n[d]))return!1}return!0}function Vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gc(e,n){var o=Vc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vc(o)}}function kc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Hc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pl(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=pl(e.document)}return n}function vs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var K0=$t&&"documentMode"in document&&11>=document.documentMode,Ei=null,Ss=null,So=null,Ts=!1;function qc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ts||Ei==null||Ei!==pl(s)||(s=Ei,"selectionStart"in s&&vs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),So&&vo(So,s)||(So=s,s=ra(Ss,"onSelect"),0<s.length&&(n=new vl("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=Ei)))}function Kn(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var _i={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionrun:Kn("Transition","TransitionRun"),transitionstart:Kn("Transition","TransitionStart"),transitioncancel:Kn("Transition","TransitionCancel"),transitionend:Kn("Transition","TransitionEnd")},Es={},zc={};$t&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Qn(e){if(Es[e])return Es[e];if(!_i[e])return e;var n=_i[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in zc)return Es[e]=n[o];return e}var Bc=Qn("animationend"),Pc=Qn("animationiteration"),Oc=Qn("animationstart"),Q0=Qn("transitionrun"),Z0=Qn("transitionstart"),$0=Qn("transitioncancel"),Fc=Qn("transitionend"),Yc=new Map,_s="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_s.push("scrollEnd");function qt(e,n){Yc.set(e,n),Jn(n,[e])}var El=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wt=[],xi=0,xs=0;function _l(){for(var e=xi,n=xs=xi=0;n<e;){var o=wt[n];wt[n++]=null;var s=wt[n];wt[n++]=null;var d=wt[n];wt[n++]=null;var m=wt[n];if(wt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}m!==0&&Jc(o,d,m)}}function xl(e,n,o,s){wt[xi++]=e,wt[xi++]=n,wt[xi++]=o,wt[xi++]=s,xs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Cs(e,n,o,s){return xl(e,n,o,s),Cl(e)}function Zn(e,n){return xl(e,null,null,n),Cl(e)}function Jc(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,m=e.return;m!==null;)m.childLanes|=o,s=m.alternate,s!==null&&(s.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-St(o),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),m):null}function Cl(e){if(50<Bo)throw Bo=0,Ur=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ci={};function W0(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,n,o,s){return new W0(e,n,o,s)}function As(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,n){var o=e.alternate;return o===null?(o=Et(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Xc(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Al(e,n,o,s,d,m){var S=0;if(s=e,typeof e=="function")As(e)&&(S=1);else if(typeof e=="string")S=iv(e,o,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Et(31,o,n,d),e.elementType=ee,e.lanes=m,e;case w:return $n(o.children,d,m,n);case M:S=8,d|=24;break;case z:return e=Et(12,o,n,d|2),e.elementType=z,e.lanes=m,e;case Z:return e=Et(13,o,n,d),e.elementType=Z,e.lanes=m,e;case ie:return e=Et(19,o,n,d),e.elementType=ie,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:S=10;break e;case J:S=9;break e;case O:S=11;break e;case Y:S=14;break e;case he:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Et(S,o,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function $n(e,n,o,s){return e=Et(7,e,s,n),e.lanes=o,e}function bs(e,n,o){return e=Et(6,e,null,n),e.lanes=o,e}function Kc(e){var n=Et(18,null,null,0);return n.stateNode=e,n}function Ns(e,n,o){return n=Et(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Qc=new WeakMap;function Mt(e,n){if(typeof e=="object"&&e!==null){var o=Qc.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Ku(n)},Qc.set(e,n),n)}return{value:e,source:n,stack:Ku(n)}}var Ai=[],bi=0,bl=null,To=0,It=[],Dt=0,Tn=null,Yt=1,Jt="";function jt(e,n){Ai[bi++]=To,Ai[bi++]=bl,bl=e,To=n}function Zc(e,n,o){It[Dt++]=Yt,It[Dt++]=Jt,It[Dt++]=Tn,Tn=e;var s=Yt;e=Jt;var d=32-St(s)-1;s&=~(1<<d),o+=1;var m=32-St(n)+d;if(30<m){var S=d-d%5;m=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Yt=1<<32-St(n)+d|o<<d|s,Jt=m+e}else Yt=1<<m|o<<d|s,Jt=e}function Rs(e){e.return!==null&&(jt(e,1),Zc(e,1,0))}function ws(e){for(;e===bl;)bl=Ai[--bi],Ai[bi]=null,To=Ai[--bi],Ai[bi]=null;for(;e===Tn;)Tn=It[--Dt],It[Dt]=null,Jt=It[--Dt],It[Dt]=null,Yt=It[--Dt],It[Dt]=null}function $c(e,n){It[Dt++]=Yt,It[Dt++]=Jt,It[Dt++]=Tn,Yt=n.id,Jt=n.overflow,Tn=e}var We=null,Ve=null,Ee=!1,En=null,Ut=!1,Ms=Error(a(519));function _n(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eo(Mt(n,e)),Ms}function Wc(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[$e]=e,n[ct]=s,o){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(o=0;o<Oo.length;o++)ve(Oo[o],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":ve("invalid",n),fc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ve("invalid",n);break;case"textarea":ve("invalid",n),pc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||gp(n.textContent,o)?(s.popover!=null&&(ve("beforetoggle",n),ve("toggle",n)),s.onScroll!=null&&ve("scroll",n),s.onScrollEnd!=null&&ve("scrollend",n),s.onClick!=null&&(n.onclick=Zt),n=!0):n=!1,n||_n(e,!0)}function jc(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:We=We.return}}function Ni(e){if(e!==We)return!1;if(!Ee)return jc(e),Ee=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Kr(e.type,e.memoizedProps)),o=!o),o&&Ve&&_n(e),jc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=Ap(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=Ap(e)}else n===27?(n=Ve,Gn(e.type)?(e=jr,jr=null,Ve=e):Ve=n):Ve=We?Vt(e.stateNode.nextSibling):null;return!0}function Wn(){Ve=We=null,Ee=!1}function Is(){var e=En;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),En=null),e}function Eo(e){En===null?En=[e]:En.push(e)}var Ds=C(null),jn=null,en=null;function xn(e,n,o){F(Ds,n._currentValue),n._currentValue=o}function tn(e){e._currentValue=Ds.current,U(Ds)}function Us(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Ls(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=d;for(var b=0;b<n.length;b++)if(x.context===n[b]){m.lanes|=o,x=m.alternate,x!==null&&(x.lanes|=o),Us(m.return,o,e),s||(S=null);break e}m=x.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,m=S.alternate,m!==null&&(m.lanes|=o),Us(S,o,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Ri(e,n,o,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var x=d.type;Tt(d.pendingProps.value,S.value)||(e!==null?e.push(x):e=[x])}}else if(d===Ne.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Ko):e=[Ko])}d=d.return}e!==null&&Ls(n,e,o,s),n.flags|=262144}function Nl(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ei(e){jn=e,en=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return ef(jn,e)}function Rl(e,n){return jn===null&&ei(e),ef(e,n)}function ef(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},en===null){if(e===null)throw Error(a(308));en=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else en=en.next=n;return o}var j0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},ey=i.unstable_scheduleCallback,ty=i.unstable_NormalPriority,Oe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vs(){return{controller:new j0,data:new Map,refCount:0}}function _o(e){e.refCount--,e.refCount===0&&ey(ty,function(){e.controller.abort()})}var xo=null,Gs=0,wi=0,Mi=null;function ny(e,n){if(xo===null){var o=xo=[];Gs=0,wi=qr(),Mi={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Gs++,n.then(tf,tf),n}function tf(){if(--Gs===0&&xo!==null){Mi!==null&&(Mi.status="fulfilled");var e=xo;xo=null,wi=0,Mi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function iy(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var nf=H.S;H.S=function(e,n){zd=yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ny(e,n),nf!==null&&nf(e,n)};var ti=C(null);function ks(){var e=ti.current;return e!==null?e:Le.pooledCache}function wl(e,n){n===null?F(ti,ti.current):F(ti,n.pool)}function of(){var e=ks();return e===null?null:{parent:Oe._currentValue,pool:e}}var Ii=Error(a(460)),Hs=Error(a(474)),Ml=Error(a(542)),Il={then:function(){}};function lf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function af(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Zt,Zt),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rf(e),e;default:if(typeof n.status=="string")n.then(Zt,Zt);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rf(e),e}throw ii=n,Ii}}function ni(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ii=o,Ii):o}}var ii=null;function sf(){if(ii===null)throw Error(a(459));var e=ii;return ii=null,e}function rf(e){if(e===Ii||e===Ml)throw Error(a(483))}var Di=null,Co=0;function Dl(e){var n=Co;return Co+=1,Di===null&&(Di=[]),af(Di,e,n)}function Ao(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ul(e,n){throw n.$$typeof===_?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function uf(e){function n(R,N){if(e){var L=R.deletions;L===null?(R.deletions=[N],R.flags|=16):L.push(N)}}function o(R,N){if(!e)return null;for(;N!==null;)n(R,N),N=N.sibling;return null}function s(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function d(R,N){return R=Wt(R,N),R.index=0,R.sibling=null,R}function m(R,N,L){return R.index=L,e?(L=R.alternate,L!==null?(L=L.index,L<N?(R.flags|=67108866,N):L):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function x(R,N,L,B){return N===null||N.tag!==6?(N=bs(L,R.mode,B),N.return=R,N):(N=d(N,L),N.return=R,N)}function b(R,N,L,B){var ae=L.type;return ae===w?q(R,N,L.props.children,B,L.key):N!==null&&(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===he&&ni(ae)===N.type)?(N=d(N,L.props),Ao(N,L),N.return=R,N):(N=Al(L.type,L.key,L.props,null,R.mode,B),Ao(N,L),N.return=R,N)}function V(R,N,L,B){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Ns(L,R.mode,B),N.return=R,N):(N=d(N,L.children||[]),N.return=R,N)}function q(R,N,L,B,ae){return N===null||N.tag!==7?(N=$n(L,R.mode,B,ae),N.return=R,N):(N=d(N,L),N.return=R,N)}function P(R,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=bs(""+N,R.mode,L),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return L=Al(N.type,N.key,N.props,null,R.mode,L),Ao(L,N),L.return=R,L;case I:return N=Ns(N,R.mode,L),N.return=R,N;case he:return N=ni(N),P(R,N,L)}if(it(N)||$(N))return N=$n(N,R.mode,L,null),N.return=R,N;if(typeof N.then=="function")return P(R,Dl(N),L);if(N.$$typeof===D)return P(R,Rl(R,N),L);Ul(R,N)}return null}function G(R,N,L,B){var ae=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ae!==null?null:x(R,N,""+L,B);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return L.key===ae?b(R,N,L,B):null;case I:return L.key===ae?V(R,N,L,B):null;case he:return L=ni(L),G(R,N,L,B)}if(it(L)||$(L))return ae!==null?null:q(R,N,L,B,null);if(typeof L.then=="function")return G(R,N,Dl(L),B);if(L.$$typeof===D)return G(R,N,Rl(R,L),B);Ul(R,L)}return null}function k(R,N,L,B,ae){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return R=R.get(L)||null,x(N,R,""+B,ae);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return R=R.get(B.key===null?L:B.key)||null,b(N,R,B,ae);case I:return R=R.get(B.key===null?L:B.key)||null,V(N,R,B,ae);case he:return B=ni(B),k(R,N,L,B,ae)}if(it(B)||$(B))return R=R.get(L)||null,q(N,R,B,ae,null);if(typeof B.then=="function")return k(R,N,L,Dl(B),ae);if(B.$$typeof===D)return k(R,N,L,Rl(N,B),ae);Ul(N,B)}return null}function ne(R,N,L,B){for(var ae=null,xe=null,oe=N,me=N=0,Te=null;oe!==null&&me<L.length;me++){oe.index>me?(Te=oe,oe=null):Te=oe.sibling;var Ce=G(R,oe,L[me],B);if(Ce===null){oe===null&&(oe=Te);break}e&&oe&&Ce.alternate===null&&n(R,oe),N=m(Ce,N,me),xe===null?ae=Ce:xe.sibling=Ce,xe=Ce,oe=Te}if(me===L.length)return o(R,oe),Ee&&jt(R,me),ae;if(oe===null){for(;me<L.length;me++)oe=P(R,L[me],B),oe!==null&&(N=m(oe,N,me),xe===null?ae=oe:xe.sibling=oe,xe=oe);return Ee&&jt(R,me),ae}for(oe=s(oe);me<L.length;me++)Te=k(oe,R,me,L[me],B),Te!==null&&(e&&Te.alternate!==null&&oe.delete(Te.key===null?me:Te.key),N=m(Te,N,me),xe===null?ae=Te:xe.sibling=Te,xe=Te);return e&&oe.forEach(function(Bn){return n(R,Bn)}),Ee&&jt(R,me),ae}function se(R,N,L,B){if(L==null)throw Error(a(151));for(var ae=null,xe=null,oe=N,me=N=0,Te=null,Ce=L.next();oe!==null&&!Ce.done;me++,Ce=L.next()){oe.index>me?(Te=oe,oe=null):Te=oe.sibling;var Bn=G(R,oe,Ce.value,B);if(Bn===null){oe===null&&(oe=Te);break}e&&oe&&Bn.alternate===null&&n(R,oe),N=m(Bn,N,me),xe===null?ae=Bn:xe.sibling=Bn,xe=Bn,oe=Te}if(Ce.done)return o(R,oe),Ee&&jt(R,me),ae;if(oe===null){for(;!Ce.done;me++,Ce=L.next())Ce=P(R,Ce.value,B),Ce!==null&&(N=m(Ce,N,me),xe===null?ae=Ce:xe.sibling=Ce,xe=Ce);return Ee&&jt(R,me),ae}for(oe=s(oe);!Ce.done;me++,Ce=L.next())Ce=k(oe,R,me,Ce.value,B),Ce!==null&&(e&&Ce.alternate!==null&&oe.delete(Ce.key===null?me:Ce.key),N=m(Ce,N,me),xe===null?ae=Ce:xe.sibling=Ce,xe=Ce);return e&&oe.forEach(function(mv){return n(R,mv)}),Ee&&jt(R,me),ae}function Ue(R,N,L,B){if(typeof L=="object"&&L!==null&&L.type===w&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case A:e:{for(var ae=L.key;N!==null;){if(N.key===ae){if(ae=L.type,ae===w){if(N.tag===7){o(R,N.sibling),B=d(N,L.props.children),B.return=R,R=B;break e}}else if(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===he&&ni(ae)===N.type){o(R,N.sibling),B=d(N,L.props),Ao(B,L),B.return=R,R=B;break e}o(R,N);break}else n(R,N);N=N.sibling}L.type===w?(B=$n(L.props.children,R.mode,B,L.key),B.return=R,R=B):(B=Al(L.type,L.key,L.props,null,R.mode,B),Ao(B,L),B.return=R,R=B)}return S(R);case I:e:{for(ae=L.key;N!==null;){if(N.key===ae)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){o(R,N.sibling),B=d(N,L.children||[]),B.return=R,R=B;break e}else{o(R,N);break}else n(R,N);N=N.sibling}B=Ns(L,R.mode,B),B.return=R,R=B}return S(R);case he:return L=ni(L),Ue(R,N,L,B)}if(it(L))return ne(R,N,L,B);if($(L)){if(ae=$(L),typeof ae!="function")throw Error(a(150));return L=ae.call(L),se(R,N,L,B)}if(typeof L.then=="function")return Ue(R,N,Dl(L),B);if(L.$$typeof===D)return Ue(R,N,Rl(R,L),B);Ul(R,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(o(R,N.sibling),B=d(N,L),B.return=R,R=B):(o(R,N),B=bs(L,R.mode,B),B.return=R,R=B),S(R)):o(R,N)}return function(R,N,L,B){try{Co=0;var ae=Ue(R,N,L,B);return Di=null,ae}catch(oe){if(oe===Ii||oe===Ml)throw oe;var xe=Et(29,oe,null,R.mode);return xe.lanes=B,xe.return=R,xe}finally{}}}var oi=uf(!0),cf=uf(!1),Cn=!1;function qs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(be&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Cl(e),Jc(e,null,o),n}return xl(e,s,n,o),Cl(e)}function bo(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,ec(e,o)}}function Bs(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,o=o.next}while(o!==null);m===null?d=m=n:m=m.next=n}else d=m=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Ps=!1;function No(){if(Ps){var e=Mi;if(e!==null)throw e}}function Ro(e,n,o,s){Ps=!1;var d=e.updateQueue;Cn=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var b=x,V=b.next;b.next=null,S===null?m=V:S.next=V,S=b;var q=e.alternate;q!==null&&(q=q.updateQueue,x=q.lastBaseUpdate,x!==S&&(x===null?q.firstBaseUpdate=V:x.next=V,q.lastBaseUpdate=b))}if(m!==null){var P=d.baseState;S=0,q=V=b=null,x=m;do{var G=x.lane&-536870913,k=G!==x.lane;if(k?(Se&G)===G:(s&G)===G){G!==0&&G===wi&&(Ps=!0),q!==null&&(q=q.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ne=e,se=x;G=n;var Ue=o;switch(se.tag){case 1:if(ne=se.payload,typeof ne=="function"){P=ne.call(Ue,P,G);break e}P=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=se.payload,G=typeof ne=="function"?ne.call(Ue,P,G):ne,G==null)break e;P=E({},P,G);break e;case 2:Cn=!0}}G=x.callback,G!==null&&(e.flags|=64,k&&(e.flags|=8192),k=d.callbacks,k===null?d.callbacks=[G]:k.push(G))}else k={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},q===null?(V=q=k,b=P):q=q.next=k,S|=G;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;k=x,x=k.next,k.next=null,d.lastBaseUpdate=k,d.shared.pending=null}}while(!0);q===null&&(b=P),d.baseState=b,d.firstBaseUpdate=V,d.lastBaseUpdate=q,m===null&&(d.shared.lanes=0),In|=S,e.lanes=S,e.memoizedState=P}}function ff(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function df(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)ff(o[e],n)}var Ui=C(null),Ll=C(0);function pf(e,n){e=fn,F(Ll,e),F(Ui,n),fn=e|n.baseLanes}function Os(){F(Ll,fn),F(Ui,Ui.current)}function Fs(){fn=Ll.current,U(Ui),U(Ll)}var _t=C(null),Lt=null;function Nn(e){var n=e.alternate;F(Be,Be.current&1),F(_t,e),Lt===null&&(n===null||Ui.current!==null||n.memoizedState!==null)&&(Lt=e)}function Ys(e){F(Be,Be.current),F(_t,e),Lt===null&&(Lt=e)}function mf(e){e.tag===22?(F(Be,Be.current),F(_t,e),Lt===null&&(Lt=e)):Rn()}function Rn(){F(Be,Be.current),F(_t,_t.current)}function xt(e){U(_t),Lt===e&&(Lt=null),U(Be)}var Be=C(0);function Vl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||$r(o)||Wr(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nn=0,pe=null,Ie=null,Fe=null,Gl=!1,Li=!1,li=!1,kl=0,wo=0,Vi=null,oy=0;function He(){throw Error(a(321))}function Js(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Tt(e[o],n[o]))return!1;return!0}function Xs(e,n,o,s,d,m){return nn=m,pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?$f:rr,li=!1,m=o(s,d),li=!1,Li&&(m=gf(n,o,s,d)),hf(e),m}function hf(e){H.H=Do;var n=Ie!==null&&Ie.next!==null;if(nn=0,Fe=Ie=pe=null,Gl=!1,wo=0,Vi=null,n)throw Error(a(300));e===null||Ye||(e=e.dependencies,e!==null&&Nl(e)&&(Ye=!0))}function gf(e,n,o,s){pe=e;var d=0;do{if(Li&&(Vi=null),wo=0,Li=!1,25<=d)throw Error(a(301));if(d+=1,Fe=Ie=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=Wf,m=n(o,s)}while(Li);return m}function ly(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Mo(n):n,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(pe.flags|=1024),n}function Ks(){var e=kl!==0;return kl=0,e}function Qs(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Zs(e){if(Gl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Gl=!1}nn=0,Fe=Ie=pe=null,Li=!1,wo=kl=0,Vi=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?pe.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Pe(){if(Ie===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var n=Fe===null?pe.memoizedState:Fe.next;if(n!==null)Fe=n,Ie=e;else{if(e===null)throw pe.alternate===null?Error(a(467)):Error(a(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Fe===null?pe.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Hl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(e){var n=wo;return wo+=1,Vi===null&&(Vi=[]),e=af(Vi,e,n),n=pe,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$f:rr),e}function ql(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mo(e);if(e.$$typeof===D)return je(e)}throw Error(a(438,String(e)))}function $s(e){var n=null,o=pe.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=pe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Hl(),pe.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=X;return n.index++,o}function on(e,n){return typeof n=="function"?n(e):n}function zl(e){var n=Pe();return Ws(n,Ie,e)}function Ws(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var x=S=null,b=null,V=n,q=!1;do{var P=V.lane&-536870913;if(P!==V.lane?(Se&P)===P:(nn&P)===P){var G=V.revertLane;if(G===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),P===wi&&(q=!0);else if((nn&G)===G){V=V.next,G===wi&&(q=!0);continue}else P={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},b===null?(x=b=P,S=m):b=b.next=P,pe.lanes|=G,In|=G;P=V.action,li&&o(m,P),m=V.hasEagerState?V.eagerState:o(m,P)}else G={lane:P,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},b===null?(x=b=G,S=m):b=b.next=G,pe.lanes|=P,In|=P;V=V.next}while(V!==null&&V!==n);if(b===null?S=m:b.next=x,!Tt(m,e.memoizedState)&&(Ye=!0,q&&(o=Mi,o!==null)))throw o;e.memoizedState=m,e.baseState=S,e.baseQueue=b,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function js(e){var n=Pe(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,m=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do m=e(m,S.action),S=S.next;while(S!==d);Tt(m,n.memoizedState)||(Ye=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,s]}function yf(e,n,o){var s=pe,d=Pe(),m=Ee;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!Tt((Ie||d).memoizedState,o);if(S&&(d.memoizedState=o,Ye=!0),d=d.queue,nr(Tf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,Gi(9,{destroy:void 0},Sf.bind(null,s,d,o,n),null),Le===null)throw Error(a(349));m||(nn&127)!==0||vf(s,n,o)}return o}function vf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=pe.updateQueue,n===null?(n=Hl(),pe.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Sf(e,n,o,s){n.value=o,n.getSnapshot=s,Ef(n)&&_f(e)}function Tf(e,n,o){return o(function(){Ef(n)&&_f(e)})}function Ef(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Tt(e,o)}catch{return!0}}function _f(e){var n=Zn(e,2);n!==null&&gt(n,e,2)}function er(e){var n=st();if(typeof e=="function"){var o=e;if(e=o(),li){yn(!0);try{o()}finally{yn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:e},n}function xf(e,n,o,s){return e.baseState=o,Ws(e,Ie,typeof s=="function"?s:on)}function ay(e,n,o,s,d){if(Ol(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};H.T!==null?o(!0):m.isTransition=!1,s(m),o=n.pending,o===null?(m.next=n.pending=m,Cf(n,m)):(m.next=o.next,n.pending=o.next=m)}}function Cf(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=H.T,S={};H.T=S;try{var x=o(d,s),b=H.S;b!==null&&b(S,x),Af(e,n,x)}catch(V){tr(e,n,V)}finally{m!==null&&S.types!==null&&(m.types=S.types),H.T=m}}else try{m=o(d,s),Af(e,n,m)}catch(V){tr(e,n,V)}}function Af(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){bf(e,n,s)},function(s){return tr(e,n,s)}):bf(e,n,o)}function bf(e,n,o){n.status="fulfilled",n.value=o,Nf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Cf(e,o)))}function tr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Nf(n),n=n.next;while(n!==s)}e.action=null}function Nf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rf(e,n){return n}function wf(e,n){if(Ee){var o=Le.formState;if(o!==null){e:{var s=pe;if(Ee){if(Ve){t:{for(var d=Ve,m=Ut;d.nodeType!==8;){if(!m){d=null;break t}if(d=Vt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Ve=Vt(d.nextSibling),s=d.data==="F!";break e}}_n(s)}s=!1}s&&(n=o[0])}}return o=st(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:n},o.queue=s,o=Kf.bind(null,pe,s),s.dispatch=o,s=er(!1),m=sr.bind(null,pe,!1,s.queue),s=st(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=ay.bind(null,pe,d,m,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function Mf(e){var n=Pe();return If(n,Ie,e)}function If(e,n,o){if(n=Ws(e,n,Rf)[0],e=zl(on)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Mo(n)}catch(S){throw S===Ii?Ml:S}else s=n;n=Pe();var d=n.queue,m=d.dispatch;return o!==n.memoizedState&&(pe.flags|=2048,Gi(9,{destroy:void 0},sy.bind(null,d,o),null)),[s,m,e]}function sy(e,n){e.action=n}function Df(e){var n=Pe(),o=Ie;if(o!==null)return If(n,o,e);Pe(),n=n.memoizedState,o=Pe();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Gi(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=pe.updateQueue,n===null&&(n=Hl(),pe.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Uf(){return Pe().memoizedState}function Bl(e,n,o,s){var d=st();pe.flags|=e,d.memoizedState=Gi(1|n,{destroy:void 0},o,s===void 0?null:s)}function Pl(e,n,o,s){var d=Pe();s=s===void 0?null:s;var m=d.memoizedState.inst;Ie!==null&&s!==null&&Js(s,Ie.memoizedState.deps)?d.memoizedState=Gi(n,m,o,s):(pe.flags|=e,d.memoizedState=Gi(1|n,m,o,s))}function Lf(e,n){Bl(8390656,8,e,n)}function nr(e,n){Pl(2048,8,e,n)}function ry(e){pe.flags|=4;var n=pe.updateQueue;if(n===null)n=Hl(),pe.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Vf(e){var n=Pe().memoizedState;return ry({ref:n,nextImpl:e}),function(){if((be&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Gf(e,n){return Pl(4,2,e,n)}function kf(e,n){return Pl(4,4,e,n)}function Hf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qf(e,n,o){o=o!=null?o.concat([e]):null,Pl(4,4,Hf.bind(null,n,e),o)}function ir(){}function zf(e,n){var o=Pe();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&Js(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function Bf(e,n){var o=Pe();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&Js(n,s[1]))return s[0];if(s=e(),li){yn(!0);try{e()}finally{yn(!1)}}return o.memoizedState=[s,n],s}function or(e,n,o){return o===void 0||(nn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=Pd(),pe.lanes|=e,In|=e,o)}function Pf(e,n,o,s){return Tt(o,n)?o:Ui.current!==null?(e=or(e,o,s),Tt(e,n)||(Ye=!0),e):(nn&42)===0||(nn&1073741824)!==0&&(Se&261930)===0?(Ye=!0,e.memoizedState=o):(e=Pd(),pe.lanes|=e,In|=e,n)}function Of(e,n,o,s,d){var m=Q.p;Q.p=m!==0&&8>m?m:8;var S=H.T,x={};H.T=x,sr(e,!1,n,o);try{var b=d(),V=H.S;if(V!==null&&V(x,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=iy(b,s);Io(e,n,q,bt(e))}else Io(e,n,s,bt(e))}catch(P){Io(e,n,{then:function(){},status:"rejected",reason:P},bt())}finally{Q.p=m,S!==null&&x.types!==null&&(S.types=x.types),H.T=S}}function uy(){}function lr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=Ff(e).queue;Of(e,d,n,re,o===null?uy:function(){return Yf(e),o(s)})}function Ff(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:re},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yf(e){var n=Ff(e);n.next===null&&(n=e.alternate.memoizedState),Io(e,n.next.queue,{},bt())}function ar(){return je(Ko)}function Jf(){return Pe().memoizedState}function Xf(){return Pe().memoizedState}function cy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=bt();e=An(o);var s=bn(n,e,o);s!==null&&(gt(s,n,o),bo(s,n,o)),n={cache:Vs()},e.payload=n;return}n=n.return}}function fy(e,n,o){var s=bt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ol(e)?Qf(n,o):(o=Cs(e,n,o,s),o!==null&&(gt(o,e,s),Zf(o,n,s)))}function Kf(e,n,o){var s=bt();Io(e,n,o,s)}function Io(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ol(e))Qf(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,x=m(S,o);if(d.hasEagerState=!0,d.eagerState=x,Tt(x,S))return xl(e,n,d,0),Le===null&&_l(),!1}catch{}finally{}if(o=Cs(e,n,d,s),o!==null)return gt(o,e,s),Zf(o,n,s),!0}return!1}function sr(e,n,o,s){if(s={lane:2,revertLane:qr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ol(e)){if(n)throw Error(a(479))}else n=Cs(e,o,s,2),n!==null&&gt(n,e,2)}function Ol(e){var n=e.alternate;return e===pe||n!==null&&n===pe}function Qf(e,n){Li=Gl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Zf(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,ec(e,o)}}var Do={readContext:je,use:ql,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};Do.useEffectEvent=He;var $f={readContext:je,use:ql,useCallback:function(e,n){return st().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:Lf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Bl(4194308,4,Hf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Bl(4194308,4,e,n)},useInsertionEffect:function(e,n){Bl(4,2,e,n)},useMemo:function(e,n){var o=st();n=n===void 0?null:n;var s=e();if(li){yn(!0);try{e()}finally{yn(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=st();if(o!==void 0){var d=o(n);if(li){yn(!0);try{o(n)}finally{yn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=fy.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var n=st();return e={current:e},n.memoizedState=e},useState:function(e){e=er(e);var n=e.queue,o=Kf.bind(null,pe,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:ir,useDeferredValue:function(e,n){var o=st();return or(o,e,n)},useTransition:function(){var e=er(!1);return e=Of.bind(null,pe,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=pe,d=st();if(Ee){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),Le===null)throw Error(a(349));(Se&127)!==0||vf(s,n,o)}d.memoizedState=o;var m={value:o,getSnapshot:n};return d.queue=m,Lf(Tf.bind(null,s,m,e),[e]),s.flags|=2048,Gi(9,{destroy:void 0},Sf.bind(null,s,m,o,n),null),o},useId:function(){var e=st(),n=Le.identifierPrefix;if(Ee){var o=Jt,s=Yt;o=(s&~(1<<32-St(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=kl++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=oy++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ar,useFormState:wf,useActionState:wf,useOptimistic:function(e){var n=st();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=sr.bind(null,pe,!0,o),o.dispatch=n,[e,n]},useMemoCache:$s,useCacheRefresh:function(){return st().memoizedState=cy.bind(null,pe)},useEffectEvent:function(e){var n=st(),o={impl:e};return n.memoizedState=o,function(){if((be&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},rr={readContext:je,use:ql,useCallback:zf,useContext:je,useEffect:nr,useImperativeHandle:qf,useInsertionEffect:Gf,useLayoutEffect:kf,useMemo:Bf,useReducer:zl,useRef:Uf,useState:function(){return zl(on)},useDebugValue:ir,useDeferredValue:function(e,n){var o=Pe();return Pf(o,Ie.memoizedState,e,n)},useTransition:function(){var e=zl(on)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:Mo(e),n]},useSyncExternalStore:yf,useId:Jf,useHostTransitionStatus:ar,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,n){var o=Pe();return xf(o,Ie,e,n)},useMemoCache:$s,useCacheRefresh:Xf};rr.useEffectEvent=Vf;var Wf={readContext:je,use:ql,useCallback:zf,useContext:je,useEffect:nr,useImperativeHandle:qf,useInsertionEffect:Gf,useLayoutEffect:kf,useMemo:Bf,useReducer:js,useRef:Uf,useState:function(){return js(on)},useDebugValue:ir,useDeferredValue:function(e,n){var o=Pe();return Ie===null?or(o,e,n):Pf(o,Ie.memoizedState,e,n)},useTransition:function(){var e=js(on)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:Mo(e),n]},useSyncExternalStore:yf,useId:Jf,useHostTransitionStatus:ar,useFormState:Df,useActionState:Df,useOptimistic:function(e,n){var o=Pe();return Ie!==null?xf(o,Ie,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:$s,useCacheRefresh:Xf};Wf.useEffectEvent=Vf;function ur(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:E({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var cr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=bt(),d=An(s);d.payload=n,o!=null&&(d.callback=o),n=bn(e,d,s),n!==null&&(gt(n,e,s),bo(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=bt(),d=An(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=bn(e,d,s),n!==null&&(gt(n,e,s),bo(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=bt(),s=An(o);s.tag=2,n!=null&&(s.callback=n),n=bn(e,s,o),n!==null&&(gt(n,e,o),bo(n,e,o))}};function jf(e,n,o,s,d,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,S):n.prototype&&n.prototype.isPureReactComponent?!vo(o,s)||!vo(d,m):!0}function ed(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&cr.enqueueReplaceState(n,n.state,null)}function ai(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=E({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function td(e){El(e)}function nd(e){console.error(e)}function id(e){El(e)}function Fl(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function od(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function fr(e,n,o){return o=An(o),o.tag=3,o.payload={element:null},o.callback=function(){Fl(e,n)},o}function ld(e){return e=An(e),e.tag=3,e}function ad(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){od(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){od(n,o,s),typeof d!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function dy(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Ri(n,o,d,!0),o=_t.current,o!==null){switch(o.tag){case 31:case 13:return Lt===null?na():o.alternate===null&&qe===0&&(qe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===Il?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Gr(e,s,d)),!1;case 22:return o.flags|=65536,s===Il?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Gr(e,s,d)),!1}throw Error(a(435,o.tag))}return Gr(e,s,d),na(),!1}if(Ee)return n=_t.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Ms&&(e=Error(a(422),{cause:s}),Eo(Mt(e,o)))):(s!==Ms&&(n=Error(a(423),{cause:s}),Eo(Mt(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Mt(s,o),d=fr(e.stateNode,s,d),Bs(e,d),qe!==4&&(qe=2)),!1;var m=Error(a(520),{cause:s});if(m=Mt(m,o),zo===null?zo=[m]:zo.push(m),qe!==4&&(qe=2),n===null)return!0;s=Mt(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=fr(o.stateNode,s,e),Bs(o,e),!1;case 1:if(n=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Dn===null||!Dn.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=ld(d),ad(d,e,o,s),Bs(o,d),!1}o=o.return}while(o!==null);return!1}var dr=Error(a(461)),Ye=!1;function et(e,n,o,s){n.child=e===null?cf(n,null,o,s):oi(n,e.child,o,s)}function sd(e,n,o,s,d){o=o.render;var m=n.ref;if("ref"in s){var S={};for(var x in s)x!=="ref"&&(S[x]=s[x])}else S=s;return ei(n),s=Xs(e,n,o,S,m,d),x=Ks(),e!==null&&!Ye?(Qs(e,n,d),ln(e,n,d)):(Ee&&x&&Rs(n),n.flags|=1,et(e,n,s,d),n.child)}function rd(e,n,o,s,d){if(e===null){var m=o.type;return typeof m=="function"&&!As(m)&&m.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=m,ud(e,n,m,s,d)):(e=Al(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Tr(e,d)){var S=m.memoizedProps;if(o=o.compare,o=o!==null?o:vo,o(S,s)&&e.ref===n.ref)return ln(e,n,d)}return n.flags|=1,e=Wt(m,s),e.ref=n.ref,e.return=n,n.child=e}function ud(e,n,o,s,d){if(e!==null){var m=e.memoizedProps;if(vo(m,s)&&e.ref===n.ref)if(Ye=!1,n.pendingProps=s=m,Tr(e,d))(e.flags&131072)!==0&&(Ye=!0);else return n.lanes=e.lanes,ln(e,n,d)}return pr(e,n,o,s,d)}function cd(e,n,o,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return fd(e,n,m,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wl(n,m!==null?m.cachePool:null),m!==null?pf(n,m):Os(),mf(n);else return s=n.lanes=536870912,fd(e,n,m!==null?m.baseLanes|o:o,o,s)}else m!==null?(wl(n,m.cachePool),pf(n,m),Rn(),n.memoizedState=null):(e!==null&&wl(n,null),Os(),Rn());return et(e,n,d,o),n.child}function Uo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fd(e,n,o,s,d){var m=ks();return m=m===null?null:{parent:Oe._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&wl(n,null),Os(),mf(n),e!==null&&Ri(e,n,s,!0),n.childLanes=d,null}function Yl(e,n){return n=Xl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function dd(e,n,o){return oi(n,e.child,null,o),e=Yl(n,n.pendingProps),e.flags|=2,xt(n),n.memoizedState=null,e}function py(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ee){if(s.mode==="hidden")return e=Yl(n,s),n.lanes=536870912,Uo(null,e);if(Ys(n),(e=Ve)?(e=Cp(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:Yt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},o=Kc(e),o.return=n,n.child=o,We=n,Ve=null)):e=null,e===null)throw _n(n);return n.lanes=536870912,null}return Yl(n,s)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(Ys(n),d)if(n.flags&256)n.flags&=-257,n=dd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ye||Ri(e,n,o,!1),d=(o&e.childLanes)!==0,Ye||d){if(s=Le,s!==null&&(S=tc(s,o),S!==0&&S!==m.retryLane))throw m.retryLane=S,Zn(e,S),gt(s,e,S),dr;na(),n=dd(e,n,o)}else e=m.treeContext,Ve=Vt(S.nextSibling),We=n,Ee=!0,En=null,Ut=!1,e!==null&&$c(n,e),n=Yl(n,s),n.flags|=4096;return n}return e=Wt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Jl(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function pr(e,n,o,s,d){return ei(n),o=Xs(e,n,o,s,void 0,d),s=Ks(),e!==null&&!Ye?(Qs(e,n,d),ln(e,n,d)):(Ee&&s&&Rs(n),n.flags|=1,et(e,n,o,d),n.child)}function pd(e,n,o,s,d,m){return ei(n),n.updateQueue=null,o=gf(n,s,o,d),hf(e),s=Ks(),e!==null&&!Ye?(Qs(e,n,m),ln(e,n,m)):(Ee&&s&&Rs(n),n.flags|=1,et(e,n,o,m),n.child)}function md(e,n,o,s,d){if(ei(n),n.stateNode===null){var m=Ci,S=o.contextType;typeof S=="object"&&S!==null&&(m=je(S)),m=new o(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},qs(n),S=o.contextType,m.context=typeof S=="object"&&S!==null?je(S):Ci,m.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(ur(n,o,S,s),m.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&cr.enqueueReplaceState(m,m.state,null),Ro(n,s,m,d),No(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var x=n.memoizedProps,b=ai(o,x);m.props=b;var V=m.context,q=o.contextType;S=Ci,typeof q=="object"&&q!==null&&(S=je(q));var P=o.getDerivedStateFromProps;q=typeof P=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||V!==S)&&ed(n,m,s,S),Cn=!1;var G=n.memoizedState;m.state=G,Ro(n,s,m,d),No(),V=n.memoizedState,x||G!==V||Cn?(typeof P=="function"&&(ur(n,o,P,s),V=n.memoizedState),(b=Cn||jf(n,o,b,s,G,V,S))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=V),m.props=s,m.state=V,m.context=S,s=b):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,zs(e,n),S=n.memoizedProps,q=ai(o,S),m.props=q,P=n.pendingProps,G=m.context,V=o.contextType,b=Ci,typeof V=="object"&&V!==null&&(b=je(V)),x=o.getDerivedStateFromProps,(V=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==P||G!==b)&&ed(n,m,s,b),Cn=!1,G=n.memoizedState,m.state=G,Ro(n,s,m,d),No();var k=n.memoizedState;S!==P||G!==k||Cn||e!==null&&e.dependencies!==null&&Nl(e.dependencies)?(typeof x=="function"&&(ur(n,o,x,s),k=n.memoizedState),(q=Cn||jf(n,o,q,s,G,k,b)||e!==null&&e.dependencies!==null&&Nl(e.dependencies))?(V||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,k,b),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,k,b)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=k),m.props=s,m.state=k,m.context=b,s=q):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Jl(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=oi(n,e.child,null,d),n.child=oi(n,null,o,d)):et(e,n,o,d),n.memoizedState=m.state,e=n.child):e=ln(e,n,d),e}function hd(e,n,o,s){return Wn(),n.flags|=256,et(e,n,o,s),n.child}var mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hr(e){return{baseLanes:e,cachePool:of()}}function gr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=At),e}function gd(e,n,o){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ee){if(d?Nn(n):Rn(),(e=Ve)?(e=Cp(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:Yt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},o=Kc(e),o.return=n,n.child=o,We=n,Ve=null)):e=null,e===null)throw _n(n);return Wr(e)?n.lanes=32:n.lanes=536870912,null}var x=s.children;return s=s.fallback,d?(Rn(),d=n.mode,x=Xl({mode:"hidden",children:x},d),s=$n(s,d,o,null),x.return=n,s.return=n,x.sibling=s,n.child=x,s=n.child,s.memoizedState=hr(o),s.childLanes=gr(e,S,o),n.memoizedState=mr,Uo(null,s)):(Nn(n),yr(n,x))}var b=e.memoizedState;if(b!==null&&(x=b.dehydrated,x!==null)){if(m)n.flags&256?(Nn(n),n.flags&=-257,n=vr(e,n,o)):n.memoizedState!==null?(Rn(),n.child=e.child,n.flags|=128,n=null):(Rn(),x=s.fallback,d=n.mode,s=Xl({mode:"visible",children:s.children},d),x=$n(x,d,o,null),x.flags|=2,s.return=n,x.return=n,s.sibling=x,n.child=s,oi(n,e.child,null,o),s=n.child,s.memoizedState=hr(o),s.childLanes=gr(e,S,o),n.memoizedState=mr,n=Uo(null,s));else if(Nn(n),Wr(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var V=S.dgst;S=V,s=Error(a(419)),s.stack="",s.digest=S,Eo({value:s,source:null,stack:null}),n=vr(e,n,o)}else if(Ye||Ri(e,n,o,!1),S=(o&e.childLanes)!==0,Ye||S){if(S=Le,S!==null&&(s=tc(S,o),s!==0&&s!==b.retryLane))throw b.retryLane=s,Zn(e,s),gt(S,e,s),dr;$r(x)||na(),n=vr(e,n,o)}else $r(x)?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,Ve=Vt(x.nextSibling),We=n,Ee=!0,En=null,Ut=!1,e!==null&&$c(n,e),n=yr(n,s.children),n.flags|=4096);return n}return d?(Rn(),x=s.fallback,d=n.mode,b=e.child,V=b.sibling,s=Wt(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,V!==null?x=Wt(V,x):(x=$n(x,d,o,null),x.flags|=2),x.return=n,s.return=n,s.sibling=x,n.child=s,Uo(null,s),s=n.child,x=e.child.memoizedState,x===null?x=hr(o):(d=x.cachePool,d!==null?(b=Oe._currentValue,d=d.parent!==b?{parent:b,pool:b}:d):d=of(),x={baseLanes:x.baseLanes|o,cachePool:d}),s.memoizedState=x,s.childLanes=gr(e,S,o),n.memoizedState=mr,Uo(e.child,s)):(Nn(n),o=e.child,e=o.sibling,o=Wt(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function yr(e,n){return n=Xl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xl(e,n){return e=Et(22,e,null,n),e.lanes=0,e}function vr(e,n,o){return oi(n,e.child,null,o),e=yr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yd(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Us(e.return,n,o)}function Sr(e,n,o,s,d,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=d,S.treeForkCount=m)}function vd(e,n,o){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var S=Be.current,x=(S&2)!==0;if(x?(S=S&1|2,n.flags|=128):S&=1,F(Be,S),et(e,n,s,o),s=Ee?To:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yd(e,o,n);else if(e.tag===19)yd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&Vl(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Sr(n,!1,d,o,m,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Vl(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Sr(n,!0,o,null,m,s);break;case"together":Sr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function ln(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),In|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Ri(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=Wt(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Wt(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Tr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nl(e)))}function my(e,n,o){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),xn(n,Oe,e.memoizedState.cache),Wn();break;case 27:case 5:oo(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:xn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ys(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Nn(n),n.flags|=128,null):(o&n.child.childLanes)!==0?gd(e,n,o):(Nn(n),e=ln(e,n,o),e!==null?e.sibling:null);Nn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Ri(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return vd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),F(Be,Be.current),s)break;return null;case 22:return n.lanes=0,cd(e,n,o,n.pendingProps);case 24:xn(n,Oe,e.memoizedState.cache)}return ln(e,n,o)}function Sd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ye=!0;else{if(!Tr(e,o)&&(n.flags&128)===0)return Ye=!1,my(e,n,o);Ye=(e.flags&131072)!==0}else Ye=!1,Ee&&(n.flags&1048576)!==0&&Zc(n,To,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ni(n.elementType),n.type=e,typeof e=="function")As(e)?(s=ai(e,s),n.tag=1,n=md(null,n,e,s,o)):(n.tag=0,n=pr(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===O){n.tag=11,n=sd(null,n,e,s,o);break e}else if(d===Y){n.tag=14,n=rd(null,n,e,s,o);break e}}throw n=Me(e)||e,Error(a(306,n,""))}}return n;case 0:return pr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=ai(s,n.pendingProps),md(e,n,s,d,o);case 3:e:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,zs(e,n),Ro(n,s,null,o);var S=n.memoizedState;if(s=S.cache,xn(n,Oe,s),s!==m.cache&&Ls(n,[Oe],o,!0),No(),s=S.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=hd(e,n,s,o);break e}else if(s!==d){d=Mt(Error(a(424)),n),Eo(d),n=hd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Vt(e.firstChild),We=n,Ee=!0,En=null,Ut=!0,o=cf(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Wn(),s===d){n=ln(e,n,o);break e}et(e,n,s,o)}n=n.child}return n;case 26:return Jl(e,n),e===null?(o=Mp(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ee||(o=n.type,e=n.pendingProps,s=ua(ge.current).createElement(o),s[$e]=n,s[ct]=e,tt(s,o,e),Ke(s),n.stateNode=s):n.memoizedState=Mp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return oo(n),e===null&&Ee&&(s=n.stateNode=Np(n.type,n.pendingProps,ge.current),We=n,Ut=!0,d=Ve,Gn(n.type)?(jr=d,Ve=Vt(s.firstChild)):Ve=d),et(e,n,n.pendingProps.children,o),Jl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ee&&((d=s=Ve)&&(s=Fy(s,n.type,n.pendingProps,Ut),s!==null?(n.stateNode=s,We=n,Ve=Vt(s.firstChild),Ut=!1,d=!0):d=!1),d||_n(n)),oo(n),d=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,s=m.children,Kr(d,m)?s=null:S!==null&&Kr(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Xs(e,n,ly,null,null,o),Ko._currentValue=d),Jl(e,n),et(e,n,s,o),n.child;case 6:return e===null&&Ee&&((e=o=Ve)&&(o=Yy(o,n.pendingProps,Ut),o!==null?(n.stateNode=o,We=n,Ve=null,e=!0):e=!1),e||_n(n)),null;case 13:return gd(e,n,o);case 4:return at(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=oi(n,null,s,o):et(e,n,s,o),n.child;case 11:return sd(e,n,n.type,n.pendingProps,o);case 7:return et(e,n,n.pendingProps,o),n.child;case 8:return et(e,n,n.pendingProps.children,o),n.child;case 12:return et(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,xn(n,n.type,s.value),et(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ei(n),d=je(d),s=s(d),n.flags|=1,et(e,n,s,o),n.child;case 14:return rd(e,n,n.type,n.pendingProps,o);case 15:return ud(e,n,n.type,n.pendingProps,o);case 19:return vd(e,n,o);case 31:return py(e,n,o);case 22:return cd(e,n,o,n.pendingProps);case 24:return ei(n),s=je(Oe),e===null?(d=ks(),d===null&&(d=Le,m=Vs(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),n.memoizedState={parent:s,cache:d},qs(n),xn(n,Oe,d)):((e.lanes&o)!==0&&(zs(e,n),Ro(n,null,null,o),No()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),xn(n,Oe,s)):(s=m.cache,xn(n,Oe,s),s!==d.cache&&Ls(n,[Oe],o,!0))),et(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function an(e){e.flags|=4}function Er(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Jd())e.flags|=8192;else throw ii=Il,Hs}else e.flags&=-16777217}function Td(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vp(n))if(Jd())e.flags|=8192;else throw ii=Il,Hs}function Kl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wu():536870912,e.lanes|=n,zi|=n)}function Lo(e,n){if(!Ee)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function hy(e,n,o){var s=n.pendingProps;switch(ws(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),tn(Oe),ze(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ni(n)?an(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Is())),Ge(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(an(n),m!==null?(Ge(n),Td(n,m)):(Ge(n),Er(n,d,null,s,o))):m?m!==e.memoizedState?(an(n),Ge(n),Td(n,m)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&an(n),Ge(n),Er(n,d,e,s,o)),null;case 27:if(ll(n),o=ge.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}e=te.current,Ni(n)?Wc(n):(e=Np(d,s,o),n.stateNode=e,an(n))}return Ge(n),null;case 5:if(ll(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(m=te.current,Ni(n))Wc(n);else{var S=ua(ge.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}m[$e]=n,m[ct]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(tt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&an(n)}}return Ge(n),Er(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ge.current,Ni(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=We,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[$e]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||gp(e.nodeValue,o)),e||_n(n,!0)}else e=ua(e).createTextNode(s),e[$e]=n,n.stateNode=e}return Ge(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Ni(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[$e]=n}else Wn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else o=Is(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(xt(n),n):(xt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ge(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ni(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[$e]=n}else Wn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),d=!1}else d=Is(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(xt(n),n):(xt(n),null)}return xt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Kl(n,n.updateQueue),Ge(n),null);case 4:return ze(),e===null&&Or(n.stateNode.containerInfo),Ge(n),null;case 10:return tn(n.type),Ge(n),null;case 19:if(U(Be),s=n.memoizedState,s===null)return Ge(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)Lo(s,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Vl(e),m!==null){for(n.flags|=128,Lo(s,!1),e=m.updateQueue,n.updateQueue=e,Kl(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Xc(o,e),o=o.sibling;return F(Be,Be.current&1|2),Ee&&jt(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&yt()>jl&&(n.flags|=128,d=!0,Lo(s,!1),n.lanes=4194304)}else{if(!d)if(e=Vl(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Kl(n,e),Lo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Ee)return Ge(n),null}else 2*yt()-s.renderingStartTime>jl&&o!==536870912&&(n.flags|=128,d=!0,Lo(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,o=Be.current,F(Be,d?o&1|2:o&1),Ee&&jt(n,s.treeForkCount),e):(Ge(n),null);case 22:case 23:return xt(n),Fs(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),o=n.updateQueue,o!==null&&Kl(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&U(ti),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),tn(Oe),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function gy(e,n){switch(ws(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return tn(Oe),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ll(n),null;case 31:if(n.memoizedState!==null){if(xt(n),n.alternate===null)throw Error(a(340));Wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(Be),null;case 4:return ze(),null;case 10:return tn(n.type),null;case 22:case 23:return xt(n),Fs(),e!==null&&U(ti),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return tn(Oe),null;case 25:return null;default:return null}}function Ed(e,n){switch(ws(n),n.tag){case 3:tn(Oe),ze();break;case 26:case 27:case 5:ll(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&xt(n);break;case 13:xt(n);break;case 19:U(Be);break;case 10:tn(n.type);break;case 22:case 23:xt(n),Fs(),e!==null&&U(ti);break;case 24:tn(Oe)}}function Vo(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var m=o.create,S=o.inst;s=m(),S.destroy=s}o=o.next}while(o!==d)}}catch(x){we(n,n.return,x)}}function wn(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var S=s.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,d=n;var b=o,V=x;try{V()}catch(q){we(d,b,q)}}}s=s.next}while(s!==m)}}catch(q){we(n,n.return,q)}}function _d(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{df(n,o)}catch(s){we(e,e.return,s)}}}function xd(e,n,o){o.props=ai(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){we(e,n,s)}}function Go(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){we(e,n,d)}}function Xt(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){we(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){we(e,n,d)}else o.current=null}function Cd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){we(e,e.return,d)}}function _r(e,n,o){try{var s=e.stateNode;Hy(s,e.type,o,n),s[ct]=n}catch(d){we(e,e.return,d)}}function Ad(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gn(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Zt));else if(s!==4&&(s===27&&Gn(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Cr(e,n,o),e=e.sibling;e!==null;)Cr(e,n,o),e=e.sibling}function Ql(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Gn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ql(e,n,o),e=e.sibling;e!==null;)Ql(e,n,o),e=e.sibling}function bd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);tt(n,s,o),n[$e]=e,n[ct]=o}catch(m){we(e,e.return,m)}}var sn=!1,Je=!1,Ar=!1,Nd=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function yy(e,n){if(e=e.containerInfo,Jr=ga,e=Hc(e),vs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var S=0,x=-1,b=-1,V=0,q=0,P=e,G=null;t:for(;;){for(var k;P!==o||d!==0&&P.nodeType!==3||(x=S+d),P!==m||s!==0&&P.nodeType!==3||(b=S+s),P.nodeType===3&&(S+=P.nodeValue.length),(k=P.firstChild)!==null;)G=P,P=k;for(;;){if(P===e)break t;if(G===o&&++V===d&&(x=S),G===m&&++q===s&&(b=S),(k=P.nextSibling)!==null)break;P=G,G=P.parentNode}P=k}o=x===-1||b===-1?null:{start:x,end:b}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xr={focusedElem:e,selectionRange:o},ga=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,o=n,d=m.memoizedProps,m=m.memoizedState,s=o.stateNode;try{var ne=ai(o.type,d);e=s.getSnapshotBeforeUpdate(ne,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(se){we(o,o.return,se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Zr(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function Rd(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:un(e,o),s&4&&Vo(5,o);break;case 1:if(un(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){we(o,o.return,S)}else{var d=ai(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){we(o,o.return,S)}}s&64&&_d(o),s&512&&Go(o,o.return);break;case 3:if(un(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{df(e,n)}catch(S){we(o,o.return,S)}}break;case 27:n===null&&s&4&&bd(o);case 26:case 5:un(e,o),n===null&&s&4&&Cd(o),s&512&&Go(o,o.return);break;case 12:un(e,o);break;case 31:un(e,o),s&4&&Id(e,o);break;case 13:un(e,o),s&4&&Dd(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=by.bind(null,o),Jy(e,o))));break;case 22:if(s=o.memoizedState!==null||sn,!s){n=n!==null&&n.memoizedState!==null||Je,d=sn;var m=Je;sn=s,(Je=n)&&!m?cn(e,o,(o.subtreeFlags&8772)!==0):un(e,o),sn=d,Je=m}break;case 30:break;default:un(e,o)}}function wd(e){var n=e.alternate;n!==null&&(e.alternate=null,wd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ts(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,dt=!1;function rn(e,n,o){for(o=o.child;o!==null;)Md(e,n,o),o=o.sibling}function Md(e,n,o){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(lo,o)}catch{}switch(o.tag){case 26:Je||Xt(o,n),rn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Je||Xt(o,n);var s=ke,d=dt;Gn(o.type)&&(ke=o.stateNode,dt=!1),rn(e,n,o),Yo(o.stateNode),ke=s,dt=d;break;case 5:Je||Xt(o,n);case 6:if(s=ke,d=dt,ke=null,rn(e,n,o),ke=s,dt=d,ke!==null)if(dt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(m){we(o,n,m)}else try{ke.removeChild(o.stateNode)}catch(m){we(o,n,m)}break;case 18:ke!==null&&(dt?(e=ke,_p(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Ki(e)):_p(ke,o.stateNode));break;case 4:s=ke,d=dt,ke=o.stateNode.containerInfo,dt=!0,rn(e,n,o),ke=s,dt=d;break;case 0:case 11:case 14:case 15:wn(2,o,n),Je||wn(4,o,n),rn(e,n,o);break;case 1:Je||(Xt(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&xd(o,n,s)),rn(e,n,o);break;case 21:rn(e,n,o);break;case 22:Je=(s=Je)||o.memoizedState!==null,rn(e,n,o),Je=s;break;default:rn(e,n,o)}}function Id(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ki(e)}catch(o){we(n,n.return,o)}}}function Dd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ki(e)}catch(o){we(n,n.return,o)}}function vy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Nd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Nd),n;default:throw Error(a(435,e.tag))}}function Zl(e,n){var o=vy(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=Ny.bind(null,e,s);s.then(d,d)}})}function pt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],m=e,S=n,x=S;e:for(;x!==null;){switch(x.tag){case 27:if(Gn(x.type)){ke=x.stateNode,dt=!1;break e}break;case 5:ke=x.stateNode,dt=!1;break e;case 3:case 4:ke=x.stateNode.containerInfo,dt=!0;break e}x=x.return}if(ke===null)throw Error(a(160));Md(m,S,d),ke=null,dt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ud(n,e),n=n.sibling}var zt=null;function Ud(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),mt(e),s&4&&(wn(3,e,e.return),Vo(3,e),wn(5,e,e.return));break;case 1:pt(n,e),mt(e),s&512&&(Je||o===null||Xt(o,o.return)),s&64&&sn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=zt;if(pt(n,e),mt(e),s&512&&(Je||o===null||Xt(o,o.return)),s&4){var m=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[ro]||m[$e]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),tt(m,s,o),m[$e]=e,Ke(m),s=m;break e;case"link":var S=Up("link","href",d).get(s+(o.href||""));if(S){for(var x=0;x<S.length;x++)if(m=S[x],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(x,1);break t}}m=d.createElement(s),tt(m,s,o),d.head.appendChild(m);break;case"meta":if(S=Up("meta","content",d).get(s+(o.content||""))){for(x=0;x<S.length;x++)if(m=S[x],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(x,1);break t}}m=d.createElement(s),tt(m,s,o),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[$e]=e,Ke(m),s=m}e.stateNode=s}else Lp(d,e.type,e.stateNode);else e.stateNode=Dp(d,s,e.memoizedProps);else m!==s?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,s===null?Lp(d,e.type,e.stateNode):Dp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&_r(e,e.memoizedProps,o.memoizedProps)}break;case 27:pt(n,e),mt(e),s&512&&(Je||o===null||Xt(o,o.return)),o!==null&&s&4&&_r(e,e.memoizedProps,o.memoizedProps);break;case 5:if(pt(n,e),mt(e),s&512&&(Je||o===null||Xt(o,o.return)),e.flags&32){d=e.stateNode;try{yi(d,"")}catch(ne){we(e,e.return,ne)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,_r(e,d,o!==null?o.memoizedProps:d)),s&1024&&(Ar=!0);break;case 6:if(pt(n,e),mt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(ne){we(e,e.return,ne)}}break;case 3:if(da=null,d=zt,zt=ca(n.containerInfo),pt(n,e),zt=d,mt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Ki(n.containerInfo)}catch(ne){we(e,e.return,ne)}Ar&&(Ar=!1,Ld(e));break;case 4:s=zt,zt=ca(e.stateNode.containerInfo),pt(n,e),mt(e),zt=s;break;case 12:pt(n,e),mt(e);break;case 31:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zl(e,s)));break;case 13:pt(n,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wl=yt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zl(e,s)));break;case 22:d=e.memoizedState!==null;var b=o!==null&&o.memoizedState!==null,V=sn,q=Je;if(sn=V||d,Je=q||b,pt(n,e),Je=q,sn=V,mt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||b||sn||Je||si(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){b=o=n;try{if(m=b.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=b.stateNode;var P=b.memoizedProps.style,G=P!=null&&P.hasOwnProperty("display")?P.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ne){we(b,b.return,ne)}}}else if(n.tag===6){if(o===null){b=n;try{b.stateNode.nodeValue=d?"":b.memoizedProps}catch(ne){we(b,b.return,ne)}}}else if(n.tag===18){if(o===null){b=n;try{var k=b.stateNode;d?xp(k,!0):xp(b.stateNode,!1)}catch(ne){we(b,b.return,ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Zl(e,o))));break;case 19:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zl(e,s)));break;case 30:break;case 21:break;default:pt(n,e),mt(e)}}function mt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(Ad(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,m=xr(e);Ql(e,m,d);break;case 5:var S=o.stateNode;o.flags&32&&(yi(S,""),o.flags&=-33);var x=xr(e);Ql(e,x,S);break;case 3:case 4:var b=o.stateNode.containerInfo,V=xr(e);Cr(e,V,b);break;default:throw Error(a(161))}}catch(q){we(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ld(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ld(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function un(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rd(e,n.alternate,n),n=n.sibling}function si(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wn(4,n,n.return),si(n);break;case 1:Xt(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&xd(n,n.return,o),si(n);break;case 27:Yo(n.stateNode);case 26:case 5:Xt(n,n.return),si(n);break;case 22:n.memoizedState===null&&si(n);break;case 30:si(n);break;default:si(n)}e=e.sibling}}function cn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:cn(d,m,o),Vo(4,m);break;case 1:if(cn(d,m,o),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(V){we(s,s.return,V)}if(s=m,d=s.updateQueue,d!==null){var x=s.stateNode;try{var b=d.shared.hiddenCallbacks;if(b!==null)for(d.shared.hiddenCallbacks=null,d=0;d<b.length;d++)ff(b[d],x)}catch(V){we(s,s.return,V)}}o&&S&64&&_d(m),Go(m,m.return);break;case 27:bd(m);case 26:case 5:cn(d,m,o),o&&s===null&&S&4&&Cd(m),Go(m,m.return);break;case 12:cn(d,m,o);break;case 31:cn(d,m,o),o&&S&4&&Id(d,m);break;case 13:cn(d,m,o),o&&S&4&&Dd(d,m);break;case 22:m.memoizedState===null&&cn(d,m,o),Go(m,m.return);break;case 30:break;default:cn(d,m,o)}n=n.sibling}}function br(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&_o(o))}function Nr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_o(e))}function Bt(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vd(e,n,o,s),n=n.sibling}function Vd(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Bt(e,n,o,s),d&2048&&Vo(9,n);break;case 1:Bt(e,n,o,s);break;case 3:Bt(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_o(e)));break;case 12:if(d&2048){Bt(e,n,o,s),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,x=m.onPostCommit;typeof x=="function"&&x(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){we(n,n.return,b)}}else Bt(e,n,o,s);break;case 31:Bt(e,n,o,s);break;case 13:Bt(e,n,o,s);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?Bt(e,n,o,s):ko(e,n):m._visibility&2?Bt(e,n,o,s):(m._visibility|=2,ki(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&br(S,n);break;case 24:Bt(e,n,o,s),d&2048&&Nr(n.alternate,n);break;default:Bt(e,n,o,s)}}function ki(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,x=o,b=s,V=S.flags;switch(S.tag){case 0:case 11:case 15:ki(m,S,x,b,d),Vo(8,S);break;case 23:break;case 22:var q=S.stateNode;S.memoizedState!==null?q._visibility&2?ki(m,S,x,b,d):ko(m,S):(q._visibility|=2,ki(m,S,x,b,d)),d&&V&2048&&br(S.alternate,S);break;case 24:ki(m,S,x,b,d),d&&V&2048&&Nr(S.alternate,S);break;default:ki(m,S,x,b,d)}n=n.sibling}}function ko(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:ko(o,s),d&2048&&br(s.alternate,s);break;case 24:ko(o,s),d&2048&&Nr(s.alternate,s);break;default:ko(o,s)}n=n.sibling}}var Ho=8192;function Hi(e,n,o){if(e.subtreeFlags&Ho)for(e=e.child;e!==null;)Gd(e,n,o),e=e.sibling}function Gd(e,n,o){switch(e.tag){case 26:Hi(e,n,o),e.flags&Ho&&e.memoizedState!==null&&ov(o,zt,e.memoizedState,e.memoizedProps);break;case 5:Hi(e,n,o);break;case 3:case 4:var s=zt;zt=ca(e.stateNode.containerInfo),Hi(e,n,o),zt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ho,Ho=16777216,Hi(e,n,o),Ho=s):Hi(e,n,o));break;default:Hi(e,n,o)}}function kd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function qo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Qe=s,qd(s,e)}kd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hd(e),e=e.sibling}function Hd(e){switch(e.tag){case 0:case 11:case 15:qo(e),e.flags&2048&&wn(9,e,e.return);break;case 3:qo(e);break;case 12:qo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$l(e)):qo(e);break;default:qo(e)}}function $l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Qe=s,qd(s,e)}kd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wn(8,n,n.return),$l(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,$l(n));break;default:$l(n)}e=e.sibling}}function qd(e,n){for(;Qe!==null;){var o=Qe;switch(o.tag){case 0:case 11:case 15:wn(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:_o(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,Qe=s;else e:for(o=e;Qe!==null;){s=Qe;var d=s.sibling,m=s.return;if(wd(s),s===o){Qe=null;break e}if(d!==null){d.return=m,Qe=d;break e}Qe=m}}}var Sy={getCacheForType:function(e){var n=je(Oe),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return je(Oe).controller.signal}},Ty=typeof WeakMap=="function"?WeakMap:Map,be=0,Le=null,ye=null,Se=0,Re=0,Ct=null,Mn=!1,qi=!1,Rr=!1,fn=0,qe=0,In=0,ri=0,wr=0,At=0,zi=0,zo=null,ht=null,Mr=!1,Wl=0,zd=0,jl=1/0,ea=null,Dn=null,Xe=0,Un=null,Bi=null,dn=0,Ir=0,Dr=null,Bd=null,Bo=0,Ur=null;function bt(){return(be&2)!==0&&Se!==0?Se&-Se:H.T!==null?qr():nc()}function Pd(){if(At===0)if((Se&536870912)===0||Ee){var e=rl;rl<<=1,(rl&3932160)===0&&(rl=262144),At=e}else At=536870912;return e=_t.current,e!==null&&(e.flags|=32),At}function gt(e,n,o){(e===Le&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Pi(e,0),Ln(e,Se,At,!1)),so(e,o),((be&2)===0||e!==Le)&&(e===Le&&((be&2)===0&&(ri|=o),qe===4&&Ln(e,Se,At,!1)),Kt(e))}function Od(e,n,o){if((be&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||ao(e,n),d=s?xy(e,n):Vr(e,n,!0),m=s;do{if(d===0){qi&&!s&&Ln(e,n,0,!1);break}else{if(o=e.current.alternate,m&&!Ey(o)){d=Vr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var x=e;d=zo;var b=x.current.memoizedState.isDehydrated;if(b&&(Pi(x,S).flags|=256),S=Vr(x,S,!1),S!==2){if(Rr&&!b){x.errorRecoveryDisabledLanes|=m,ri|=m,d=4;break e}m=ht,ht=d,m!==null&&(ht===null?ht=m:ht.push.apply(ht,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){Pi(e,0),Ln(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ln(s,n,At,!Mn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Wl+300-yt(),10<d)){if(Ln(s,n,At,!Mn),cl(s,0,!0)!==0)break e;dn=n,s.timeoutHandle=Tp(Fd.bind(null,s,o,ht,ea,Mr,n,At,ri,zi,Mn,m,"Throttled",-0,0),d);break e}Fd(s,o,ht,ea,Mr,n,At,ri,zi,Mn,m,null,-0,0)}}break}while(!0);Kt(e)}function Fd(e,n,o,s,d,m,S,x,b,V,q,P,G,k){if(e.timeoutHandle=-1,P=n.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},Gd(n,m,P);var ne=(m&62914560)===m?Wl-yt():(m&4194048)===m?zd-yt():0;if(ne=lv(P,ne),ne!==null){dn=m,e.cancelPendingCommit=ne(Wd.bind(null,e,n,m,o,s,d,S,x,b,q,P,null,G,k)),Ln(e,m,S,!V);return}}Wd(e,n,m,o,s,d,S,x,b)}function Ey(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],m=d.getSnapshot;d=d.value;try{if(!Tt(m(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ln(e,n,o,s){n&=~wr,n&=~ri,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-St(d),S=1<<m;s[m]=-1,d&=~S}o!==0&&ju(e,o,n)}function ta(){return(be&6)===0?(Po(0),!1):!0}function Lr(){if(ye!==null){if(Re===0)var e=ye.return;else e=ye,en=jn=null,Zs(e),Di=null,Co=0,e=ye;for(;e!==null;)Ed(e.alternate,e),e=e.return;ye=null}}function Pi(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,By(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),dn=0,Lr(),Le=e,ye=o=Wt(e.current,null),Se=n,Re=0,Ct=null,Mn=!1,qi=ao(e,n),Rr=!1,zi=At=wr=ri=In=qe=0,ht=zo=null,Mr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-St(s),m=1<<d;n|=e[d],s&=~m}return fn=n,_l(),o}function Yd(e,n){pe=null,H.H=Do,n===Ii||n===Ml?(n=sf(),Re=3):n===Hs?(n=sf(),Re=4):Re=n===dr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ct=n,ye===null&&(qe=1,Fl(e,Mt(n,e.current)))}function Jd(){var e=_t.current;return e===null?!0:(Se&4194048)===Se?Lt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Lt:!1}function Xd(){var e=H.H;return H.H=Do,e===null?Do:e}function Kd(){var e=H.A;return H.A=Sy,e}function na(){qe=4,Mn||(Se&4194048)!==Se&&_t.current!==null||(qi=!0),(In&134217727)===0&&(ri&134217727)===0||Le===null||Ln(Le,Se,At,!1)}function Vr(e,n,o){var s=be;be|=2;var d=Xd(),m=Kd();(Le!==e||Se!==n)&&(ea=null,Pi(e,n)),n=!1;var S=qe;e:do try{if(Re!==0&&ye!==null){var x=ye,b=Ct;switch(Re){case 8:Lr(),S=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(n=!0);var V=Re;if(Re=0,Ct=null,Oi(e,x,b,V),o&&qi){S=0;break e}break;default:V=Re,Re=0,Ct=null,Oi(e,x,b,V)}}_y(),S=qe;break}catch(q){Yd(e,q)}while(!0);return n&&e.shellSuspendCounter++,en=jn=null,be=s,H.H=d,H.A=m,ye===null&&(Le=null,Se=0,_l()),S}function _y(){for(;ye!==null;)Qd(ye)}function xy(e,n){var o=be;be|=2;var s=Xd(),d=Kd();Le!==e||Se!==n?(ea=null,jl=yt()+500,Pi(e,n)):qi=ao(e,n);e:do try{if(Re!==0&&ye!==null){n=ye;var m=Ct;t:switch(Re){case 1:Re=0,Ct=null,Oi(e,n,m,1);break;case 2:case 9:if(lf(m)){Re=0,Ct=null,Zd(n);break}n=function(){Re!==2&&Re!==9||Le!==e||(Re=7),Kt(e)},m.then(n,n);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:lf(m)?(Re=0,Ct=null,Zd(n)):(Re=0,Ct=null,Oi(e,n,m,7));break;case 5:var S=null;switch(ye.tag){case 26:S=ye.memoizedState;case 5:case 27:var x=ye;if(S?Vp(S):x.stateNode.complete){Re=0,Ct=null;var b=x.sibling;if(b!==null)ye=b;else{var V=x.return;V!==null?(ye=V,ia(V)):ye=null}break t}}Re=0,Ct=null,Oi(e,n,m,5);break;case 6:Re=0,Ct=null,Oi(e,n,m,6);break;case 8:Lr(),qe=6;break e;default:throw Error(a(462))}}Cy();break}catch(q){Yd(e,q)}while(!0);return en=jn=null,H.H=s,H.A=d,be=o,ye!==null?0:(Le=null,Se=0,_l(),qe)}function Cy(){for(;ye!==null&&!Xg();)Qd(ye)}function Qd(e){var n=Sd(e.alternate,e,fn);e.memoizedProps=e.pendingProps,n===null?ia(e):ye=n}function Zd(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=pd(o,n,n.pendingProps,n.type,void 0,Se);break;case 11:n=pd(o,n,n.pendingProps,n.type.render,n.ref,Se);break;case 5:Zs(n);default:Ed(o,n),n=ye=Xc(n,fn),n=Sd(o,n,fn)}e.memoizedProps=e.pendingProps,n===null?ia(e):ye=n}function Oi(e,n,o,s){en=jn=null,Zs(n),Di=null,Co=0;var d=n.return;try{if(dy(e,d,n,o,Se)){qe=1,Fl(e,Mt(o,e.current)),ye=null;return}}catch(m){if(d!==null)throw ye=d,m;qe=1,Fl(e,Mt(o,e.current)),ye=null;return}n.flags&32768?(Ee||s===1?e=!0:qi||(Se&536870912)!==0?e=!1:(Mn=e=!0,(s===2||s===9||s===3||s===6)&&(s=_t.current,s!==null&&s.tag===13&&(s.flags|=16384))),$d(n,e)):ia(n)}function ia(e){var n=e;do{if((n.flags&32768)!==0){$d(n,Mn);return}e=n.return;var o=hy(n.alternate,n,fn);if(o!==null){ye=o;return}if(n=n.sibling,n!==null){ye=n;return}ye=n=e}while(n!==null);qe===0&&(qe=5)}function $d(e,n){do{var o=gy(e.alternate,e);if(o!==null){o.flags&=32767,ye=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ye=e;return}ye=e=o}while(e!==null);qe=6,ye=null}function Wd(e,n,o,s,d,m,S,x,b){e.cancelPendingCommit=null;do oa();while(Xe!==0);if((be&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=xs,i0(e,o,m,S,x,b),e===Le&&(ye=Le=null,Se=0),Bi=n,Un=e,dn=o,Ir=m,Dr=d,Bd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ry(al,function(){return ip(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,d=Q.p,Q.p=2,S=be,be|=4;try{yy(e,n,o)}finally{be=S,Q.p=d,H.T=s}}Xe=1,jd(),ep(),tp()}}function jd(){if(Xe===1){Xe=0;var e=Un,n=Bi,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var s=Q.p;Q.p=2;var d=be;be|=4;try{Ud(n,e);var m=Xr,S=Hc(e.containerInfo),x=m.focusedElem,b=m.selectionRange;if(S!==x&&x&&x.ownerDocument&&kc(x.ownerDocument.documentElement,x)){if(b!==null&&vs(x)){var V=b.start,q=b.end;if(q===void 0&&(q=V),"selectionStart"in x)x.selectionStart=V,x.selectionEnd=Math.min(q,x.value.length);else{var P=x.ownerDocument||document,G=P&&P.defaultView||window;if(G.getSelection){var k=G.getSelection(),ne=x.textContent.length,se=Math.min(b.start,ne),Ue=b.end===void 0?se:Math.min(b.end,ne);!k.extend&&se>Ue&&(S=Ue,Ue=se,se=S);var R=Gc(x,se),N=Gc(x,Ue);if(R&&N&&(k.rangeCount!==1||k.anchorNode!==R.node||k.anchorOffset!==R.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var L=P.createRange();L.setStart(R.node,R.offset),k.removeAllRanges(),se>Ue?(k.addRange(L),k.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),k.addRange(L))}}}}for(P=[],k=x;k=k.parentNode;)k.nodeType===1&&P.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<P.length;x++){var B=P[x];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}ga=!!Jr,Xr=Jr=null}finally{be=d,Q.p=s,H.T=o}}e.current=n,Xe=2}}function ep(){if(Xe===2){Xe=0;var e=Un,n=Bi,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var s=Q.p;Q.p=2;var d=be;be|=4;try{Rd(e,n.alternate,n)}finally{be=d,Q.p=s,H.T=o}}Xe=3}}function tp(){if(Xe===4||Xe===3){Xe=0,Kg();var e=Un,n=Bi,o=dn,s=Bd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xe=5:(Xe=0,Bi=Un=null,np(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Dn=null),ja(o),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(lo,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=H.T,d=Q.p,Q.p=2,H.T=null;try{for(var m=e.onRecoverableError,S=0;S<s.length;S++){var x=s[S];m(x.value,{componentStack:x.stack})}}finally{H.T=n,Q.p=d}}(dn&3)!==0&&oa(),Kt(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===Ur?Bo++:(Bo=0,Ur=e):Bo=0,Po(0)}}function np(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,_o(n)))}function oa(){return jd(),ep(),tp(),ip()}function ip(){if(Xe!==5)return!1;var e=Un,n=Ir;Ir=0;var o=ja(dn),s=H.T,d=Q.p;try{Q.p=32>o?32:o,H.T=null,o=Dr,Dr=null;var m=Un,S=dn;if(Xe=0,Bi=Un=null,dn=0,(be&6)!==0)throw Error(a(331));var x=be;if(be|=4,Hd(m.current),Vd(m,m.current,S,o),be=x,Po(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(lo,m)}catch{}return!0}finally{Q.p=d,H.T=s,np(e,n)}}function op(e,n,o){n=Mt(o,n),n=fr(e.stateNode,n,2),e=bn(e,n,2),e!==null&&(so(e,2),Kt(e))}function we(e,n,o){if(e.tag===3)op(e,e,o);else for(;n!==null;){if(n.tag===3){op(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Dn===null||!Dn.has(s))){e=Mt(o,e),o=ld(2),s=bn(n,o,2),s!==null&&(ad(o,s,n,e),so(s,2),Kt(s));break}}n=n.return}}function Gr(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new Ty;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(Rr=!0,d.add(o),e=Ay.bind(null,e,n,o),n.then(e,e))}function Ay(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Le===e&&(Se&o)===o&&(qe===4||qe===3&&(Se&62914560)===Se&&300>yt()-Wl?(be&2)===0&&Pi(e,0):wr|=o,zi===Se&&(zi=0)),Kt(e)}function lp(e,n){n===0&&(n=Wu()),e=Zn(e,n),e!==null&&(so(e,n),Kt(e))}function by(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),lp(e,o)}function Ny(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),lp(e,o)}function Ry(e,n){return Qa(e,n)}var la=null,Fi=null,kr=!1,aa=!1,Hr=!1,Vn=0;function Kt(e){e!==Fi&&e.next===null&&(Fi===null?la=Fi=e:Fi=Fi.next=e),aa=!0,kr||(kr=!0,My())}function Po(e,n){if(!Hr&&aa){Hr=!0;do for(var o=!1,s=la;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var S=s.suspendedLanes,x=s.pingedLanes;m=(1<<31-St(42|e)+1)-1,m&=d&~(S&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,up(s,m))}else m=Se,m=cl(s,s===Le?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||ao(s,m)||(o=!0,up(s,m));s=s.next}while(o);Hr=!1}}function wy(){ap()}function ap(){aa=kr=!1;var e=0;Vn!==0&&zy()&&(e=Vn);for(var n=yt(),o=null,s=la;s!==null;){var d=s.next,m=sp(s,n);m===0?(s.next=null,o===null?la=d:o.next=d,d===null&&(Fi=o)):(o=s,(e!==0||(m&3)!==0)&&(aa=!0)),s=d}Xe!==0&&Xe!==5||Po(e),Vn!==0&&(Vn=0)}function sp(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-St(m),x=1<<S,b=d[S];b===-1?((x&o)===0||(x&s)!==0)&&(d[S]=n0(x,n)):b<=n&&(e.expiredLanes|=x),m&=~x}if(n=Le,o=Se,o=cl(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Za(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||ao(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&Za(s),ja(o)){case 2:case 8:o=Zu;break;case 32:o=al;break;case 268435456:o=$u;break;default:o=al}return s=rp.bind(null,e),o=Qa(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&Za(s),e.callbackPriority=2,e.callbackNode=null,2}function rp(e,n){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(oa()&&e.callbackNode!==o)return null;var s=Se;return s=cl(e,e===Le?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Od(e,s,n),sp(e,yt()),e.callbackNode!=null&&e.callbackNode===o?rp.bind(null,e):null)}function up(e,n){if(oa())return null;Od(e,n,!0)}function My(){Py(function(){(be&6)!==0?Qa(Qu,wy):ap()})}function qr(){if(Vn===0){var e=wi;e===0&&(e=sl,sl<<=1,(sl&261888)===0&&(sl=256)),Vn=e}return Vn}function cp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ml(""+e)}function fp(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Iy(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var m=cp((d[ct]||null).action),S=s.submitter;S&&(n=(n=S[ct]||null)?cp(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var x=new vl("action","action",null,s,d);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Vn!==0){var b=S?fp(d,S):new FormData(d);lr(o,{pending:!0,data:b,method:d.method,action:m},null,b)}}else typeof m=="function"&&(x.preventDefault(),b=S?fp(d,S):new FormData(d),lr(o,{pending:!0,data:b,method:d.method,action:m},m,b))},currentTarget:d}]})}}for(var zr=0;zr<_s.length;zr++){var Br=_s[zr],Dy=Br.toLowerCase(),Uy=Br[0].toUpperCase()+Br.slice(1);qt(Dy,"on"+Uy)}qt(Bc,"onAnimationEnd"),qt(Pc,"onAnimationIteration"),qt(Oc,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(Q0,"onTransitionRun"),qt(Z0,"onTransitionStart"),qt($0,"onTransitionCancel"),qt(Fc,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oo));function dp(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var S=s.length-1;0<=S;S--){var x=s[S],b=x.instance,V=x.currentTarget;if(x=x.listener,b!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=V;try{m(d)}catch(q){El(q)}d.currentTarget=null,m=b}else for(S=0;S<s.length;S++){if(x=s[S],b=x.instance,V=x.currentTarget,x=x.listener,b!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=V;try{m(d)}catch(q){El(q)}d.currentTarget=null,m=b}}}}function ve(e,n){var o=n[es];o===void 0&&(o=n[es]=new Set);var s=e+"__bubble";o.has(s)||(pp(n,e,2,!1),o.add(s))}function Pr(e,n,o){var s=0;n&&(s|=4),pp(o,e,s,n)}var sa="_reactListening"+Math.random().toString(36).slice(2);function Or(e){if(!e[sa]){e[sa]=!0,lc.forEach(function(o){o!=="selectionchange"&&(Ly.has(o)||Pr(o,!1,e),Pr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sa]||(n[sa]=!0,Pr("selectionchange",!1,n))}}function pp(e,n,o,s){switch(Pp(n)){case 2:var d=rv;break;case 8:d=uv;break;default:d=ou}o=d.bind(null,n,o,e),d=void 0,!us||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function Fr(e,n,o,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var x=s.stateNode.containerInfo;if(x===d)break;if(S===4)for(S=s.return;S!==null;){var b=S.tag;if((b===3||b===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;x!==null;){if(S=di(x),S===null)return;if(b=S.tag,b===5||b===6||b===26||b===27){s=m=S;continue e}x=x.parentNode}}s=s.return}yc(function(){var V=m,q=ss(o),P=[];e:{var G=Yc.get(e);if(G!==void 0){var k=vl,ne=e;switch(e){case"keypress":if(gl(o)===0)break e;case"keydown":case"keyup":k=N0;break;case"focusin":ne="focus",k=ps;break;case"focusout":ne="blur",k=ps;break;case"beforeblur":case"afterblur":k=ps;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=h0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=M0;break;case Bc:case Pc:case Oc:k=v0;break;case Fc:k=D0;break;case"scroll":case"scrollend":k=p0;break;case"wheel":k=L0;break;case"copy":case"cut":case"paste":k=T0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=_c;break;case"toggle":case"beforetoggle":k=G0}var se=(n&4)!==0,Ue=!se&&(e==="scroll"||e==="scrollend"),R=se?G!==null?G+"Capture":null:G;se=[];for(var N=V,L;N!==null;){var B=N;if(L=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||L===null||R===null||(B=co(N,R),B!=null&&se.push(Fo(N,B,L))),Ue)break;N=N.return}0<se.length&&(G=new k(G,ne,null,o,q),P.push({event:G,listeners:se}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",G&&o!==as&&(ne=o.relatedTarget||o.fromElement)&&(di(ne)||ne[fi]))break e;if((k||G)&&(G=q.window===q?q:(G=q.ownerDocument)?G.defaultView||G.parentWindow:window,k?(ne=o.relatedTarget||o.toElement,k=V,ne=ne?di(ne):null,ne!==null&&(Ue=f(ne),se=ne.tag,ne!==Ue||se!==5&&se!==27&&se!==6)&&(ne=null)):(k=null,ne=V),k!==ne)){if(se=Tc,B="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(se=_c,B="onPointerLeave",R="onPointerEnter",N="pointer"),Ue=k==null?G:uo(k),L=ne==null?G:uo(ne),G=new se(B,N+"leave",k,o,q),G.target=Ue,G.relatedTarget=L,B=null,di(q)===V&&(se=new se(R,N+"enter",ne,o,q),se.target=L,se.relatedTarget=Ue,B=se),Ue=B,k&&ne)t:{for(se=Vy,R=k,N=ne,L=0,B=R;B;B=se(B))L++;B=0;for(var ae=N;ae;ae=se(ae))B++;for(;0<L-B;)R=se(R),L--;for(;0<B-L;)N=se(N),B--;for(;L--;){if(R===N||N!==null&&R===N.alternate){se=R;break t}R=se(R),N=se(N)}se=null}else se=null;k!==null&&mp(P,G,k,se,!1),ne!==null&&Ue!==null&&mp(P,Ue,ne,se,!0)}}e:{if(G=V?uo(V):window,k=G.nodeName&&G.nodeName.toLowerCase(),k==="select"||k==="input"&&G.type==="file")var xe=Mc;else if(Rc(G))if(Ic)xe=J0;else{xe=F0;var oe=O0}else k=G.nodeName,!k||k.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?V&&ls(V.elementType)&&(xe=Mc):xe=Y0;if(xe&&(xe=xe(e,V))){wc(P,xe,o,q);break e}oe&&oe(e,G,V),e==="focusout"&&V&&G.type==="number"&&V.memoizedProps.value!=null&&os(G,"number",G.value)}switch(oe=V?uo(V):window,e){case"focusin":(Rc(oe)||oe.contentEditable==="true")&&(Ei=oe,Ss=V,So=null);break;case"focusout":So=Ss=Ei=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,qc(P,o,q);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":qc(P,o,q)}var me;if(hs)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ti?bc(e,o)&&(Te="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(xc&&o.locale!=="ko"&&(Ti||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ti&&(me=vc()):(Sn=q,cs="value"in Sn?Sn.value:Sn.textContent,Ti=!0)),oe=ra(V,Te),0<oe.length&&(Te=new Ec(Te,e,null,o,q),P.push({event:Te,listeners:oe}),me?Te.data=me:(me=Nc(o),me!==null&&(Te.data=me)))),(me=H0?q0(e,o):z0(e,o))&&(Te=ra(V,"onBeforeInput"),0<Te.length&&(oe=new Ec("onBeforeInput","beforeinput",null,o,q),P.push({event:oe,listeners:Te}),oe.data=me)),Iy(P,e,V,o,q)}dp(P,n)})}function Fo(e,n,o){return{instance:e,listener:n,currentTarget:o}}function ra(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=co(e,o),d!=null&&s.unshift(Fo(e,d,m)),d=co(e,n),d!=null&&s.push(Fo(e,d,m))),e.tag===3)return s;e=e.return}return[]}function Vy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mp(e,n,o,s,d){for(var m=n._reactName,S=[];o!==null&&o!==s;){var x=o,b=x.alternate,V=x.stateNode;if(x=x.tag,b!==null&&b===s)break;x!==5&&x!==26&&x!==27||V===null||(b=V,d?(V=co(o,m),V!=null&&S.unshift(Fo(o,V,b))):d||(V=co(o,m),V!=null&&S.push(Fo(o,V,b)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var Gy=/\r\n?/g,ky=/\u0000|\uFFFD/g;function hp(e){return(typeof e=="string"?e:""+e).replace(Gy,`
`).replace(ky,"")}function gp(e,n){return n=hp(n),hp(e)===n}function De(e,n,o,s,d,m){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||yi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&yi(e,""+s);break;case"className":dl(e,"class",s);break;case"tabIndex":dl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(e,o,s);break;case"style":hc(e,s,m);break;case"data":if(n!=="object"){dl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=ml(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(n!=="input"&&De(e,n,"name",d.name,d,null),De(e,n,"formEncType",d.formEncType,d,null),De(e,n,"formMethod",d.formMethod,d,null),De(e,n,"formTarget",d.formTarget,d,null)):(De(e,n,"encType",d.encType,d,null),De(e,n,"method",d.method,d,null),De(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=ml(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=Zt);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=ml(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":ve("beforetoggle",e),ve("toggle",e),fl(e,"popover",s);break;case"xlinkActuate":Qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":fl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=f0.get(o)||o,fl(e,o,s))}}function Yr(e,n,o,s,d,m){switch(o){case"style":hc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?yi(e,s):(typeof s=="number"||typeof s=="bigint")&&yi(e,""+s);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ac.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),m=e[ct]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):fl(e,o,s)}}}function tt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var s=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var S=o[m];if(S!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:De(e,n,m,S,o,null)}}d&&De(e,n,"srcSet",o.srcSet,o,null),s&&De(e,n,"src",o.src,o,null);return;case"input":ve("invalid",e);var x=m=S=d=null,b=null,V=null;for(s in o)if(o.hasOwnProperty(s)){var q=o[s];if(q!=null)switch(s){case"name":d=q;break;case"type":S=q;break;case"checked":b=q;break;case"defaultChecked":V=q;break;case"value":m=q;break;case"defaultValue":x=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:De(e,n,s,q,o,null)}}fc(e,m,x,b,V,S,d,!1);return;case"select":ve("invalid",e),s=S=m=null;for(d in o)if(o.hasOwnProperty(d)&&(x=o[d],x!=null))switch(d){case"value":m=x;break;case"defaultValue":S=x;break;case"multiple":s=x;default:De(e,n,d,x,o,null)}n=m,o=S,e.multiple=!!s,n!=null?gi(e,!!s,n,!1):o!=null&&gi(e,!!s,o,!0);return;case"textarea":ve("invalid",e),m=d=s=null;for(S in o)if(o.hasOwnProperty(S)&&(x=o[S],x!=null))switch(S){case"value":s=x;break;case"defaultValue":d=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:De(e,n,S,x,o,null)}pc(e,s,d,m);return;case"option":for(b in o)if(o.hasOwnProperty(b)&&(s=o[b],s!=null))switch(b){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:De(e,n,b,s,o,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(s=0;s<Oo.length;s++)ve(Oo[s],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in o)if(o.hasOwnProperty(V)&&(s=o[V],s!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:De(e,n,V,s,o,null)}return;default:if(ls(n)){for(q in o)o.hasOwnProperty(q)&&(s=o[q],s!==void 0&&Yr(e,n,q,s,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(s=o[x],s!=null&&De(e,n,x,s,o,null))}function Hy(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,x=null,b=null,V=null,q=null;for(k in o){var P=o[k];if(o.hasOwnProperty(k)&&P!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=P;default:s.hasOwnProperty(k)||De(e,n,k,null,s,P)}}for(var G in s){var k=s[G];if(P=o[G],s.hasOwnProperty(G)&&(k!=null||P!=null))switch(G){case"type":m=k;break;case"name":d=k;break;case"checked":V=k;break;case"defaultChecked":q=k;break;case"value":S=k;break;case"defaultValue":x=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==P&&De(e,n,G,k,s,P)}}is(e,S,x,b,V,q,m,d);return;case"select":k=S=x=G=null;for(m in o)if(b=o[m],o.hasOwnProperty(m)&&b!=null)switch(m){case"value":break;case"multiple":k=b;default:s.hasOwnProperty(m)||De(e,n,m,null,s,b)}for(d in s)if(m=s[d],b=o[d],s.hasOwnProperty(d)&&(m!=null||b!=null))switch(d){case"value":G=m;break;case"defaultValue":x=m;break;case"multiple":S=m;default:m!==b&&De(e,n,d,m,s,b)}n=x,o=S,s=k,G!=null?gi(e,!!o,G,!1):!!s!=!!o&&(n!=null?gi(e,!!o,n,!0):gi(e,!!o,o?[]:"",!1));return;case"textarea":k=G=null;for(x in o)if(d=o[x],o.hasOwnProperty(x)&&d!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:De(e,n,x,null,s,d)}for(S in s)if(d=s[S],m=o[S],s.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":G=d;break;case"defaultValue":k=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&De(e,n,S,d,s,m)}dc(e,G,k);return;case"option":for(var ne in o)if(G=o[ne],o.hasOwnProperty(ne)&&G!=null&&!s.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:De(e,n,ne,null,s,G)}for(b in s)if(G=s[b],k=o[b],s.hasOwnProperty(b)&&G!==k&&(G!=null||k!=null))switch(b){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:De(e,n,b,G,s,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in o)G=o[se],o.hasOwnProperty(se)&&G!=null&&!s.hasOwnProperty(se)&&De(e,n,se,null,s,G);for(V in s)if(G=s[V],k=o[V],s.hasOwnProperty(V)&&G!==k&&(G!=null||k!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:De(e,n,V,G,s,k)}return;default:if(ls(n)){for(var Ue in o)G=o[Ue],o.hasOwnProperty(Ue)&&G!==void 0&&!s.hasOwnProperty(Ue)&&Yr(e,n,Ue,void 0,s,G);for(q in s)G=s[q],k=o[q],!s.hasOwnProperty(q)||G===k||G===void 0&&k===void 0||Yr(e,n,q,G,s,k);return}}for(var R in o)G=o[R],o.hasOwnProperty(R)&&G!=null&&!s.hasOwnProperty(R)&&De(e,n,R,null,s,G);for(P in s)G=s[P],k=o[P],!s.hasOwnProperty(P)||G===k||G==null&&k==null||De(e,n,P,G,s,k)}function yp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],m=d.transferSize,S=d.initiatorType,x=d.duration;if(m&&x&&yp(S)){for(S=0,x=d.responseEnd,s+=1;s<o.length;s++){var b=o[s],V=b.startTime;if(V>x)break;var q=b.transferSize,P=b.initiatorType;q&&yp(P)&&(b=b.responseEnd,S+=q*(b<x?1:(x-V)/(b-V)))}if(--s,n+=8*(m+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jr=null,Xr=null;function ua(e){return e.nodeType===9?e:e.ownerDocument}function vp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Kr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qr=null;function zy(){var e=window.event;return e&&e.type==="popstate"?e===Qr?!1:(Qr=e,!0):(Qr=null,!1)}var Tp=typeof setTimeout=="function"?setTimeout:void 0,By=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,Py=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(e){return Ep.resolve(null).then(e).catch(Oy)}:Tp;function Oy(e){setTimeout(function(){throw e})}function Gn(e){return e==="head"}function _p(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),Ki(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Yo(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Yo(o);for(var m=o.firstChild;m;){var S=m.nextSibling,x=m.nodeName;m[ro]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=S}}else o==="body"&&Yo(e.ownerDocument.body);o=d}while(o);Ki(n)}function xp(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function Zr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Zr(o),ts(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Fy(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ro])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function Yy(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Vt(e.nextSibling),e===null))return null;return e}function Cp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function $r(e){return e.data==="$?"||e.data==="$~"}function Wr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jy(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Vt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var jr=null;function Ap(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Vt(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function bp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Np(e,n,o){switch(n=ua(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Yo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ts(e)}var Gt=new Map,Rp=new Set;function ca(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pn=Q.d;Q.d={f:Xy,r:Ky,D:Qy,C:Zy,L:$y,m:Wy,X:ev,S:jy,M:tv};function Xy(){var e=pn.f(),n=ta();return e||n}function Ky(e){var n=pi(e);n!==null&&n.tag===5&&n.type==="form"?Yf(n):pn.r(e)}var Yi=typeof document>"u"?null:document;function wp(e,n,o){var s=Yi;if(s&&typeof n=="string"&&n){var d=Rt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Rp.has(d)||(Rp.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),tt(n,"link",e),Ke(n),s.head.appendChild(n)))}}function Qy(e){pn.D(e),wp("dns-prefetch",e,null)}function Zy(e,n){pn.C(e,n),wp("preconnect",e,n)}function $y(e,n,o){pn.L(e,n,o);var s=Yi;if(s&&e&&n){var d='link[rel="preload"][as="'+Rt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Rt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Rt(o.imageSizes)+'"]')):d+='[href="'+Rt(e)+'"]';var m=d;switch(n){case"style":m=Ji(e);break;case"script":m=Xi(e)}Gt.has(m)||(e=E({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Gt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Jo(m))||n==="script"&&s.querySelector(Xo(m))||(n=s.createElement("link"),tt(n,"link",e),Ke(n),s.head.appendChild(n)))}}function Wy(e,n){pn.m(e,n);var o=Yi;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Rt(s)+'"][href="'+Rt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Xi(e)}if(!Gt.has(m)&&(e=E({rel:"modulepreload",href:e},n),Gt.set(m,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xo(m)))return}s=o.createElement("link"),tt(s,"link",e),Ke(s),o.head.appendChild(s)}}}function jy(e,n,o){pn.S(e,n,o);var s=Yi;if(s&&e){var d=mi(s).hoistableStyles,m=Ji(e);n=n||"default";var S=d.get(m);if(!S){var x={loading:0,preload:null};if(S=s.querySelector(Jo(m)))x.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Gt.get(m))&&eu(e,o);var b=S=s.createElement("link");Ke(b),tt(b,"link",e),b._p=new Promise(function(V,q){b.onload=V,b.onerror=q}),b.addEventListener("load",function(){x.loading|=1}),b.addEventListener("error",function(){x.loading|=2}),x.loading|=4,fa(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:x},d.set(m,S)}}}function ev(e,n){pn.X(e,n);var o=Yi;if(o&&e){var s=mi(o).hoistableScripts,d=Xi(e),m=s.get(d);m||(m=o.querySelector(Xo(d)),m||(e=E({src:e,async:!0},n),(n=Gt.get(d))&&tu(e,n),m=o.createElement("script"),Ke(m),tt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function tv(e,n){pn.M(e,n);var o=Yi;if(o&&e){var s=mi(o).hoistableScripts,d=Xi(e),m=s.get(d);m||(m=o.querySelector(Xo(d)),m||(e=E({src:e,async:!0,type:"module"},n),(n=Gt.get(d))&&tu(e,n),m=o.createElement("script"),Ke(m),tt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Mp(e,n,o,s){var d=(d=ge.current)?ca(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Ji(o.href),o=mi(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Ji(o.href);var m=mi(d).hoistableStyles,S=m.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=d.querySelector(Jo(e)))&&!m._p&&(S.instance=m,S.state.loading=5),Gt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gt.set(e,o),m||nv(d,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Xi(o),o=mi(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ji(e){return'href="'+Rt(e)+'"'}function Jo(e){return'link[rel="stylesheet"]['+e+"]"}function Ip(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function nv(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),tt(n,"link",o),Ke(n),e.head.appendChild(n))}function Xi(e){return'[src="'+Rt(e)+'"]'}function Xo(e){return"script[async]"+e}function Dp(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Rt(o.href)+'"]');if(s)return n.instance=s,Ke(s),s;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ke(s),tt(s,"style",d),fa(s,o.precedence,e),n.instance=s;case"stylesheet":d=Ji(o.href);var m=e.querySelector(Jo(d));if(m)return n.state.loading|=4,n.instance=m,Ke(m),m;s=Ip(o),(d=Gt.get(d))&&eu(s,d),m=(e.ownerDocument||e).createElement("link"),Ke(m);var S=m;return S._p=new Promise(function(x,b){S.onload=x,S.onerror=b}),tt(m,"link",s),n.state.loading|=4,fa(m,o.precedence,e),n.instance=m;case"script":return m=Xi(o.src),(d=e.querySelector(Xo(m)))?(n.instance=d,Ke(d),d):(s=o,(d=Gt.get(m))&&(s=E({},o),tu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ke(d),tt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,fa(s,o.precedence,e));return n.instance}function fa(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,S=0;S<s.length;S++){var x=s[S];if(x.dataset.precedence===n)m=x;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function eu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function tu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var da=null;function Up(e,n,o){if(da===null){var s=new Map,d=da=new Map;d.set(o,s)}else d=da,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var m=o[d];if(!(m[ro]||m[$e]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var x=s.get(S);x?x.push(m):s.set(S,[m])}}return s}function Lp(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function iv(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ov(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Ji(s.href),m=n.querySelector(Jo(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pa.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=m,Ke(m);return}m=n.ownerDocument||n,s=Ip(s),(d=Gt.get(d))&&eu(s,d),m=m.createElement("link"),Ke(m);var S=m;S._p=new Promise(function(x,b){S.onload=x,S.onerror=b}),tt(m,"link",s),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=pa.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var nu=0;function lv(e,n){return e.stylesheets&&e.count===0&&ha(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&ha(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&nu===0&&(nu=62500*qy());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ha(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>nu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function pa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ha(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ma=null;function ha(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ma=new Map,n.forEach(av,e),ma=null,pa.call(e))}function av(e,n){if(!(n.state.loading&4)){var o=ma.get(e);if(o)var s=o.get(null);else{o=new Map,ma.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),m=o.get(S)||s,m===s&&o.set(null,d),o.set(S,d),this.count++,s=pa.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Ko={$$typeof:D,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function sv(e,n,o,s,d,m,S,x,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.hiddenUpdates=$a(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Gp(e,n,o,s,d,m,S,x,b,V,q,P){return e=new sv(e,n,o,S,b,V,q,P,x),n=1,m===!0&&(n|=24),m=Et(3,null,null,n),e.current=m,m.stateNode=e,n=Vs(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:o,cache:n},qs(m),e}function kp(e){return e?(e=Ci,e):Ci}function Hp(e,n,o,s,d,m){d=kp(d),s.context===null?s.context=d:s.pendingContext=d,s=An(n),s.payload={element:o},m=m===void 0?null:m,m!==null&&(s.callback=m),o=bn(e,s,n),o!==null&&(gt(o,e,n),bo(o,e,n))}function qp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function iu(e,n){qp(e,n),(e=e.alternate)&&qp(e,n)}function zp(e){if(e.tag===13||e.tag===31){var n=Zn(e,67108864);n!==null&&gt(n,e,67108864),iu(e,67108864)}}function Bp(e){if(e.tag===13||e.tag===31){var n=bt();n=Wa(n);var o=Zn(e,n);o!==null&&gt(o,e,n),iu(e,n)}}var ga=!0;function rv(e,n,o,s){var d=H.T;H.T=null;var m=Q.p;try{Q.p=2,ou(e,n,o,s)}finally{Q.p=m,H.T=d}}function uv(e,n,o,s){var d=H.T;H.T=null;var m=Q.p;try{Q.p=8,ou(e,n,o,s)}finally{Q.p=m,H.T=d}}function ou(e,n,o,s){if(ga){var d=lu(s);if(d===null)Fr(e,n,s,ya,o),Op(e,s);else if(fv(d,e,n,o,s))s.stopPropagation();else if(Op(e,s),n&4&&-1<cv.indexOf(e)){for(;d!==null;){var m=pi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Yn(m.pendingLanes);if(S!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var b=1<<31-St(S);x.entanglements[1]|=b,S&=~b}Kt(m),(be&6)===0&&(jl=yt()+500,Po(0))}}break;case 31:case 13:x=Zn(m,2),x!==null&&gt(x,m,2),ta(),iu(m,2)}if(m=lu(s),m===null&&Fr(e,n,s,ya,o),m===d)break;d=m}d!==null&&s.stopPropagation()}else Fr(e,n,s,null,o)}}function lu(e){return e=ss(e),au(e)}var ya=null;function au(e){if(ya=null,e=di(e),e!==null){var n=f(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ya=e,null}function Pp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qg()){case Qu:return 2;case Zu:return 8;case al:case Zg:return 32;case $u:return 268435456;default:return 32}default:return 32}}var su=!1,kn=null,Hn=null,qn=null,Qo=new Map,Zo=new Map,zn=[],cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(e,n){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Qo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(n.pointerId)}}function $o(e,n,o,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=pi(n),n!==null&&zp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function fv(e,n,o,s,d){switch(n){case"focusin":return kn=$o(kn,e,n,o,s,d),!0;case"dragenter":return Hn=$o(Hn,e,n,o,s,d),!0;case"mouseover":return qn=$o(qn,e,n,o,s,d),!0;case"pointerover":var m=d.pointerId;return Qo.set(m,$o(Qo.get(m)||null,e,n,o,s,d)),!0;case"gotpointercapture":return m=d.pointerId,Zo.set(m,$o(Zo.get(m)||null,e,n,o,s,d)),!0}return!1}function Fp(e){var n=di(e.target);if(n!==null){var o=f(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,ic(e.priority,function(){Bp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,ic(e.priority,function(){Bp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=lu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);as=s,o.target.dispatchEvent(s),as=null}else return n=pi(o),n!==null&&zp(n),e.blockedOn=o,!1;n.shift()}return!0}function Yp(e,n,o){va(e)&&o.delete(n)}function dv(){su=!1,kn!==null&&va(kn)&&(kn=null),Hn!==null&&va(Hn)&&(Hn=null),qn!==null&&va(qn)&&(qn=null),Qo.forEach(Yp),Zo.forEach(Yp)}function Sa(e,n){e.blockedOn===n&&(e.blockedOn=null,su||(su=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,dv)))}var Ta=null;function Jp(e){Ta!==e&&(Ta=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ta===e&&(Ta=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(au(s||o)===null)continue;break}var m=pi(o);m!==null&&(e.splice(n,3),n-=3,lr(m,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function Ki(e){function n(b){return Sa(b,e)}kn!==null&&Sa(kn,e),Hn!==null&&Sa(Hn,e),qn!==null&&Sa(qn,e),Qo.forEach(n),Zo.forEach(n);for(var o=0;o<zn.length;o++){var s=zn[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<zn.length&&(o=zn[0],o.blockedOn===null);)Fp(o),o.blockedOn===null&&zn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],m=o[s+1],S=d[ct]||null;if(typeof m=="function")S||Jp(o);else if(S){var x=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[ct]||null)x=S.formAction;else if(au(d)!==null)continue}else x=S.action;typeof x=="function"?o[s+1]=x:(o.splice(s,3),s-=3),Jp(o)}}}function Xp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function ru(e){this._internalRoot=e}Ea.prototype.render=ru.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=bt();Hp(o,s,e,n,null,null)},Ea.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hp(e.current,2,null,e,null,null),ta(),n[fi]=null}};function Ea(e){this._internalRoot=e}Ea.prototype.unstable_scheduleHydration=function(e){if(e){var n=nc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<zn.length&&n!==0&&n<zn[o].priority;o++);zn.splice(o,0,e),o===0&&Fp(e)}};var Kp=t.version;if(Kp!=="19.2.3")throw Error(a(527,Kp,"19.2.3"));Q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var pv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{lo=_a.inject(pv),vt=_a}catch{}}return jo.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=td,m=nd,S=id;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Gp(e,1,!1,null,null,o,s,null,d,m,S,Xp),e[fi]=n.current,Or(e),new ru(n)},jo.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",m=td,S=nd,x=id,b=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(b=o.formState)),n=Gp(e,1,!0,n,o??null,s,d,b,m,S,x,Xp),n.context=kp(null),o=n.current,s=bt(),s=Wa(s),d=An(s),d.callback=null,bn(o,d,s),o=s,n.current.lanes=o,so(n,o),Kt(n),e[fi]=n.current,Or(e),new Ea(n)},jo.version="19.2.3",jo}var om;function xv(){if(om)return fu.exports;om=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),fu.exports=_v(),fu.exports}var Cv=xv();const Av=Qh(Cv);var bv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Nv,Rv;function wv(){return{geminiUrl:Nv,vertexUrl:Rv}}function Mv(i,t,l,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=wv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hn{}function W(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),l[h])}else for(const h of y)c(h,t.slice(f+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function Iv(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Tu(i,r,f,0,p)}}function Tu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Tu(y,t,l,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const E=[];for(const _ of l.slice(a))_==="*"?E.push(h):E.push(_);c(p,E,v)}for(const h of g)delete p[h]}}else{const p=i;f in p&&Tu(p[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dv(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function Uv(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Vv(p)),t}function Lv(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Gv(p)),t}function Vv(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>kv(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Gv(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>Hv(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function kv(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],Fv(l)),t}function Hv(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],Yv(l)),t}function qv(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function zv(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Bv(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Pv(p)),t}function Pv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Zh(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Ov(p)),t}function Ov(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Fv(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Vu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Yv(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Vu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lm||(lm={}));var am;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(am||(am={}));var sm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(sm||(sm={}));var Pn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Pn||(Pn={}));var rm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(rm||(rm={}));var um;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(um||(um={}));var cm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(cm||(cm={}));var fm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fm||(fm={}));var dm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(dm||(dm={}));var pm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(pm||(pm={}));var mm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(mm||(mm={}));var hm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(hm||(hm={}));var gm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(gm||(gm={}));var ym;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(ym||(ym={}));var vm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(vm||(vm={}));var Sm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Sm||(Sm={}));var Tm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Tm||(Tm={}));var Em;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Em||(Em={}));var _m;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_m||(_m={}));var Ia;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ia||(Ia={}));var xm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xm||(xm={}));var Cm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Cm||(Cm={}));var Am;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Am||(Am={}));var Eu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Eu||(Eu={}));var bm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(bm||(bm={}));var Nm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Nm||(Nm={}));var Rm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Rm||(Rm={}));var wm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(wm||(wm={}));var Mm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Mm||(Mm={}));var Im;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Im||(Im={}));var Dm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Dm||(Dm={}));var Um;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Um||(Um={}));var Lm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Lm||(Lm={}));var Vm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Vm||(Vm={}));var Gm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gm||(Gm={}));var km;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(km||(km={}));var Hm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hm||(Hm={}));var qm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qm||(qm={}));var zm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(zm||(zm={}));var Bm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Bm||(Bm={}));var Pm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Pm||(Pm={}));var Om;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Om||(Om={}));var Fm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Fm||(Fm={}));var Ym;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Ym||(Ym={}));var Jm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Jm||(Jm={}));var Xm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Xm||(Xm={}));var Km;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Km||(Km={}));var Qm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Qm||(Qm={}));var Zm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Zm||(Zm={}));var $m;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})($m||($m={}));var Wm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Wm||(Wm={}));var jm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(jm||(jm={}));var eh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(eh||(eh={}));var th;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(th||(th={}));var nh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(nh||(nh={}));var $i;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})($i||($i={}));class _u{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class el{get text(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const _ of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,I]of Object.entries(_))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(I!==null||I!==void 0)&&E.push(A);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,h+=_.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,A]of Object.entries(E))_!=="inlineData"&&(A!==null||A!==void 0)&&v.push(_);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,a,r,f,p,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,a,r,f,p,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class ih{}class oh{}class Jv{}class Xv{}class Kv{}class Qv{}class lh{}class ah{}class sh{}class Zv{}class Da{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Da;let r;const f=t;return l?r=Lv(f):r=Uv(f),Object.assign(a,r),a}}class rh{}class uh{}class ch{}class fh{}class $v{}class Wv{}class jv{}class Gu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Gu,f=Bv(t);return Object.assign(a,f),a}}class eS{}class tS{}class nS{}class dh{}class iS{get text(){var t,l,a;let r="",f=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class oS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ku{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new ku,f=Zh(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function $h(i,t){const l=Ae(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Wh(i){return Array.isArray(i)?i.map(t=>Ua(t)):[Ua(i)]}function Ua(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function jh(i){const t=Ua(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function eg(i){const t=Ua(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ph(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function tg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>ph(t)):[ph(i)]}function xu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function mh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function hh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function lt(i){if(i==null)throw new Error("ContentUnion is required");return xu(i)?i:{role:"user",parts:tg(i)}}function Hu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=lt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=lt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>lt(l)):[lt(t)]}function kt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(mh(i)||hh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lt(i)]}const t=[],l=[],a=xu(i[0]);for(const r of i){const f=xu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(mh(r)||hh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:tg(l)}),t}function lS(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(Pn).includes(l[0].toUpperCase())?l[0].toUpperCase():Pn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(Pn).includes(a.toUpperCase())?a.toUpperCase():Pn.TYPE_UNSPECIFIED})}}function ji(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&lS(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Pn).includes(g.toUpperCase())?g.toUpperCase():Pn.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=ji(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(ji(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=ji(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function qu(i){return ji(i)}function zu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Bu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function to(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ji(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ji(t.response));return i}function no(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function aS(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function gn(i,t){if(typeof t!="string")throw new Error("name must be a string");return aS(i,t,"cachedContents")}function ng(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function On(i){return Vu(i)}function sS(i){return i!=null&&typeof i=="object"&&"name"in i}function rS(i){return i!=null&&typeof i=="object"&&"video"in i}function uS(i){return i!=null&&typeof i=="object"&&"uri"in i}function ig(i){var t;let l;if(sS(i)&&(l=i.name),!(uS(i)&&(l=i.uri,l===void 0))&&!(rS(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function og(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function lg(i){for(const t of["models","tunedModels","publisherModels"])if(cS(i,t))return i[t];return[]}function cS(i,t){return i!==null&&typeof i=="object"&&t in i}function fS(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function dS(i,t={}){const l=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=fS(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function ag(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function pS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function sg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function io(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function rg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mS(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>KS(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function hS(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function gS(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ra(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],rg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],mS(sg(h))),t}function Cu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],rg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const E=u(i,["inputConfig"]);E!=null&&c(t,["src"],yS(E));const _=u(i,["outputConfig"]);_!=null&&c(t,["dest"],hS(sg(_)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function yS(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function vS(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>XS(i,p))),c(l,["requests","requests"],f)}return l}function SS(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function TS(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ES(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function _S(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function xS(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],CS(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(A=>A)),c(t,["safetyRatings"],_)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function CS(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function ug(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>tT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function AS(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function bS(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],gS(pS(r))),l}function gh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],vS(i,ag(i,r)));const f=u(t,["config"]);return f!=null&&AS(f,l),l}function NS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Ae(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],SS(ag(i,r)));const f=u(t,["config"]);return f!=null&&bS(f,l),l}function RS(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function wS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],GS(i,r));const f=u(t,["config"]);return f!=null&&RS(f,l),l}function MS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function IS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function DS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function US(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function LS(i,t){const l={},a=u(t,["contents"]);if(a!=null){let f=Hu(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],VS(r,l)),Iv(l,{"requests[].*":"requests[].request.*"})),l}function VS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function GS(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],LS(i,r)),l}function kS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function HS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qS(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function zS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],ug(lt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&c(a,["responseMimeType"],M);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],qu(z));const J=u(t,["responseJsonSchema"]);if(J!=null&&c(a,["responseJsonSchema"],J),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(t,["safetySettings"]);if(l!==void 0&&D!=null){let ue=D;Array.isArray(ue)&&(ue=ue.map(Me=>nT(Me))),c(l,["safetySettings"],ue)}const O=u(t,["tools"]);if(l!==void 0&&O!=null){let ue=no(O);Array.isArray(ue)&&(ue=ue.map(Me=>oT(to(Me)))),c(l,["tools"],ue)}const Z=u(t,["toolConfig"]);if(l!==void 0&&Z!=null&&c(l,["toolConfig"],iT(Z)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=u(t,["cachedContent"]);l!==void 0&&ie!=null&&c(l,["cachedContent"],gn(i,ie));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const he=u(t,["mediaResolution"]);he!=null&&c(a,["mediaResolution"],he);const ee=u(t,["speechConfig"]);if(ee!=null&&c(a,["speechConfig"],zu(ee)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=u(t,["thinkingConfig"]);X!=null&&c(a,["thinkingConfig"],X);const le=u(t,["imageConfig"]);le!=null&&c(a,["imageConfig"],JS(le));const $=u(t,["enableEnhancedCivicAnswers"]);return $!=null&&c(a,["enableEnhancedCivicAnswers"],$),a}function BS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>xS(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function PS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function OS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],io(i,a)),l}function FS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function YS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function JS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function XS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Ae(i,a));const r=u(t,["contents"]);if(r!=null){let g=kt(r);Array.isArray(g)&&(g=g.map(y=>ug(y))),c(l,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(l,["request","generationConfig"],zS(i,p,u(l,["request"],{}))),l}function KS(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],BS(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function QS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function ZS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function $S(i){const t={},l=u(i,["config"]);return l!=null&&QS(l,t),t}function WS(i){const t={},l=u(i,["config"]);return l!=null&&ZS(l,t),t}function jS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Ra(p))),c(t,["batchJobs"],f)}return t}function eT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Cu(p))),c(t,["batchJobs"],f)}return t}function tT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],kS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],HS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],TS(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function nT(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function iT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],qS(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function oT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],FS(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],YS(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(mn||(mn={}));class ci{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lT extends hn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new ci(mn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=gh(this.apiClient,t),a=l._url,r=W("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const _=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=_,E.request=A}h.push(E)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=NS(this.apiClient,t);return g=W("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Cu(v))}else{const h=gh(this.apiClient,t);return g=W("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ra(v))}}async createEmbeddingsInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wS(this.apiClient,t);return f=W("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ra(y))}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=OS(this.apiClient,t);return g=W("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Cu(v))}else{const h=PS(this.apiClient,t);return g=W("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ra(v))}}async cancel(t){var l,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=_S(this.apiClient,t);p=W("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=ES(this.apiClient,t);p=W("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=WS(t);return g=W("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=eT(v),_=new dh;return Object.assign(_,E),_})}else{const h=$S(t);return g=W("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=jS(v),_=new dh;return Object.assign(_,E),_})}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=IS(this.apiClient,t);return g=W("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>US(v))}else{const h=MS(this.apiClient,t);return g=W("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>DS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function yh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>wT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function sT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=kt(p);Array.isArray(v)&&(v=v.map(E=>yh(E))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],yh(lt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>IT(E))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],MT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function rT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let E=kt(p);Array.isArray(E)&&(E=E.map(_=>_)),c(t,["contents"],E)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],lt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(_=>DT(_))),c(t,["tools"],E)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function uT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],$h(i,a));const r=u(t,["config"]);return r!=null&&sT(r,l),l}function cT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],$h(i,a));const r=u(t,["config"]);return r!=null&&rT(r,l),l}function fT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],gn(i,a)),l}function dT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],gn(i,a)),l}function pT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function mT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function hT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function gT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function yT(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function vT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function ST(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],gn(i,a)),l}function TT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],gn(i,a)),l}function ET(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function _T(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function xT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function CT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function AT(i){const t={},l=u(i,["config"]);return l!=null&&xT(l,t),t}function bT(i){const t={},l=u(i,["config"]);return l!=null&&CT(l,t),t}function NT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function RT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function wT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],hT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],gT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],aT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function MT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],yT(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function IT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],ET(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],_T(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function DT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(_=>vT(_))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function UT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function LT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function VT(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],gn(i,a));const r=u(t,["config"]);return r!=null&&UT(r,l),l}function GT(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],gn(i,a));const r=u(t,["config"]);return r!=null&&LT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kT extends hn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new ci(mn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=cT(this.apiClient,t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=uT(this.apiClient,t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=TT(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=ST(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dT(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=mT(v),_=new ch;return Object.assign(_,E),_})}else{const h=fT(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=pT(v),_=new ch;return Object.assign(_,E),_})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=GT(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=VT(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=bT(t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=RT(v),_=new fh;return Object.assign(_,E),_})}else{const h=AT(t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=NT(v),_=new fh;return Object.assign(_,E),_})}}}function La(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function vh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(i){return this instanceof ce?(this.v=i,this):new ce(i)}function Pt(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(I){return Promise.resolve(I).then(A,E)}}function g(A,I){a[A]&&(r[A]=function(w){return new Promise(function(M,z){f.push([A,w,M,z])>1||y(A,w)})},I&&(r[A]=I(r[A])))}function y(A,I){try{h(a[A](I))}catch(w){_(f[0][3],w)}}function h(A){A.value instanceof ce?Promise.resolve(A.value.v).then(v,E):_(f[0][2],A)}function v(A){y("next",A)}function E(A){y("throw",A)}function _(A,I){A(I),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Ot(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof vh=="function"?vh(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:cg(l)}function cg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function qT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Sh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),f&&!cg(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class zT{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new BT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class BT{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),qT(f)}async sendMessage(t){var l;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let _=[];v!=null&&(_=(g=v.slice(E))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(a,A,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?Sh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Pt(this,arguments,function*(){var r,f,p,g,y,h;const v=[];try{for(var E=!0,_=Ot(t),A;A=yield ce(_.next()),r=A.done,!r;E=!0){g=A.value,E=!1;const I=g;if(HT(I)){const w=(h=(y=I.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;w!==void 0&&v.push(w)}yield yield ce(I)}}catch(I){f={error:I}}finally{try{!E&&!r&&(p=_.return)&&(yield ce(p.call(_)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Sh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ha extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ha.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PT(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function OT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function FT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],ig(l)),t}function YT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function JT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],ig(l)),t}function XT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function KT(i){const t={},l=u(i,["config"]);return l!=null&&XT(l,t),t}function QT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZT extends hn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new ci(mn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=KT(t);return f=W("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=QT(y),v=new eS;return Object.assign(v,h),v})}}async createInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PT(t);return f=W("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=OT(y),v=new tS;return Object.assign(v,h),v})}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JT(t);return f=W("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FT(t);return f=W("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=YT(y),v=new nS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wa(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function $T(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>pE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function WT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function jT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function eE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function tE(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const I=u(i,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const w=u(i,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const M=u(i,["routingConfig"]);M!=null&&c(t,["routingConfig"],M);const z=u(i,["seed"]);z!=null&&c(t,["seed"],z);const J=u(i,["speechConfig"]);J!=null&&c(t,["speechConfig"],fg(J));const D=u(i,["stopSequences"]);D!=null&&c(t,["stopSequences"],D);const O=u(i,["temperature"]);O!=null&&c(t,["temperature"],O);const Z=u(i,["thinkingConfig"]);Z!=null&&c(t,["thinkingConfig"],Z);const ie=u(i,["topK"]);ie!=null&&c(t,["topK"],ie);const Y=u(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function nE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function iE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function oE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Bu(E));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],$T(lt(I)));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let ie=no(w);Array.isArray(ie)&&(ie=ie.map(Y=>hE(to(Y)))),c(t,["setup","tools"],ie)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],mE(M));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const D=u(i,["realtimeInputConfig"]);t!==void 0&&D!=null&&c(t,["setup","realtimeInputConfig"],D);const O=u(i,["contextWindowCompression"]);t!==void 0&&O!=null&&c(t,["setup","contextWindowCompression"],O);const Z=u(i,["proactivity"]);if(t!==void 0&&Z!=null&&c(t,["setup","proactivity"],Z),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function lE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],tE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],fg(Bu(E)));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],lt(I));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let Y=no(w);Array.isArray(Y)&&(Y=Y.map(he=>gE(to(he)))),c(t,["setup","tools"],Y)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],M);const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const D=u(i,["realtimeInputConfig"]);t!==void 0&&D!=null&&c(t,["setup","realtimeInputConfig"],D);const O=u(i,["contextWindowCompression"]);t!==void 0&&O!=null&&c(t,["setup","contextWindowCompression"],O);const Z=u(i,["proactivity"]);t!==void 0&&Z!=null&&c(t,["setup","proactivity"],Z);const ie=u(i,["explicitVadSignal"]);return t!==void 0&&ie!=null&&c(t,["setup","explicitVadSignal"],ie),l}function aE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ae(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],oE(r,l)),l}function sE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ae(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],lE(r,l)),l}function rE(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function uE(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function cE(i){const t={},l=u(i,["media"]);if(l!=null){let h=Wh(l);Array.isArray(h)&&(h=h.map(v=>wa(v))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],wa(eg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],wa(jh(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function fE(i){const t={},l=u(i,["media"]);if(l!=null){let h=Wh(l);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],eg(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],jh(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function dE(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],yE(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function pE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],WT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],jT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],wa(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function mE(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function fg(i){const t={},l=u(i,["voiceConfig"]);l!=null&&c(t,["voiceConfig"],l);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function hE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],nE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],iE(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function gE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(_=>eE(_))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function yE(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(I=>I)),c(t,["promptTokensDetails"],A)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(I=>I)),c(t,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(I=>I)),c(t,["responseTokensDetails"],A)}const E=u(i,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(I=>I)),c(t,["toolUsePromptTokensDetails"],A)}const _=u(i,["trafficType"]);return _!=null&&c(t,["trafficType"],_),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vE(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function SE(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],TE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(A=>A)),c(t,["safetyRatings"],_)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function TE(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function EE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["contents"]);if(r!=null){let f=kt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["contents"],f)}return l}function _E(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function xE(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],CE(a)),t}function CE(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function qa(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>U_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function AE(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function bE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function NE(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],lt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>gg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],v_(f)),l}function RE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["contents"]);if(r!=null){let p=kt(r);Array.isArray(p)&&(p=p.map(g=>qa(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&bE(f),l}function wE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["contents"]);if(r!=null){let p=kt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&NE(f,l),l}function ME(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function IE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function DE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ae(i,a)),l}function UE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ae(i,a)),l}function LE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function VE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function GE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const w=u(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&c(t,["parameters","addWatermark"],M);const z=u(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const J=u(i,["editMode"]);t!==void 0&&J!=null&&c(t,["parameters","editMode"],J);const D=u(i,["baseSteps"]);return t!==void 0&&D!=null&&c(t,["parameters","editConfig","baseSteps"],D),l}function kE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>q_(y))),c(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&GE(p,l),l}function HE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>za(f))),c(t,["generatedImages"],r)}return t}function qE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function zE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function BE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["contents"]);if(r!=null){let g=Hu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&qE(f,l);const p=u(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],Ae(i,p)),l}function PE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["contents"]);if(r!=null){let p=Hu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&zE(f,l),l}function OE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function FE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>xE(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function YE(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function JE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function XE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function KE(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function QE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function ZE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],qa(lt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&c(a,["responseMimeType"],M);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],qu(z));const J=u(t,["responseJsonSchema"]);if(J!=null&&c(a,["responseJsonSchema"],J),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(t,["safetySettings"]);if(l!==void 0&&D!=null){let ue=D;Array.isArray(ue)&&(ue=ue.map(Me=>z_(Me))),c(l,["safetySettings"],ue)}const O=u(t,["tools"]);if(l!==void 0&&O!=null){let ue=no(O);Array.isArray(ue)&&(ue=ue.map(Me=>X_(to(Me)))),c(l,["tools"],ue)}const Z=u(t,["toolConfig"]);if(l!==void 0&&Z!=null&&c(l,["toolConfig"],J_(Z)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=u(t,["cachedContent"]);l!==void 0&&ie!=null&&c(l,["cachedContent"],gn(i,ie));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const he=u(t,["mediaResolution"]);he!=null&&c(a,["mediaResolution"],he);const ee=u(t,["speechConfig"]);if(ee!=null&&c(a,["speechConfig"],zu(ee)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=u(t,["thinkingConfig"]);X!=null&&c(a,["thinkingConfig"],X);const le=u(t,["imageConfig"]);le!=null&&c(a,["imageConfig"],x_(le));const $=u(t,["enableEnhancedCivicAnswers"]);return $!=null&&c(a,["enableEnhancedCivicAnswers"],$),a}function $E(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],lt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&c(a,["responseMimeType"],M);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],qu(z));const J=u(t,["responseJsonSchema"]);J!=null&&c(a,["responseJsonSchema"],J);const D=u(t,["routingConfig"]);D!=null&&c(a,["routingConfig"],D);const O=u(t,["modelSelectionConfig"]);O!=null&&c(a,["modelConfig"],O);const Z=u(t,["safetySettings"]);if(l!==void 0&&Z!=null){let H=Z;Array.isArray(H)&&(H=H.map(Q=>Q)),c(l,["safetySettings"],H)}const ie=u(t,["tools"]);if(l!==void 0&&ie!=null){let H=no(ie);Array.isArray(H)&&(H=H.map(Q=>gg(to(Q)))),c(l,["tools"],H)}const Y=u(t,["toolConfig"]);l!==void 0&&Y!=null&&c(l,["toolConfig"],Y);const he=u(t,["labels"]);l!==void 0&&he!=null&&c(l,["labels"],he);const ee=u(t,["cachedContent"]);l!==void 0&&ee!=null&&c(l,["cachedContent"],gn(i,ee));const X=u(t,["responseModalities"]);X!=null&&c(a,["responseModalities"],X);const le=u(t,["mediaResolution"]);le!=null&&c(a,["mediaResolution"],le);const $=u(t,["speechConfig"]);$!=null&&c(a,["speechConfig"],hg(zu($)));const ue=u(t,["audioTimestamp"]);ue!=null&&c(a,["audioTimestamp"],ue);const Me=u(t,["thinkingConfig"]);Me!=null&&c(a,["thinkingConfig"],Me);const it=u(t,["imageConfig"]);if(it!=null&&c(a,["imageConfig"],C_(it)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Th(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["contents"]);if(r!=null){let p=kt(r);Array.isArray(p)&&(p=p.map(g=>qa(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],ZE(i,f,l)),l}function Eh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["contents"]);if(r!=null){let p=kt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],$E(i,f,l)),l}function _h(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>SE(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function xh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function WE(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","mimeType"],E);const _=u(i,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function jE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const w=u(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&c(t,["parameters","addWatermark"],M);const z=u(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const J=u(i,["imageSize"]);t!==void 0&&J!=null&&c(t,["parameters","sampleImageSize"],J);const D=u(i,["enhancePrompt"]);return t!==void 0&&D!=null&&c(t,["parameters","enhancePrompt"],D),l}function e_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&WE(f,l),l}function t_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&jE(f,l),l}function n_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>m_(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],pg(r)),t}function i_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>za(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],mg(r)),t}function o_(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Ba(v));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let _=E;Array.isArray(_)&&(_=_.map(A=>ax(A))),c(t,["instances[0]","referenceImages"],_)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function l_(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&c(t,["parameters","pubsubTopic"],E);const _=u(i,["negativePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","negativePrompt"],_);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const I=u(i,["generateAudio"]);t!==void 0&&I!=null&&c(t,["parameters","generateAudio"],I);const w=u(i,["lastFrame"]);t!==void 0&&w!=null&&c(t,["instances[0]","lastFrame"],Ft(w));const M=u(i,["referenceImages"]);if(t!==void 0&&M!=null){let D=M;Array.isArray(D)&&(D=D.map(O=>sx(O))),c(t,["instances[0]","referenceImages"],D)}const z=u(i,["mask"]);t!==void 0&&z!=null&&c(t,["instances[0]","mask"],lx(z));const J=u(i,["compressionQuality"]);return t!==void 0&&J!=null&&c(t,["parameters","compressionQuality"],J),l}function a_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],c_(p)),t}function s_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],f_(p)),t}function r_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Ba(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],yg(p));const g=u(t,["source"]);g!=null&&d_(g,l);const y=u(t,["config"]);return y!=null&&o_(y,l),l}function u_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Ft(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],vg(p));const g=u(t,["source"]);g!=null&&p_(g,l);const y=u(t,["config"]);return y!=null&&l_(y,l),l}function c_(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>g_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function f_(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>y_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function d_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ba(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],yg(f)),l}function p_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ft(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],vg(f)),l}function m_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],A_(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],pg(r)),t}function za(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],dg(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],mg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function h_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],dg(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function g_(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],ix(l)),t}function y_(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],ox(l)),t}function v_(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const I=u(i,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const w=u(i,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const M=u(i,["routingConfig"]);M!=null&&c(t,["routingConfig"],M);const z=u(i,["seed"]);z!=null&&c(t,["seed"],z);const J=u(i,["speechConfig"]);J!=null&&c(t,["speechConfig"],hg(J));const D=u(i,["stopSequences"]);D!=null&&c(t,["stopSequences"],D);const O=u(i,["temperature"]);O!=null&&c(t,["temperature"],O);const Z=u(i,["thinkingConfig"]);Z!=null&&c(t,["thinkingConfig"],Z);const ie=u(i,["topK"]);ie!=null&&c(t,["topK"],ie);const Y=u(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function S_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ae(i,a)),l}function T_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ae(i,a)),l}function E_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function __(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function x_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function C_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function A_(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],On(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function dg(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],On(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ba(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],On(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Ft(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],On(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function b_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],og(i,g)),a}function N_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],og(i,g)),a}function R_(i,t){const l={},a=u(t,["config"]);return a!=null&&b_(i,a,l),l}function w_(i,t){const l={},a=u(t,["config"]);return a!=null&&N_(i,a,l),l}function M_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=lg(r);Array.isArray(f)&&(f=f.map(p=>Au(p))),c(t,["models"],f)}return t}function I_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=lg(r);Array.isArray(f)&&(f=f.map(p=>bu(p))),c(t,["models"],f)}return t}function D_(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Au(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],K_(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const E=u(i,["maxTemperature"]);E!=null&&c(t,["maxTemperature"],E);const _=u(i,["topP"]);_!=null&&c(t,["topP"],_);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const I=u(i,["thinking"]);return I!=null&&c(t,["thinking"],I),t}function bu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(_=>YE(_))),c(t,["endpoints"],E)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],Q_(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(_=>_)),c(t,["checkpoints"],E)}return t}function U_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],JE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],XE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],vE(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function L_(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],Ft(l)),t}function V_(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),l}function G_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["source"]);r!=null&&H_(r,l);const f=u(t,["config"]);return f!=null&&V_(f,l),l}function k_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>za(r))),c(t,["generatedImages"],a)}return t}function H_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Ft(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>L_(g))),c(t,["instances[0]","productImages"],p)}return l}function q_(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],Ft(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],D_(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],AE(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function pg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function mg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function z_(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function B_(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],Ft(l)),t}function P_(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function O_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["source"]);r!=null&&Y_(r,l);const f=u(t,["config"]);return f!=null&&P_(f,l),l}function F_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>h_(r))),c(t,["generatedMasks"],a)}return t}function Y_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ft(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],B_(f)),l}function hg(i){const t={},l=u(i,["voiceConfig"]);l!=null&&c(t,["voiceConfig"],l);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function J_(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],KE(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function X_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],E_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],__(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function gg(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(_=>QE(_))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function K_(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function Q_(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function Z_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function $_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function W_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Ae(i,a));const r=u(t,["config"]);return r!=null&&Z_(r,l),l}function j_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["config"]);return r!=null&&$_(r,l),l}function ex(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=u(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const _=u(i,["numberOfImages"]);t!==void 0&&_!=null&&c(t,["parameters","sampleCount"],_);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),l}function tx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ae(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],Ft(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&ex(p,l),l}function nx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>za(f))),c(t,["generatedImages"],r)}return t}function ix(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],On(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function ox(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],On(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function lx(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],Ft(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function ax(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Ba(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function sx(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Ft(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function yg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],On(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function vg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],On(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rx(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function ux(i){const t={},l=u(i,["config"]);return l!=null&&rx(l,t),t}function cx(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function fx(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&cx(a,t),t}function dx(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function px(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function mx(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],gx(p)),t}function hx(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&px(r,t),t}function gx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function yx(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function vx(i){const t={},l=u(i,["config"]);return l!=null&&yx(l,t),t}function Sx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function Sg(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function Tx(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&Sg(a,t),t}function Ex(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _x="Content-Type",xx="X-Server-Timeout",Cx="User-Agent",Nu="x-goog-api-client",Ax="1.33.0",bx=`google-genai-sdk/${Ax}`,Nx="v1beta1",Rx="v1beta";class wx{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Nx,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:Rx,r.baseUrl="https://inventory-proxy.bill-7e3.workers.dev/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,p=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return l&&l.extraBody!==null&&Mx(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Ch(r),new _u(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Ch(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Pt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield ce(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=f.decode(v,{stream:!0});try{const I=JSON.parse(E);if("error"in I){const w=JSON.parse(JSON.stringify(I.error)),M=w.status,z=w.code,J=`got status: ${M}. ${JSON.stringify(I)}`;if(z>=400&&z<600)throw new Ha({message:J,status:z})}}catch(I){if(I.name==="ApiError")throw I}p+=E;let _=-1,A=0;for(;;){_=-1,A=0;for(const M of y){const z=p.indexOf(M);z!==-1&&(_===-1||z<_)&&(_=z,A=M.length)}if(_===-1)break;const I=p.substring(0,_);p=p.substring(_+A);const w=I.trim();if(w.startsWith(g)){const M=w.substring(g.length).trim();try{const z=new Response(M,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ce(new _u(z))}catch(z){throw new Error(`exception parsing stream chunk ${M}. ${z}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=bx+" "+this.clientOptions.userAgentExtra;return t[Cx]=l,t[Nu]=l,t[_x]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(xx,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=W("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return f.upload(t,E,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,p=await f.stat(l),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),E={};a!=null&&Sg(a,E);const _=await this.fetchUploadUrl(h,g,y,v,E,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Ch(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Ha({message:r,status:l}):new Error(r)}}function Mx(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ix="mcp_used/unknown";let Dx=!1;function Tg(i){for(const t of i)if(Ux(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Dx}function Eg(i){var t;const l=(t=i[Nu])!==null&&t!==void 0?t:"";i[Nu]=(l+` ${Ix}`).trimStart()}function Ux(i){return i!==null&&typeof i=="object"&&i instanceof Pu}function Lx(i){return Pt(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const p=yield ce(l.listTools({cursor:r}));for(const g of p.tools)yield yield ce(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Pu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Pu(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,Ot(Lx(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const E=r;p.push(E);const _=E.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=v}}catch(E){l={error:E}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),dS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Vx(i,t,l){const a=new oS;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class Gx{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=qx(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(D=>{h=D}),E=t.callbacks,_=function(){h({})},A=this.apiClient,I={onopen:_,onmessage:D=>{Vx(A,E.onmessage,D)},onerror:(l=E==null?void 0:E.onerror)!==null&&l!==void 0?l:function(D){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(D){}},w=this.webSocketFactory.create(y,Hx(p),I);w.connect(),await v;const J={setup:{model:Ae(this.apiClient,t.model)}};return w.send(JSON.stringify(J)),new kx(w,this.apiClient)}}class kx{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=uE(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=rE(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl($i.PLAY)}pause(){this.sendPlaybackControl($i.PAUSE)}stop(){this.sendPlaybackControl($i.STOP)}resetContext(){this.sendPlaybackControl($i.RESET_CONTEXT)}close(){this.conn.close()}}function Hx(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function qx(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Bx(i,t,l){const a=new iS;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=dE(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class Px{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new Gx(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&Tg(t.config.tools)&&Eg(E);const _=Jx(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const ee=this.apiClient.getApiKey();let X="BidiGenerateContent",le="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),X="BidiGenerateContentConstrained",le="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${X}?${le}=${ee}`}let A=()=>{};const I=new Promise(ee=>{A=ee}),w=t.callbacks,M=function(){var ee;(ee=w==null?void 0:w.onopen)===null||ee===void 0||ee.call(w),A({})},z=this.apiClient,J={onopen:M,onmessage:ee=>{Bx(z,w.onmessage,ee)},onerror:(l=w==null?void 0:w.onerror)!==null&&l!==void 0?l:function(ee){},onclose:(a=w==null?void 0:w.onclose)!==null&&a!==void 0?a:function(ee){}},D=this.webSocketFactory.create(v,Yx(_),J);D.connect(),await I;let O=Ae(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const ee=this.apiClient.getProject(),X=this.apiClient.getLocation();O=`projects/${ee}/locations/${X}/`+O}let Z={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ia.AUDIO]}:t.config.responseModalities=[Ia.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ie=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Y=[];for(const ee of ie)if(this.isCallableTool(ee)){const X=ee;Y.push(await X.tool())}else Y.push(ee);Y.length>0&&(t.config.tools=Y);const he={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Z=sE(this.apiClient,he):Z=aE(this.apiClient,he),delete Z.config,D.send(JSON.stringify(Z)),new Fx(D,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Ox={turnComplete:!0};class Fx{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=kt(l.turns),t.isVertexAI()||(a=a.map(r=>qa(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(zx)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},Ox),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:fE(t)}:l={realtimeInput:cE(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function Yx(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function Jx(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ah=10;function bh(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(eo(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function eo(i){return"callTool"in i&&typeof i.callTool=="function"}function Xx(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>eo(r)))!==null&&a!==void 0?a:!1}function Nh(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(eo(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function Rh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kx extends hn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!Xx(l)||bh(l.config))return await this.generateContentInternal(y);const h=Nh(l);if(h.length>0){const w=h.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let v,E;const _=kt(y.contents),A=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Ah;let I=0;for(;I<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const w=v.candidates[0].content,M=[];for(const z of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(eo(z)){const D=await z.callTool(v.functionCalls);M.push(...D)}I++,E={role:"user",parts:M},y.contents=kt(y.contents),y.contents.push(w),y.contents.push(E),Rh(y.config)&&(_.push(w),_.push(E))}return Rh(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async l=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(l),bh(l.config)){const E=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(E)}const y=Nh(l);if(y.length>0){const E=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new ci(mn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(f=l.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>eo(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Tg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Eg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(eo(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Ah;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,E){return Pt(this,arguments,function*(){for(var _,A,I,w,M,z;g<f;){p&&(g++,p=!1);const Z=yield ce(h.processParamsMaybeAddMcpUsage(E)),ie=yield ce(h.generateContentStreamInternal(Z)),Y=[],he=[];try{for(var J=!0,D=(A=void 0,Ot(ie)),O;O=yield ce(D.next()),_=O.done,!_;J=!0){w=O.value,J=!1;const ee=w;if(yield yield ce(ee),ee.candidates&&(!((M=ee.candidates[0])===null||M===void 0)&&M.content)){he.push(ee.candidates[0].content);for(const X of(z=ee.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(g<f&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(X.functionCall.name)){const le=yield ce(v.get(X.functionCall.name).callTool([X.functionCall]));Y.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(ee){A={error:ee}}finally{try{!J&&!_&&(I=D.return)&&(yield ce(I.call(D)))}finally{if(A)throw A.error}}if(Y.length>0){p=!0;const ee=new el;ee.candidates=[{content:{role:"user",parts:Y}}],yield yield ce(ee);const X=[];X.push(...he),X.push({role:"user",parts:Y});const le=kt(E.contents).concat(X);E.contents=le}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Eh(this.apiClient,t);return g=W("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=xh(v),_=new el;return Object.assign(_,E),_})}else{const h=Th(this.apiClient,t);return g=W("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=_h(v),_=new el;return Object.assign(_,E),_})}}async generateContentStreamInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Eh(this.apiClient,t);return g=W("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(E){return Pt(this,arguments,function*(){var _,A,I,w;try{for(var M=!0,z=Ot(E),J;J=yield ce(z.next()),_=J.done,!_;M=!0){w=J.value,M=!1;const D=w,O=xh(yield ce(D.json()));O.sdkHttpResponse={headers:D.headers};const Z=new el;Object.assign(Z,O),yield yield ce(Z)}}catch(D){A={error:D}}finally{try{!M&&!_&&(I=z.return)&&(yield ce(I.call(z)))}finally{if(A)throw A.error}}})})}else{const h=Th(this.apiClient,t);return g=W("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(E){return Pt(this,arguments,function*(){var _,A,I,w;try{for(var M=!0,z=Ot(E),J;J=yield ce(z.next()),_=J.done,!_;M=!0){w=J.value,M=!1;const D=w,O=_h(yield ce(D.json()));O.sdkHttpResponse={headers:D.headers};const Z=new el;Object.assign(Z,O),yield yield ce(Z)}}catch(D){A={error:D}}finally{try{!M&&!_&&(I=z.return)&&(yield ce(I.call(z)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=PE(this.apiClient,t);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=FE(v),_=new ih;return Object.assign(_,E),_})}else{const h=BE(this.apiClient,t);return g=W("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=OE(v),_=new ih;return Object.assign(_,E),_})}}async generateImagesInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=t_(this.apiClient,t);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=i_(v),_=new oh;return Object.assign(_,E),_})}else{const h=e_(this.apiClient,t);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=n_(v),_=new oh;return Object.assign(_,E),_})}}async editImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=kE(this.apiClient,t);return f=W("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=HE(y),v=new Jv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=tx(this.apiClient,t);return f=W("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=nx(y),v=new Xv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=G_(this.apiClient,t);return f=W("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=k_(y),v=new Kv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=O_(this.apiClient,t);return f=W("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=F_(y),v=new Qv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=T_(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>bu(v))}else{const h=S_(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Au(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=w_(this.apiClient,t);return g=W("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=I_(v),_=new lh;return Object.assign(_,E),_})}else{const h=R_(this.apiClient,t);return g=W("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=M_(v),_=new lh;return Object.assign(_,E),_})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=j_(this.apiClient,t);return g=W("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>bu(v))}else{const h=W_(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Au(v))}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=UE(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=VE(v),_=new ah;return Object.assign(_,E),_})}else{const h=DE(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=LE(v),_=new ah;return Object.assign(_,E),_})}}async countTokens(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=wE(this.apiClient,t);return g=W("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=IE(v),_=new sh;return Object.assign(_,E),_})}else{const h=RE(this.apiClient,t);return g=W("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=ME(v),_=new sh;return Object.assign(_,E),_})}}async computeTokens(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=EE(this.apiClient,t);return f=W("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=_E(y),v=new Zv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=u_(this.apiClient,t);return g=W("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const E=s_(v),_=new Da;return Object.assign(_,E),_})}else{const h=r_(this.apiClient,t);return g=W("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const E=a_(v),_=new Da;return Object.assign(_,E),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qx extends hn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=zv(t);return g=W("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=qv(t);return g=W("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=Dv(t);return f=W("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zx(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function $x(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>aC(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function Wx(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const p=u(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],lC(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function jx(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],Wx(i,a,l)),l}function eC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function tC(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function nC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function iC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function oC(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Bu(E));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],$x(lt(I)));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let ie=no(w);Array.isArray(ie)&&(ie=ie.map(Y=>rC(to(Y)))),c(t,["setup","tools"],ie)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],sC(M));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const D=u(i,["realtimeInputConfig"]);t!==void 0&&D!=null&&c(t,["setup","realtimeInputConfig"],D);const O=u(i,["contextWindowCompression"]);t!==void 0&&O!=null&&c(t,["setup","contextWindowCompression"],O);const Z=u(i,["proactivity"]);if(t!==void 0&&Z!=null&&c(t,["setup","proactivity"],Z),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function lC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ae(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],oC(r,l)),l}function aC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],eC(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],tC(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Zx(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function sC(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function rC(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],nC(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],iC(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function cC(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const f=uC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class fC extends hn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=jx(this.apiClient,t);f=W("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=cC(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function pC(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&dC(a,t),t}function mC(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function hC(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function gC(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&hC(a,t),t}function yC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vC extends hn{constructor(t){super(),this.apiClient=t,this.list=async l=>new ci(mn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mC(t);return f=W("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pC(t);r=W("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gC(t);return f=W("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=yC(y),v=new $v;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SC extends hn{constructor(t,l=new vC(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new ci(mn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ux(t);return f=W("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dx(t);return f=W("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=fx(t);r=W("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vx(t);return f=W("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Sx(y),v=new Wv;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Tx(t);return f=W("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Ex(y),v=new jv;return Object.assign(v,h),v})}}async importFile(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hx(t);return f=W("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=mx(y),v=new Gu;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _g=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return _g=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const TC=()=>_g();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ru(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const wu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ht extends Error{}class ut extends Ht{constructor(t,l,a,r){super(`${ut.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new Pa({message:a,cause:wu(l)});const f=l;return t===400?new Cg(t,f,a,r):t===401?new Ag(t,f,a,r):t===403?new bg(t,f,a,r):t===404?new Ng(t,f,a,r):t===409?new Rg(t,f,a,r):t===422?new wg(t,f,a,r):t===429?new Mg(t,f,a,r):t>=500?new Ig(t,f,a,r):new ut(t,f,a,r)}}class Mu extends ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Pa extends ut{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class xg extends Pa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Cg extends ut{}class Ag extends ut{}class bg extends ut{}class Ng extends ut{}class Rg extends ut{}class wg extends ut{}class Mg extends ut{}class Ig extends ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EC=/^[a-z][a-z0-9+.-]*:/i,_C=i=>EC.test(i);let Iu=i=>(Iu=Array.isArray,Iu(i));const xC=Iu;let CC=xC;const wh=CC;function AC(i){if(!i)return!0;for(const t in i)return!1;return!0}function bC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const NC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ht(`${i} must be an integer`);if(t<0)throw new Ht(`${i} must be a positive integer`);return t},RC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const IC=()=>{var i,t,l,a,r;const f=MC();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qi,"X-Stainless-OS":Ih(Deno.build.os),"X-Stainless-Arch":Mh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qi,"X-Stainless-OS":Ih((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Mh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=DC();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function DC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Mh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Ih=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let xa;const UC=()=>xa??(xa=IC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Dg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function VC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Dg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Ug(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function GC(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hu(i,t,l){return Lg(),new File(i,t??"unknown_file",l)}function HC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const qC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",zC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Vg(i),BC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function PC(i,t,l){if(Lg(),i=await i,zC(i))return i instanceof File?i:hu([await i.arrayBuffer()],i.name);if(BC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),hu(await Du(r),t,l)}const a=await Du(i);if(t||(t=HC(i)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return hu(a,t,l)}async function Du(i){var t,l,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Vg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(qC(i))try{for(var g=!0,y=Ot(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await Du(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${OC(i)}`)}return p}function OC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gg{constructor(t){this._client=t}}Gg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Dh=Object.freeze(Object.create(null)),FC=(i=kg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],p=l.reduce((v,E,_)=>{var A,I,w;/[?#]/.test(E)&&(r=!0);const M=a[_];let z=(r?encodeURIComponent:i)(""+M);return _!==a.length&&(M==null||typeof M=="object"&&M.toString===((w=Object.getPrototypeOf((I=Object.getPrototypeOf((A=M.hasOwnProperty)!==null&&A!==void 0?A:Dh))!==null&&I!==void 0?I:Dh))===null||w===void 0?void 0:w.toString))&&(z=M+"",f.push({start:v.length+E.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),v+E+(_===a.length?"":z)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((v,E)=>v.start-E.start),f.length>0){let v=0;const E=f.reduce((_,A)=>{const I=" ".repeat(A.start-v),w="^".repeat(A.length);return v=A.start+A.length,_+I+w},"");throw new Ht(`Path parameters result in path with invalid segments:
${f.map(_=>_.error).join(`
`)}
${p}
${E}`)}return p}),Ca=FC(kg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hg extends Gg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=La(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Ht("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Ht("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ca`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Ca`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Ca`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:p=this._client.apiVersion}=f,g=La(f,["api_version"]);return this._client.get(Ca`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Hg._key=Object.freeze(["interactions"]);class qg extends Hg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YC(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let Aa;function Ou(i){let t;return(Aa??(t=new globalThis.TextEncoder,Aa=t.encode.bind(t)))(i)}let ba;function Uh(i){let t;return(ba??(t=new globalThis.TextDecoder,ba=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ou(t):t;this.buffer=YC([this.buffer,l]);const a=[];let r;for(;(r=JC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Uh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Uh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Oa.NEWLINE_CHARS=new Set([`
`,"\r"]);Oa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function XC(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Va={off:0,error:200,warn:300,info:400,debug:500},Lh=(i,t,l)=>{if(i){if(bC(Va,i))return i;rt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Va))}`)}};function il(){}function Na(i,t,l){return!t||Va[i]>Va[l]?il:t[i].bind(t)}const KC={error:il,warn:il,info:il,debug:il};let Vh=new WeakMap;function rt(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return KC;const r=Vh.get(l);if(r&&r[0]===a)return r[1];const f={error:Na("error",l,a),warn:Na("warn",l,a),info:Na("info",l,a),debug:Na("debug",l,a)};return Vh.set(l,[a,f]),f}const ui=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wi{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?rt(a):console;function p(){return Pt(this,arguments,function*(){var y,h,v,E;if(r)throw new Ht("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var A=!0,I=Ot(QC(t,l)),w;w=yield ce(I.next()),y=w.done,!y;A=!0){E=w.value,A=!1;const M=E;if(!_)if(M.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield ce(JSON.parse(M.data))}catch(z){throw f.error("Could not parse message into JSON:",M.data),f.error("From chunk:",M.raw),z}}}catch(M){h={error:M}}finally{try{!A&&!y&&(v=I.return)&&(yield ce(v.call(I)))}finally{if(h)throw h.error}}_=!0}catch(M){if(Ru(M))return yield ce(void 0);throw M}finally{_||l.abort()}})}return new Wi(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return Pt(this,arguments,function*(){var y,h,v,E;const _=new Oa,A=Ug(t);try{for(var I=!0,w=Ot(A),M;M=yield ce(w.next()),y=M.done,!y;I=!0){E=M.value,I=!1;const z=E;for(const J of _.decode(z))yield yield ce(J)}}catch(z){h={error:z}}finally{try{!I&&!y&&(v=w.return)&&(yield ce(v.call(w)))}finally{if(h)throw h.error}}for(const z of _.flush())yield yield ce(z)})}function p(){return Pt(this,arguments,function*(){var y,h,v,E;if(r)throw new Ht("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var A=!0,I=Ot(f()),w;w=yield ce(I.next()),y=w.done,!y;A=!0){E=w.value,A=!1;const M=E;_||M&&(yield yield ce(JSON.parse(M)))}}catch(M){h={error:M}}finally{try{!A&&!y&&(v=I.return)&&(yield ce(v.call(I)))}finally{if(h)throw h.error}}_=!0}catch(M){if(Ru(M))return yield ce(void 0);throw M}finally{_||l.abort()}})}return new Wi(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),l.push(p)}return f.shift()}});return[new Wi(()=>r(t),this.controller,this.client),new Wi(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Dg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const p=Ou(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function QC(i,t){return Pt(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ht("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ht("Attempted to iterate over a response with no body");const g=new $C,y=new Oa,h=Ug(i.body);try{for(var v=!0,E=Ot(ZC(h)),_;_=yield ce(E.next()),a=_.done,!a;v=!0){p=_.value,v=!1;const A=p;for(const I of y.decode(A)){const w=g.decode(I);w&&(yield yield ce(w))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(f=E.return)&&(yield ce(f.call(E)))}finally{if(r)throw r.error}}for(const A of y.flush()){const I=g.decode(A);I&&(yield yield ce(I))}})}function ZC(i){return Pt(this,arguments,function*(){var l,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=Ot(i),h;h=yield ce(y.next()),l=h.done,!l;g=!0){f=h.value,g=!1;const v=f;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Ou(v):v;let _=new Uint8Array(p.length+E.length);_.set(p),_.set(E,p.length),p=_;let A;for(;(A=XC(p))!==-1;)yield yield ce(p.slice(0,A)),p=p.slice(A)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield ce(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ce(p))})}class $C{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=WC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function WC(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jC(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return rt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):Wi.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return rt(i).debug(`[${a}] response parsed`,ui({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fu extends Promise{constructor(t,l,a=jC){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Fu(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zg=Symbol("brand.privateNullableHeaders");function*eA(i){if(!i)return;if(zg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;i instanceof Headers?l=i.entries():wh(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=wh(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const gu=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[f,p]of eA(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),l.add(g)):(t.append(f,p),l.delete(g))}}return{[zg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yu=i=>{var t,l,a,r,f,p;if(typeof globalThis.process<"u")return(a=(l=(t=bv)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bg;class Fa{constructor(t){var l,a,r,f,p,g,y,h=t===void 0?{}:t,{baseURL:v=yu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:E=(l=yu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:_="v1beta"}=h,A=La(h,["baseURL","apiKey","apiVersion"]);const I=Object.assign(Object.assign({apiKey:E,apiVersion:_},A),{baseURL:v||"https://inventory-proxy.bill-7e3.workers.dev"});this.baseURL=I.baseURL,this.timeout=(a=I.timeout)!==null&&a!==void 0?a:Fa.DEFAULT_TIMEOUT,this.logger=(r=I.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(p=(f=Lh(I.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Lh(yu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:w,this.fetchOptions=I.fetchOptions,this.maxRetries=(g=I.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=I.fetch)!==null&&y!==void 0?y:LC(),this.encoder=kC,this._options=I,this.apiKey=E,this.apiVersion=_}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://inventory-proxy.bill-7e3.workers.dev"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return gu([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Ht(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Qi}`}defaultIdempotencyKey(){return`stainless-node-retry-${TC()}`}makeStatusError(t,l,a,r){return ut.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=_C(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return AC(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new Fu(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:h,url:v,timeout:E}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(h,{url:v,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,I=Date.now();if(rt(this).debug(`[${_}] sending request`,ui({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Mu;const w=new AbortController,M=await this.fetchWithTimeout(v,h,E,w).catch(wu),z=Date.now();if(M instanceof globalThis.Error){const D=`retrying, ${l} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Mu;const O=Ru(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(l)return rt(this).info(`[${_}] connection ${O?"timed out":"failed"} - ${D}`),rt(this).debug(`[${_}] connection ${O?"timed out":"failed"} (${D})`,ui({retryOfRequestLogID:a,url:v,durationMs:z-I,message:M.message})),this.retryRequest(g,l,a??_);throw rt(this).info(`[${_}] connection ${O?"timed out":"failed"} - error; no more retries left`),rt(this).debug(`[${_}] connection ${O?"timed out":"failed"} (error; no more retries left)`,ui({retryOfRequestLogID:a,url:v,durationMs:z-I,message:M.message})),O?new xg:new Pa({cause:M})}const J=`[${_}${A}] ${h.method} ${v} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${z-I}ms`;if(!M.ok){const D=await this.shouldRetry(M);if(l&&D){const ee=`retrying, ${l} attempts remaining`;return await GC(M.body),rt(this).info(`${J} - ${ee}`),rt(this).debug(`[${_}] response error (${ee})`,ui({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,durationMs:z-I})),this.retryRequest(g,l,a??_,M.headers)}const O=D?"error; no more retries left":"error; not retryable";rt(this).info(`${J} - ${O}`);const Z=await M.text().catch(ee=>wu(ee).message),ie=RC(Z),Y=ie?void 0:Z;throw rt(this).debug(`[${_}] response error (${O})`,ui({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,message:Y,durationMs:Date.now()-I})),this.makeStatusError(M.status,ie,Y,M.headers)}return rt(this).info(J),rt(this).debug(`[${_}] response start`,ui({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,durationMs:z-I})),{response:M,options:g,controller:w,requestLogID:_,retryOfRequestLogID:a,startTime:I}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:p,method:g}=f,y=La(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(h)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,h)}return await wC(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,E=this.buildURL(y,h,v);"timeout"in p&&NC("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:_,body:A}=this.buildBody({options:p}),I=await this.buildHeaders({options:t,method:g,bodyHeaders:_,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:I},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:E,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=gu([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),UC()),await this.authHeaders(t),this._options.defaultHeaders,a,t.headers]);return this.validateHeaders(p),p.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=gu([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:VC(t)}:this.encoder({body:t,headers:a})}}Fa.DEFAULT_TIMEOUT=6e4;class Ze extends Fa{constructor(){super(...arguments),this.interactions=new qg(this)}}Bg=Ze;Ze.GeminiNextGenAPIClient=Bg;Ze.GeminiNextGenAPIClientError=Ht;Ze.APIError=ut;Ze.APIConnectionError=Pa;Ze.APIConnectionTimeoutError=xg;Ze.APIUserAbortError=Mu;Ze.NotFoundError=Ng;Ze.ConflictError=Rg;Ze.RateLimitError=Mg;Ze.BadRequestError=Cg;Ze.AuthenticationError=Ag;Ze.InternalServerError=Ig;Ze.PermissionDeniedError=bg;Ze.UnprocessableEntityError=wg;Ze.toFile=PC;Ze.Interactions=qg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function nA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function iA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function oA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function lA(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function aA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],Gh(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],Gh(A))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(h==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const _=u(i,["beta"]);return t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],_),a}function sA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&vA(f);const p=u(i,["config"]);return p!=null&&lA(p,l),l}function rA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&SA(f,l,t);const p=u(i,["config"]);return p!=null&&aA(p,l,t),l}function uA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function cA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function fA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function dA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function pA(i,t){const l={},a=u(i,["config"]);return a!=null&&fA(a,l),l}function mA(i,t){const l={},a=u(i,["config"]);return a!=null&&dA(a,l),l}function hA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Pg(g))),c(l,["tuningJobs"],p)}return l}function gA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Uu(g))),c(l,["tuningJobs"],p)}return l}function yA(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function vA(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function SA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Pg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],ng(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(l,["description"],v);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const _=u(i,["_self"]);return _!=null&&c(l,["tunedModel"],yA(_)),l}function Uu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],ng(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(l,["error"],v);const E=u(i,["description"]);E!=null&&c(l,["description"],E);const _=u(i,["baseModel"]);_!=null&&c(l,["baseModel"],_);const A=u(i,["tunedModel"]);A!=null&&c(l,["tunedModel"],A);const I=u(i,["preTunedModel"]);I!=null&&c(l,["preTunedModel"],I);const w=u(i,["supervisedTuningSpec"]);w!=null&&c(l,["supervisedTuningSpec"],w);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&c(l,["preferenceOptimizationSpec"],M);const z=u(i,["tuningDataStats"]);z!=null&&c(l,["tuningDataStats"],z);const J=u(i,["encryptionSpec"]);J!=null&&c(l,["encryptionSpec"],J);const D=u(i,["partnerModelTuningSpec"]);D!=null&&c(l,["partnerModelTuningSpec"],D);const O=u(i,["customBaseModel"]);O!=null&&c(l,["customBaseModel"],O);const Z=u(i,["experiment"]);Z!=null&&c(l,["experiment"],Z);const ie=u(i,["labels"]);ie!=null&&c(l,["labels"],ie);const Y=u(i,["outputUri"]);Y!=null&&c(l,["outputUri"],Y);const he=u(i,["pipelineJob"]);he!=null&&c(l,["pipelineJob"],he);const ee=u(i,["serviceAccount"]);ee!=null&&c(l,["serviceAccount"],ee);const X=u(i,["tunedModelDisplayName"]);X!=null&&c(l,["tunedModelDisplayName"],X);const le=u(i,["veoTuningSpec"]);return le!=null&&c(l,["veoTuningSpec"],le),l}function TA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(i,["done"]);p!=null&&c(l,["done"],p);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function Gh(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EA extends hn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new ci(mn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Eu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=cA(t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>Uu(v))}else{const h=uA(t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>Pg(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=mA(t);return g=W("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=gA(v),_=new rh;return Object.assign(_,E),_})}else{const h=pA(t);return g=W("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=hA(v),_=new rh;return Object.assign(_,E),_})}}async cancel(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=nA(t);return g=W("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=oA(v),_=new uh;return Object.assign(_,E),_})}else{const h=tA(t);return g=W("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=iA(v),_=new uh;return Object.assign(_,E),_})}}async tuneInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=rA(t,t);return f=W("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Uu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sA(t);return f=W("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>TA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _A{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xA=1024*1024*8,CA=3,AA=1e3,bA=2,Ga="x-goog-upload-status";async function NA(i,t,l){var a;const r=await Og(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ga])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function RA(i,t,l){var a;const r=await Og(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ga])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Zh(f),g=new ku;return Object.assign(g,p),g}async function Og(i,t,l){var a,r;let f=0,p=0,g=new _u(new Response),y="upload";for(f=i.size;p<f;){const h=Math.min(xA,f-p),v=i.slice(p,p+h);p+h>=f&&(y+=", finalize");let E=0,_=AA;for(;E<CA&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ga]));)E++,await MA(_),_=_*bA;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ga])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function wA(i){return{size:i.size,type:i.type}}function MA(i){return new Promise(t=>setTimeout(t,i))}class IA{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await NA(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await RA(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await wA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DA{create(t,l,a){return new UA(t,l,a)}}class UA{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kh="x-goog-api-key";class LA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(kh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(kh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VA="gl-node/";class GA{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new Ze({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=Mv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new LA(this.apiKey);this.apiClient=new wx({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:VA+"web",uploader:new IA,downloader:new _A}),this.models=new Kx(this.apiClient),this.live=new Px(this.apiClient,r,new DA),this.batches=new lT(this.apiClient),this.chats=new zT(this.models,this.apiClient),this.caches=new kT(this.apiClient),this.files=new ZT(this.apiClient),this.operations=new Qx(this.apiClient),this.authTokens=new fC(this.apiClient),this.tunings=new EA(this.apiClient),this.fileSearchStores=new SC(this.apiClient)}}const kA="PROXY_KEY_PLACEHOLDER",Yu=new GA({apiKey:kA}),Ju="gemini-2.5-flash",HA=async(i,t)=>{const l=i.map(y=>({inlineData:{mimeType:"image/jpeg",data:y}})),a=`You are a Senior Personal Property Appraiser and Adjuster for a top-tier insurance carrier.
    
    **MISSION**: Conduct a forensic-level inventory analysis of the provided image(s) depicting a "${t}". Your output must be accurate enough for formal insurance underwriting and claims processing.

    **EXECUTION STEPS**:
    1.  **Visual Forensics**: Scan the room methodically. Identify furniture, electronics, art, textiles, and decor. Look for visual cues of quality (e.g., joinery on wood, brand logos on electronics, designer signatures).
    2.  **Market Valuation**: You MUST use the Google Search tool to find current Replacement Cost Value (RCV) in USD for the specific items identified. Do not guess; verify. Distinguish between mass-market items (IKEA, Wayfair) and high-end/designer items based on visual evidence.
    3.  **Categorization**: 
        - Group identical items (e.g., "Set of 6 Dining Chairs").
        - Flag "Specialty" items aggressively. These include: Antiques, Fine Art, Firearms, Jewelry, Furs, Silverware, Business Equipment, and High-End Electronics (> $2,000).
    4.  **Data Extraction**:
        - **name**: Be specific. "Sony Bravia 65-inch OLED TV" is better than "TV".
        - **notes**: Include Brand, Model, Material, Era (if vintage), and Condition (New/Good/Fair).
        - **valuationRationale**: Cite your source logic (e.g., "Current retail listing for [Brand] [Model]").

    **OUTPUT PROTOCOL**:
    - Return ONLY a valid JSON array of objects inside a markdown code block (\`\`\`json ... \`\`\`).
    - Do not include conversational text or your internal thinking trace in the final output.

    **JSON SCHEMA**:
    [
      {
        "name": "string",
        "estimatedValue": number,
        "isSpecialty": boolean,
        "quantity": number,
        "notes": "string",
        "valuationRationale": "string"
      }
    ]`,f=(await Yu.models.generateContent({model:Ju,contents:{parts:[...l,{text:a}]},config:{tools:[{googleSearch:{}}]}})).text.trim(),p=f.match(/```(json)?\s*([\s\S]*?)\s*```/),g=p?p[2]:f;try{const y=JSON.parse(g);if(!Array.isArray(y))throw new Error("AI response is not an array.");return y.map(h=>({name:h.name||"Unnamed Item",estimatedValue:typeof h.estimatedValue=="number"?h.estimatedValue:0,isSpecialty:typeof h.isSpecialty=="boolean"?h.isSpecialty:!1,quantity:typeof h.quantity=="number"&&h.quantity>0?h.quantity:1,notes:h.notes||"",valuationRationale:h.valuationRationale||"AI-generated value based on market data."}))}catch(y){throw console.error("Error parsing JSON from Gemini:",y),console.error("Received text:",g),new Error("Failed to parse inventory from AI response.")}},qA=async i=>{const t=`You are a Product Identification Specialist.
    **Task**: Identify the commercial product associated with Barcode (UPC/EAN): "${i}".
    **Action**: Use Google Search to find the exact manufacturer, product name, and key specifications.
    **Output**: A single JSON object in a markdown block with keys: 
    - "name": The official product name.
    - "notes": A brief, professional description including brand and specs.
    If the product cannot be definitively identified, return empty strings.`;try{const a=(await Yu.models.generateContent({model:Ju,contents:{parts:[{text:t}]},config:{tools:[{googleSearch:{}}]}})).text.trim(),r=a.match(/```(json)?\s*([\s\S]*?)\s*```/),f=r?r[2]:a,p=JSON.parse(f);if(typeof p.name=="string"&&typeof p.notes=="string")return{name:p.name||"Unknown Product",notes:p.notes||""};throw new Error("AI response did not contain the expected fields.")}catch(l){throw console.error("Error getting product info from Gemini:",l),new Error("Failed to get product info from AI response.")}},zA=async(i,t,l)=>{const a=`You are a Valuation Expert.
    **Task**: Re-appraise the item "${i}" for an insurance schedule.
    **Condition**: "${t}".
    **Context**: The original valuation rationale was: "${l||"N/A"}".
    **Action**: 
    1. Search for current market listings for this specific item.
    2. Adjust the Replacement Cost Value (RCV) based on the specified condition (e.g., apply depreciation for 'Fair' or 'Poor' condition vs 'New').
    **Output**: A single JSON object in a markdown block with keys: 
    - "estimatedValue": number (The updated value in USD).
    - "valuationRationale": string (A professional explanation for the adjustment based on market data and condition).`;try{const f=(await Yu.models.generateContent({model:Ju,contents:{parts:[{text:a}]},config:{tools:[{googleSearch:{}}]}})).text.trim(),p=f.match(/```(json)?\s*([\s\S]*?)\s*```/),g=p?p[2]:f,y=JSON.parse(g);if(typeof y.estimatedValue=="number"&&typeof y.valuationRationale=="string")return y;throw new Error("AI response did not contain the expected fields for re-evaluation.")}catch(r){throw console.error("Error re-evaluating item from Gemini:",r),new Error("Failed to re-evaluate item from AI response.")}},BA=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m8.25 3.375v.938M3.75 7.5h16.5c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H3.75c-.621 0-1.125.504-1.125 1.125v.75c0 .621.504 1.125 1.125 1.125z"})}),PA=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 17.25h16.5"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 11.25h17.25"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v18"})]}),OA=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),FA=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6"})}),YA=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.5m3-1.5v1.5m3-1.5v1.5M9 13.5h6M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),JA=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h7.5v10.5h-7.5z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 17.25h18M5.25 6.75h13.5c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125H5.25c-.621 0-1.125-.504-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21v-3.75m9 3.75v-3.75"})]}),XA=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H3.375A2.25 2.25 0 001.125 6.75v11.25c0 .621.504 1.125 1.125 1.125h2.25z"})}),vu=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 21v-5.625c0-1.036.84-1.875 1.875-1.875h11.25c1.036 0 1.875.84 1.875 1.875V21M4.5 21h15M4.5 21H3v-5.625a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 15.375V21H4.5zM21 21h-1.5m-15 0H3m15 0h1.5M4.5 16.5l.75-6.75h13.5l.75 6.75M4.5 16.5h15"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75v1.5m-3 0v1.5m6-1.5v1.5"})]}),ka=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Hh=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),KA=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a15.998 15.998 0 001.622-3.385m3.388 1.62a15.998 15.998 0 00-1.622-3.385m-5.043.025a15.998 15.998 0 01-3.388-1.621m-5.043.025a15.998 15.998 0 00-3.388-1.622m10.086 5.043a15.998 15.998 0 01-1.622 3.385m-3.388-1.62a15.998 15.998 0 00-1.622 3.385m-5.043-.025a15.998 15.998 0 01-3.388 1.622m5.043-.025a15.998 15.998 0 003.388 1.621m3.388-5.043a15.998 15.998 0 013.388 1.622m-3.388-1.62a15.998 15.998 0 003.388 1.622m0 0a15.998 15.998 0 013.388-1.622m0 0a15.998 15.998 0 001.622-3.385m-3.388 1.62a15.998 15.998 0 00-1.622-3.385m-5.043.025a15.998 15.998 0 01-3.388-1.621m5.043.025a15.998 15.998 0 00-3.388-1.621m0 0a15.998 15.998 0 00-5.043.025m-3.388 1.621a15.998 15.998 0 01-1.622 3.385"})}),QA=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),ZA=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25L12 9m3.75-3.75L12 9m3.75-3.75H12m3.75 0V3.75M12 9h-3.75m0 0L8.25 5.25M12 9v3.75m0-3.75L8.25 12.75"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75v3.75m0-3.75L8.25 9m3.75 3.75H8.25m3.75 0L15.75 9"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12c0 1.657 1.343 3 3 3h12a3 3 0 003-3v0c0-1.657-1.343-3-3-3H6a3 3 0 00-3 3v0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 15v5.25a.75.75 0 00.75.75h3a.75.75 0 00.75-.75V15"})]}),$A=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.324h5.385a.563.563 0 01.329.988l-4.355 3.188a.563.563 0 00-.182.635l1.634 5.053a.563.563 0 01-.84.622l-4.42-3.132a.563.563 0 00-.664 0l-4.42 3.132a.563.563 0 01-.84-.622l1.634-5.053a.563.563 0 00-.182-.635L2.525 10.02a.563.563 0 01.329-.988h5.385a.563.563 0 00.475-.324L11.48 3.5z"})}),qh=[{name:"Living Room",icon:T.jsx(BA,{})},{name:"Kitchen",icon:T.jsx(PA,{})},{name:"Master Bedroom",icon:T.jsx(OA,{})},{name:"Bathroom",icon:T.jsx(FA,{})},{name:"Office",icon:T.jsx(YA,{})},{name:"Dining Room",icon:T.jsx(JA,{})},{name:"Garage",icon:T.jsx(XA,{})},{name:"Den",icon:T.jsx(vu,{})},{name:"Basement",icon:T.jsx(vu,{})},{name:"Attic",icon:T.jsx(vu,{})}],zh=[{name:"Fine Art",icon:T.jsx(KA,{})},{name:"Jewelry",icon:T.jsx(QA,{})},{name:"Firearms",icon:T.jsx(ZA,{})},{name:"Collectibles",icon:T.jsx($A,{})}],WA=({entryType:i,onClose:t,onAddEntry:l})=>{const[a,r]=_e.useState(""),f=p=>{p.preventDefault(),a.trim()&&(l(a.trim()),t())};return T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in backdrop-blur-sm p-4",children:T.jsxs("div",{className:"bg-white rounded-xl p-6 md:p-8 shadow-2xl max-w-sm w-full border border-slate-100",children:[T.jsxs("h3",{className:"text-xl font-bold mb-4 text-slate-800 font-display",children:["Add Custom ",i]}),T.jsxs("form",{onSubmit:f,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsxs("label",{htmlFor:"customEntryName",className:"block text-sm font-medium text-slate-700 mb-1",children:[i," Name"]}),T.jsx("input",{id:"customEntryName",type:"text",value:a,onChange:p=>r(p.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg text-base focus:ring-2 focus:ring-primary-500/30 focus:border-primary-500 outline-none transition",autoFocus:!0})]}),T.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[T.jsx("button",{type:"button",onClick:t,className:"px-5 py-3 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 font-semibold transition-colors",children:"Cancel"}),T.jsxs("button",{type:"submit",disabled:!a.trim(),className:"px-5 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold transition-colors disabled:bg-slate-300",children:["Add ",i]})]})]})]})})},jA=({rooms:i,collections:t,onRoomSelect:l,onCollectionSelect:a,onNextStep:r})=>{const[f,p]=_e.useState(!1),[g,y]=_e.useState("Room"),[h,v]=_e.useState("rooms"),E=new Set(i.map(D=>D.name)),_=new Set(qh.map(D=>D.name)),A=i.filter(D=>!_.has(D.name)),I=new Set(t.map(D=>D.name)),w=new Set(zh.map(D=>D.name)),M=t.filter(D=>!w.has(D.name)),z=D=>{y(D),p(!0)},J=D=>{g==="Room"?l(D):a(D)};return T.jsxs("div",{className:"animate-fade-in space-y-8",children:[f&&T.jsx(WA,{entryType:g,onClose:()=>p(!1),onAddEntry:J}),T.jsxs("div",{className:"bg-white p-4 md:p-8 rounded-xl shadow-sm border border-slate-200",children:[T.jsx("div",{className:"border-b border-slate-200 mb-8 overflow-x-auto",children:T.jsxs("nav",{className:"-mb-px flex space-x-8 min-w-max",children:[T.jsx("button",{onClick:()=>v("rooms"),className:`whitespace-nowrap pb-4 px-1 border-b-2 font-bold text-sm transition-colors ${h==="rooms"?"border-primary-600 text-primary-600":"border-transparent text-slate-500 hover:text-slate-800 hover:border-slate-300"}`,children:"Inventory by Room"}),T.jsx("button",{onClick:()=>v("collections"),className:`whitespace-nowrap pb-4 px-1 border-b-2 font-bold text-sm transition-colors ${h==="collections"?"border-primary-600 text-primary-600":"border-transparent text-slate-500 hover:text-slate-800 hover:border-slate-300"}`,children:"Specialty Collections"})]})}),h==="rooms"?T.jsxs("div",{className:"animate-fade-in",children:[T.jsx("h2",{className:"text-xl font-bold mb-2 text-slate-800 font-display",children:"Select or Add a Room"}),T.jsx("p",{className:"text-sm text-slate-500 mb-8",children:"Choose a room to begin your inventory. Selected rooms are highlighted."}),T.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3 md:gap-4",children:[qh.map(({name:D,icon:O})=>T.jsxs("button",{onClick:()=>l(D),className:`flex flex-col items-center justify-center text-center p-2 sm:p-3 md:p-4 aspect-square rounded-xl border-2 transition-all transform hover:scale-[1.02] duration-200 active:scale-95 ${E.has(D)?"bg-primary-50 border-primary-400 shadow-md ring-1 ring-primary-200":"bg-white border-slate-100 hover:bg-slate-50 hover:border-primary-200 hover:shadow-sm"}`,children:[T.jsx("div",{className:`mb-2 sm:mb-3 ${E.has(D)?"text-primary-600":"text-slate-400"}`,children:Ma.cloneElement(O,{className:"h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10"})}),T.jsx("span",{className:`font-semibold text-[10px] sm:text-xs md:text-sm leading-tight ${E.has(D)?"text-primary-800":"text-slate-600"}`,children:D})]},D)),T.jsxs("button",{onClick:()=>z("Room"),className:"flex flex-col items-center justify-center text-center p-2 sm:p-3 md:p-4 aspect-square rounded-xl border-2 border-dashed border-slate-300 bg-slate-50 text-slate-400 hover:border-accent-400 hover:bg-accent-50 hover:text-accent-600 transition-all transform hover:scale-[1.02] active:scale-95",children:[T.jsx(ka,{className:"h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10 mb-1 sm:mb-2"}),T.jsx("span",{className:"font-semibold text-[10px] sm:text-xs md:text-sm",children:"Custom Room"})]})]}),A.length>0&&T.jsxs("div",{className:"mt-10 animate-fade-in border-t border-slate-100 pt-6",children:[T.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-700",children:"Your Custom Rooms"}),T.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-4",children:A.map(D=>T.jsxs("button",{onClick:()=>l(D.name),className:"flex flex-col items-center justify-center text-center p-3 md:p-4 aspect-square rounded-xl border-2 transition-all transform hover:scale-[1.02] active:scale-95 bg-primary-50 border-primary-400 shadow-md",children:[T.jsx("div",{className:"mb-2 text-primary-600",children:T.jsx(Hh,{className:"h-8 w-8 md:h-10 md:w-10"})}),T.jsx("span",{className:"font-semibold text-xs md:text-sm text-primary-800 break-words",children:D.name})]},D.id))})]})]}):T.jsxs("div",{className:"animate-fade-in",children:[T.jsx("h2",{className:"text-xl font-bold mb-2 text-slate-800 font-display",children:"Specialty Collections"}),T.jsx("p",{className:"text-sm text-slate-500 mb-8",children:"Group high-value items like fine art, jewelry, or firearms. Ideal for separate appraisal."}),T.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3 md:gap-4",children:[zh.map(({name:D,icon:O})=>T.jsxs("button",{onClick:()=>a(D),className:`flex flex-col items-center justify-center text-center p-2 sm:p-3 md:p-4 aspect-square rounded-xl border-2 transition-all transform hover:scale-[1.02] duration-200 active:scale-95 ${I.has(D)?"bg-primary-50 border-primary-400 shadow-md ring-1 ring-primary-200":"bg-white border-slate-100 hover:bg-slate-50 hover:border-primary-200 hover:shadow-sm"}`,children:[T.jsx("div",{className:`mb-2 sm:mb-3 ${I.has(D)?"text-primary-600":"text-slate-400"}`,children:Ma.cloneElement(O,{className:"h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10"})}),T.jsx("span",{className:`font-semibold text-[10px] sm:text-xs md:text-sm leading-tight ${I.has(D)?"text-primary-800":"text-slate-600"}`,children:D})]},D)),T.jsxs("button",{onClick:()=>z("Collection"),className:"flex flex-col items-center justify-center text-center p-2 sm:p-3 md:p-4 aspect-square rounded-xl border-2 border-dashed border-slate-300 bg-slate-50 text-slate-400 hover:border-accent-400 hover:bg-accent-50 hover:text-accent-600 transition-all transform hover:scale-[1.02] active:scale-95",children:[T.jsx(ka,{className:"h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10 mb-1 sm:mb-2"}),T.jsx("span",{className:"font-semibold text-[10px] sm:text-xs md:text-sm",children:"Custom"})]})]}),M.length>0&&T.jsxs("div",{className:"mt-10 animate-fade-in border-t border-slate-100 pt-6",children:[T.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-700",children:"Your Custom Collections"}),T.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-4",children:M.map(D=>T.jsxs("button",{onClick:()=>a(D.name),className:"flex flex-col items-center justify-center text-center p-3 md:p-4 aspect-square rounded-xl border-2 transition-all transform hover:scale-[1.02] active:scale-95 bg-primary-50 border-primary-400 shadow-md",children:[T.jsx("div",{className:"mb-2 text-primary-600",children:T.jsx(Hh,{className:"h-8 w-8 md:h-10 md:w-10"})}),T.jsx("span",{className:"font-semibold text-xs md:text-sm text-primary-800 break-words",children:D.name})]},D.id))})]})]})]}),(i.length>0||t.length>0)&&T.jsxs("div",{className:"mt-12 border-t border-slate-200 pt-8 flex flex-col items-center text-center animate-fade-in pb-12",children:[T.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Inventory Complete?"}),T.jsx("p",{className:"text-slate-500 mt-2 mb-6 max-w-md",children:"Once you have added all your rooms and specialty items, proceed to view your full coverage report."}),T.jsxs("button",{onClick:r,className:"w-full md:w-auto px-8 py-4 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-all flex items-center justify-center gap-2 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 active:scale-95",children:["Generate Final Report",T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]})},e1=i=>new Promise((t,l)=>{const a=new FileReader;a.readAsDataURL(i),a.onload=()=>{typeof a.result=="string"?t(a.result.split(",")[1]):l(new Error("Failed to read file as base64 string."))},a.onerror=r=>l(r)}),t1=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),ol=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n1=({roomId:i,existingImages:t,onUpdateImages:l,onRemoveImage:a})=>{const[r,f]=_e.useState(!1),p=async v=>{if(!v)return;const _=Array.from(v).map(e1);try{const A=await Promise.all(_);l(i,A)}catch(A){console.error("Error converting files to base64",A)}},g=v=>{v.preventDefault(),f(!0)},y=v=>{v.preventDefault(),f(!1)},h=v=>{v.preventDefault(),f(!1),p(v.dataTransfer.files)};return T.jsx("div",{children:T.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[t.map((v,E)=>T.jsxs("div",{className:"relative group aspect-square",children:[T.jsx("img",{src:`data:image/jpeg;base64,${v}`,alt:`Room upload ${E+1}`,className:"w-full h-full object-cover rounded-xl shadow-sm border border-slate-200"}),T.jsx("button",{onClick:()=>a(i,E),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity shadow-md hover:bg-red-700 active:scale-95","aria-label":"Remove image",children:T.jsx(ol,{className:"w-4 h-4"})})]},E)),T.jsxs("div",{onDragOver:g,onDragLeave:y,onDrop:h,className:`flex flex-col items-center justify-center aspect-square border-2 border-dashed rounded-xl transition-all p-4 text-center group
                        ${r?"border-primary-500 bg-primary-50":"border-slate-300 bg-slate-50 hover:bg-slate-100 hover:border-primary-400"}`,children:[T.jsx(t1,{className:`w-8 h-8 mb-2 transition-colors ${r?"text-primary-600":"text-slate-400 group-hover:text-primary-500"}`}),T.jsx("span",{className:"text-sm text-slate-500 mb-3 group-hover:text-slate-700 hidden sm:inline",children:"Drop photos here"}),T.jsxs("div",{className:"flex flex-col items-center gap-2 w-full",children:[T.jsxs("label",{className:"w-full",children:[T.jsx("div",{className:"w-full px-3 py-1.5 bg-white border border-slate-300 rounded-md text-sm font-semibold text-primary-600 shadow-sm cursor-pointer hover:bg-primary-50 hover:border-primary-300 hover:text-primary-700 transition-colors text-center",children:"Upload File"}),T.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:v=>p(v.target.files),className:"hidden"})]}),T.jsxs("label",{className:"w-full",children:[T.jsx("div",{className:"w-full px-3 py-1.5 bg-primary-600 border border-transparent rounded-md text-sm font-semibold text-white shadow-sm cursor-pointer hover:bg-primary-700 transition-colors text-center",children:"Take Photo"}),T.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:v=>p(v.target.files),className:"hidden"})]})]})]})]})})},Bh=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),i1=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Zi=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...i,children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o1=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Ph=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...i,children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v1m6 11h2m-6.5 2H12v-1"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 11h1M4 12v1m15-1h1m-1 1v-1M4 5h1M5 4h1m13 1h1M19 4h1"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9zM4 8v8h2V8H4zm14 0v8h2V8h-2z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 4h8v2H8zM8 20h8v-2H8z"})]}),l1=({onClose:i,onBarcodeScan:t})=>{const l=_e.useRef(null),a=_e.useRef(null),r=_e.useRef(),[f,p]=_e.useState(null);return _e.useEffect(()=>{if(!("BarcodeDetector"in window)){p("Barcode scanner is not supported by your browser.");return}const g=new window.BarcodeDetector({formats:["ean_13","upc_a","upc_e","code_128","code_39","qr_code"]}),y=async()=>{try{const E=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});a.current=E,l.current&&(l.current.srcObject=E),v()}catch(E){console.error("Error accessing camera:",E),p("Could not access camera. Please check permissions.")}},h=async()=>{if(l.current&&l.current.readyState===l.current.HAVE_ENOUGH_DATA)try{const E=await g.detect(l.current);E.length>0&&(t(E[0].rawValue),i())}catch(E){console.error("Barcode detection failed:",E)}},v=()=>{h(),r.current=requestAnimationFrame(v)};return y(),()=>{r.current&&cancelAnimationFrame(r.current),a.current&&a.current.getTracks().forEach(E=>E.stop())}},[i,t]),T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 animate-fade-in",children:T.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full mx-4 shadow-xl relative",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-lg font-semibold",children:"Scan Barcode"}),T.jsx("button",{onClick:i,className:"text-2xl font-bold text-slate-500 hover:text-slate-800 leading-none",children:""})]}),f?T.jsx("div",{className:"text-red-700 p-4 bg-red-50 rounded-md my-4",children:f}):T.jsxs("div",{className:"relative w-full rounded-md overflow-hidden bg-slate-900 aspect-video",children:[T.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx("div",{className:"w-4/5 h-2/5 border-4 border-white/50 rounded-lg relative",children:T.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-red-500/70 animate-pulse"})})})]}),T.jsx("div",{className:"flex justify-end mt-4",children:T.jsx("button",{onClick:i,className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-md hover:bg-slate-300 font-semibold",children:"Cancel"})})]})})},Oh=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 21.75l-.648-1.188a2.25 2.25 0 01-1.4-1.4l-1.188-.648.648-1.188a2.25 2.25 0 011.4-1.4l1.188-.648.648 1.188a2.25 2.25 0 011.4 1.4l1.188.648-.648 1.188a2.25 2.25 0 01-1.4 1.4z"})}),tl=["Did you know? Keeping a home inventory can speed up your insurance claim process significantly.","Pro Tip: Don't forget to inventory items in your garage, basement, and attic.","Remember to photograph high-value items like jewelry, art, and electronics separately.","For electronics, it's a good idea to also photograph the serial numbers.","Update your home inventory annually or after making significant new purchases.","Store a digital copy of your inventory report in a secure cloud service for easy access.","A detailed inventory can help you determine if you have enough insurance coverage."],Fh=["New","Like New","Good","Fair","Poor"],Fg=({roomId:i,items:t,totalValue:l,onUpdateItem:a,onDeleteItem:r,onAddItem:f,isProcessing:p,onBack:g,onComplete:y})=>{const[h,v]=_e.useState(null),[E,_]=_e.useState(tl[0]),[A,I]=_e.useState(!1),[w,M]=_e.useState(!1),[z,J]=_e.useState(!1),D=_e.useRef({editingItem:h,onUpdateItem:a,onDeleteItem:r,roomId:i});_e.useEffect(()=>{D.current={editingItem:h,onUpdateItem:a,onDeleteItem:r,roomId:i}}),_e.useEffect(()=>()=>{const{editingItem:X,onUpdateItem:le,onDeleteItem:$,roomId:ue}=D.current;X&&(X.name==="New Item"&&X.estimatedValue===0&&X.quantity===1&&X.notes===""?$(ue,X.id):le(ue,{...X,isEditing:!1}))},[]),_e.useEffect(()=>{const X=t.find(le=>le.isEditing);X&&X.id!==(h==null?void 0:h.id)&&v({...X})},[t,h]),_e.useEffect(()=>{if(p){_(tl[Math.floor(Math.random()*tl.length)]);const X=setInterval(()=>{_(le=>{let $=le;for(;$===le;)$=tl[Math.floor(Math.random()*tl.length)];return $})},5e3);return()=>clearInterval(X)}},[p]);const O=X=>{v({...X})},Z=()=>{h&&(a(i,{...h,isEditing:!1}),v(null))},ie=()=>{const X=t.find(le=>le.id===(h==null?void 0:h.id));(X==null?void 0:X.name)==="New Item"&&r(i,X.id),v(null)},Y=X=>{if(!h)return;const{name:le,value:$,type:ue}=X.target;let Me;ue==="checkbox"?Me=X.target.checked:ue==="number"?Me=parseFloat($)||0:Me=$,v({...h,[le]:Me})},he=async X=>{if(h){M(!0);try{const le=await qA(X);v($=>$?{...$,name:le.name||$.name,notes:le.notes||$.notes}:null)}catch(le){console.error("Failed to fetch barcode info",le)}finally{M(!1)}}},ee=async()=>{if(!(!h||!h.condition)){J(!0);try{const{estimatedValue:X,valuationRationale:le}=await zA(h.name,h.condition,h.valuationRationale);v($=>$?{...$,estimatedValue:X,valuationRationale:le}:null)}catch(X){console.error("Failed to re-evaluate item",X)}finally{J(!1)}}};return p?T.jsxs("div",{className:"text-center py-12 border-t border-slate-200 mt-4",children:[T.jsx("div",{className:"flex justify-center mb-6",children:T.jsx(Zi,{className:"animate-spin h-14 w-14 text-primary-600"})}),T.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"AI Analysis in Progress..."}),T.jsx("p",{className:"text-slate-500 mt-2 max-w-md mx-auto",children:"We are scanning your photos to identify items and estimate values."}),T.jsxs("div",{className:"mt-8 bg-primary-50 p-6 rounded-xl border border-primary-100 min-h-[100px] flex flex-col justify-center max-w-lg mx-auto",children:[T.jsx("p",{className:"text-sm font-bold text-primary-800 uppercase tracking-wide mb-1",children:"Insurance Insight"}),T.jsx("p",{className:"text-sm text-primary-700 animate-fade-in font-medium",children:E},E)]})]}):t.length===0?T.jsxs("div",{className:"text-center py-16 border-t border-slate-200 mt-4",children:[T.jsx("p",{className:"text-slate-500 text-lg mb-4",children:"No inventory items yet. Generate them from photos or add one manually."}),T.jsxs("button",{onClick:()=>f(i),className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition-colors",children:[T.jsx(ka,{}),"Add First Item"]})]}):T.jsxs(T.Fragment,{children:[A&&T.jsx(l1,{onClose:()=>I(!1),onBarcodeScan:he}),T.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg flex justify-between items-center mb-4 border border-slate-200 mt-6",children:[T.jsx("span",{className:"font-bold text-slate-800",children:"Total Estimated Value"}),T.jsx("span",{className:"font-bold text-lg text-primary-700",children:l.toLocaleString("en-US",{style:"currency",currency:"USD"})})]}),T.jsx("div",{className:"md:hidden space-y-4",children:t.map(X=>{const le=(h==null?void 0:h.id)===X.id,$=le?h:X;return le?T.jsxs("div",{className:"bg-white border-2 border-primary-500 rounded-xl p-4 shadow-lg space-y-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Item Name"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{type:"text",name:"name",value:$.name,onChange:Y,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-base focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none"}),T.jsx("button",{type:"button",onClick:()=>I(!0),className:"p-2 text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg",disabled:w,children:w?T.jsx(Zi,{className:"animate-spin h-5 w-5"}):T.jsx(Ph,{className:"w-5 h-5"})})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Condition"}),T.jsx("select",{name:"condition",value:$.condition||"Good",onChange:Y,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-base focus:border-primary-500 outline-none",children:Fh.map(ue=>T.jsx("option",{value:ue,children:ue},ue))})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Qty"}),T.jsx("input",{type:"number",name:"quantity",value:$.quantity,onChange:Y,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-base focus:border-primary-500 outline-none"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Value"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{type:"number",name:"estimatedValue",value:$.estimatedValue,onChange:Y,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-base focus:border-primary-500 outline-none"}),T.jsx("button",{type:"button",onClick:ee,className:"p-2 text-accent-600 bg-accent-50 hover:bg-accent-100 rounded-lg",disabled:z||!$.condition,children:z?T.jsx(Zi,{className:"animate-spin h-5 w-5"}):T.jsx(Oh,{className:"w-5 h-5"})})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Notes"}),T.jsx("textarea",{name:"notes",value:$.notes,onChange:Y,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-base focus:border-primary-500 outline-none",rows:2})]}),T.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[T.jsx("input",{type:"checkbox",id:`specialty-${X.id}`,name:"isSpecialty",checked:$.isSpecialty,onChange:Y,className:"h-5 w-5 rounded border-slate-300 text-primary-600 focus:ring-primary-500"}),T.jsx("label",{htmlFor:`specialty-${X.id}`,className:"text-sm font-semibold text-slate-700",children:"Mark as Specialty Item"})]}),T.jsxs("div",{className:"flex gap-2 pt-2",children:[T.jsx("button",{onClick:Z,className:"flex-1 bg-green-600 text-white py-2 rounded-lg font-bold shadow-md",children:"Save"}),T.jsx("button",{onClick:ie,className:"flex-1 bg-slate-200 text-slate-700 py-2 rounded-lg font-bold",children:"Cancel"})]})]},X.id):T.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 shadow-sm flex flex-col gap-3",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:$.name}),T.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full border border-slate-200",children:$.condition}),$.isSpecialty&&T.jsx("span",{className:"ml-2 text-xs text-accent-700 bg-accent-100 px-2 py-0.5 rounded-full border border-accent-200",children:"Specialty"})]}),T.jsx("span",{className:"font-mono font-bold text-primary-700 text-lg",children:$.estimatedValue.toLocaleString("en-US",{style:"currency",currency:"USD"})})]}),$.notes&&T.jsxs("p",{className:"text-sm text-slate-600 bg-slate-50 p-2 rounded-md italic",children:['"',$.notes,'"']}),$.valuationRationale&&T.jsxs("p",{className:"text-xs text-slate-400",children:["Rationale: ",$.valuationRationale]}),T.jsxs("div",{className:"flex justify-between items-center border-t border-slate-100 pt-3 mt-1",children:[T.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["Qty: ",$.quantity]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:()=>O(X),className:"p-2 text-primary-600 bg-primary-50 rounded-lg hover:bg-primary-100",children:T.jsx(Bh,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>r(i,X.id),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100",children:T.jsx(ol,{className:"w-5 h-5"})})]})]})]},X.id)})}),T.jsx("div",{className:"hidden md:block overflow-x-auto",children:T.jsxs("table",{className:"w-full text-sm text-left text-slate-500 table-fixed",children:[T.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-50",children:T.jsxs("tr",{children:[T.jsx("th",{scope:"col",className:"px-4 py-3 w-[25%] font-bold",children:"Item Name"}),T.jsx("th",{scope:"col",className:"px-4 py-3 w-[12%] font-bold",children:"Condition"}),T.jsx("th",{scope:"col",className:"px-4 py-3 w-[8%] font-bold",children:"Qty"}),T.jsx("th",{scope:"col",className:"px-4 py-3 w-[12%] font-bold",children:"Value"}),T.jsx("th",{scope:"col",className:"px-4 py-3 w-[10%] font-bold",children:"Specialty"}),T.jsx("th",{scope:"col",className:"px-4 py-3 w-[23%] font-bold",children:"Notes"}),T.jsx("th",{scope:"col",className:"px-4 py-3 w-[10%] text-right font-bold",children:"Actions"})]})}),T.jsx("tbody",{children:t.map(X=>{const le=(h==null?void 0:h.id)===X.id,$=le?h:X;return T.jsx("tr",{className:`border-b hover:bg-slate-50 transition-colors ${le?"bg-primary-50/50":"bg-white"}`,children:le?T.jsxs(T.Fragment,{children:[T.jsx("td",{className:"px-4 py-3 align-top",children:T.jsxs("div",{className:"flex items-start gap-2",children:[T.jsx("input",{type:"text",name:"name",value:$.name,onChange:Y,className:"w-full px-2 py-1.5 border border-slate-300 rounded-md disabled:bg-slate-100 text-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none",autoFocus:!0,disabled:w}),T.jsx("button",{type:"button",onClick:()=>I(!0),className:"p-2 text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-md transition-colors disabled:opacity-50","aria-label":"Scan barcode",disabled:w,children:w?T.jsx(Zi,{className:"animate-spin h-4 w-4"}):T.jsx(Ph,{className:"w-4 h-4"})})]})}),T.jsx("td",{className:"px-4 py-3 align-top",children:T.jsx("select",{name:"condition",value:$.condition||"Good",onChange:Y,className:"w-full px-2 py-1.5 border border-slate-300 rounded-md text-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none",children:Fh.map(ue=>T.jsx("option",{value:ue,children:ue},ue))})}),T.jsx("td",{className:"px-4 py-3 align-top",children:T.jsx("input",{type:"number",name:"quantity",value:$.quantity,onChange:Y,className:"w-16 px-2 py-1.5 border border-slate-300 rounded-md text-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none"})}),T.jsx("td",{className:"px-4 py-3 align-top",children:T.jsxs("div",{className:"flex items-start gap-2",children:[T.jsx("input",{type:"number",name:"estimatedValue",value:$.estimatedValue,onChange:Y,className:"w-full px-2 py-1.5 border border-slate-300 rounded-md text-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none",disabled:z}),T.jsx("button",{type:"button",onClick:ee,className:"p-2 text-accent-600 bg-accent-50 hover:bg-accent-100 rounded-md transition-colors disabled:opacity-50","aria-label":"Re-evaluate with AI",disabled:z||!$.condition,children:z?T.jsx(Zi,{className:"animate-spin h-4 w-4"}):T.jsx(Oh,{className:"w-4 h-4"})})]})}),T.jsx("td",{className:"px-4 py-3 text-center align-top",children:T.jsx("input",{type:"checkbox",name:"isSpecialty",checked:$.isSpecialty,onChange:Y,className:"h-4 w-4 rounded border-slate-300 text-primary-600 focus:ring-primary-500 mt-2 cursor-pointer"})}),T.jsx("td",{className:"px-4 py-3 align-top",children:T.jsx("textarea",{name:"notes",value:$.notes,onChange:Y,className:"w-full px-2 py-1.5 border border-slate-300 rounded-md text-sm disabled:bg-slate-100 focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none",rows:2,disabled:w})}),T.jsx("td",{className:"px-4 py-3 text-right align-top",children:T.jsxs("div",{className:"flex items-center justify-end gap-1",children:[T.jsx("button",{onClick:Z,className:"font-medium text-green-600 hover:text-green-800 p-1.5 hover:bg-green-50 rounded","aria-label":"Save item",children:T.jsx(i1,{})}),T.jsx("button",{onClick:ie,className:"font-medium text-slate-600 hover:text-slate-800 p-1.5 hover:bg-slate-100 rounded","aria-label":"Cancel edit",children:T.jsx(o1,{})})]})})]}):T.jsxs(T.Fragment,{children:[T.jsxs("td",{className:"px-4 py-4 font-semibold text-slate-900 align-top",children:[$.name,T.jsx("p",{className:"text-xs text-slate-500 font-normal mt-1 italic",children:$.valuationRationale})]}),T.jsx("td",{className:"px-4 py-4 align-top",children:$.condition||"-"}),T.jsx("td",{className:"px-4 py-4 align-top",children:$.quantity}),T.jsx("td",{className:"px-4 py-4 align-top font-mono font-medium",children:$.estimatedValue.toLocaleString("en-US",{style:"currency",currency:"USD"})}),T.jsx("td",{className:"px-4 py-4 align-top",children:$.isSpecialty?T.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-accent-100 text-accent-800",children:"Specialty"}):"No"}),T.jsx("td",{className:"px-4 py-4 text-xs text-slate-600 whitespace-pre-wrap break-words align-top",children:$.notes||"-"}),T.jsx("td",{className:"px-4 py-4 text-right align-top",children:T.jsxs("div",{className:"flex items-center justify-end gap-1",children:[T.jsx("button",{onClick:()=>O(X),className:"font-medium text-primary-600 hover:text-primary-800 p-1.5 hover:bg-primary-50 rounded","aria-label":"Edit item",children:T.jsx(Bh,{})}),T.jsx("button",{onClick:()=>r(i,X.id),className:"font-medium text-red-600 hover:red-800 p-1.5 hover:bg-red-50 rounded","aria-label":"Delete item",children:T.jsx(ol,{})})]})})]})},X.id)})})]})}),T.jsxs("div",{className:"mt-8 flex flex-col gap-4",children:[T.jsx("div",{className:"flex justify-end",children:T.jsxs("button",{onClick:()=>f(i),className:"flex items-center justify-center gap-2 px-6 py-3 w-full md:w-auto bg-slate-100 text-slate-700 rounded-lg font-bold hover:bg-slate-200 transition-colors shadow-sm",disabled:!!h,children:[T.jsx(ka,{}),"Add Item Manually"]})}),(g||y)&&T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 pt-6 border-t border-slate-100",children:[g&&T.jsxs("button",{onClick:g,className:"w-full sm:w-auto px-6 py-3 bg-white border border-slate-300 text-slate-700 rounded-lg font-bold hover:bg-slate-50 transition-colors shadow-sm flex items-center justify-center gap-2",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to All Rooms"]}),y&&T.jsxs("button",{onClick:y,className:"w-full sm:w-auto px-6 py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition-colors shadow-lg flex items-center justify-center gap-2 transform hover:-translate-y-0.5 active:translate-y-0",children:["Generate Final Report",T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})]})]}),t.length>0&&T.jsxs("p",{className:"text-xs text-slate-500 mt-6 italic bg-slate-50 p-3 rounded-md border border-slate-100",children:[T.jsx("strong",{children:"Disclaimer:"})," The estimated values are AI-generated for insurance purposes and serve as a guide. They are not a guarantee of actual replacement cost. For specialty items, a professional appraisal is recommended."]})]})},a1=({room:i,onDeleteRoom:t,onUpdateImages:l,onRemoveImage:a,onProcessInventory:r,onUpdateItem:f,onDeleteItem:p,onAddItem:g,onBack:y,onComplete:h})=>{const[v,E]=_e.useState(!1),_=M=>{const z=M.toLowerCase();return z.includes("kitchen")?"Open all cabinets and drawers! The AI can't count your silverware or appliances if they are hidden behind wood.":z.includes("bedroom")?"Don't forget the closet! Clothes and shoes often make up the bulk of your value. Open those doors.":z.includes("living")||z.includes("den")?"Check your electronics. If you have a high-end TV or sound system, get a close-up of the brand logo.":z.includes("garage")?"Tools add up fast. Open your tool chests and take a photo of the contents, not just the box.":z.includes("bathroom")?"Expensive perfumes, electric razors, and high-end straighteners should be visible.":"Try to take photos from each corner of the room to capture everything. Open any storage units."},A=()=>{E(!0)},I=()=>{r(i.id),E(!1)},w=()=>{E(!1)};return T.jsxs("div",{className:"space-y-6 animate-fade-in",children:[T.jsxs("button",{onClick:y,className:"flex items-center gap-2 text-sm font-bold text-slate-500 hover:text-primary-600 transition-colors mb-2 bg-white px-3 py-2 rounded-lg border border-slate-200 shadow-sm",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to All Rooms"]}),v&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in backdrop-blur-sm px-4",children:T.jsxs("div",{className:"bg-white rounded-xl p-6 md:p-8 shadow-2xl max-w-md w-full border border-slate-100",children:[T.jsx("h3",{className:"text-2xl font-bold mb-4 text-slate-900 font-display",children:"Ready to Scan?"}),T.jsxs("p",{className:"text-slate-600 mb-8 text-lg leading-relaxed",children:["I'm about to look at your photos and list your items. ",T.jsx("br",{}),T.jsx("br",{}),T.jsx("strong",{children:"Tip:"})," Did you capture the expensive stuff? If not, snap a few more photos first!"]}),T.jsxs("div",{className:"flex flex-col gap-3",children:[T.jsx("button",{onClick:I,className:"w-full px-5 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 font-bold text-lg transition-colors shadow-lg",children:"Yes, Analyze Photos"}),T.jsx("button",{onClick:w,className:"w-full px-5 py-3 bg-white border border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 font-semibold transition-colors",children:"Wait, I need more photos"})]})]})}),T.jsxs("header",{className:"flex justify-between items-start border-b border-slate-200 pb-4",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 font-display",children:i.name}),T.jsx("p",{className:"text-slate-500 mt-1 font-medium",children:"Add photos, then let AI do the work."})]}),T.jsx("button",{onClick:()=>t(i.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Room",children:T.jsx(ol,{})})]}),T.jsxs("div",{className:"bg-accent-400/10 border border-accent-400/30 rounded-xl p-4 flex gap-4 items-start",children:[T.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm text-accent-500 flex-shrink-0",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),T.jsxs("div",{children:[T.jsxs("h4",{className:"font-bold text-slate-800 text-sm uppercase tracking-wide",children:["Photo Tip for ",i.name]}),T.jsx("p",{className:"text-slate-700 font-medium mt-1",children:_(i.name)})]})]}),T.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-sm border border-slate-200",children:[T.jsx("h3",{className:"text-xl font-bold mb-2 text-slate-800",children:"1. Take Photos"}),T.jsx("p",{className:"text-slate-500 mb-6",children:`Use the "Take Photo" button to open your phone's camera. Don't worry about it being perfect!`}),T.jsx(n1,{roomId:i.id,existingImages:i.images,onUpdateImages:l,onRemoveImage:a})]}),T.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-sm border border-slate-200",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4 border-b border-slate-100 pb-6",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"2. Your Item List"}),T.jsx("p",{className:"text-slate-500 mt-1",children:"Once you have photos, click the button to list your items automatically."})]}),T.jsx("button",{onClick:A,disabled:i.images.length===0||i.status==="processing",className:"w-full md:w-auto px-8 py-3 bg-primary-600 text-white rounded-xl font-bold hover:bg-primary-700 transition-all disabled:bg-slate-300 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg transform hover:-translate-y-0.5 active:translate-y-0",children:i.status==="processing"?T.jsxs(T.Fragment,{children:[T.jsx(Zi,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}),"Analyzing..."]}):i.inventory.length>0?"Update List with AI":"Create List with AI"})]}),i.status==="error"&&T.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-6 text-sm border border-red-100 font-medium",children:"Oops! We had trouble reading those photos. Please try again."}),T.jsx(Fg,{roomId:i.id,items:i.inventory,totalValue:i.totalValue,onUpdateItem:f,onDeleteItem:p,onAddItem:g,isProcessing:i.status==="processing"&&i.inventory.length===0,onBack:y,onComplete:h})]})]})},s1=({collection:i,onDeleteCollection:t,onUpdateItem:l,onDeleteItem:a,onAddItem:r,onBack:f,onComplete:p})=>T.jsxs("div",{className:"space-y-8 animate-fade-in",children:[T.jsxs("button",{onClick:f,className:"flex items-center gap-2 text-sm font-semibold text-primary-600 hover:text-primary-800 transition-colors mb-2",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Inventory Selection"]}),T.jsxs("header",{className:"flex justify-between items-start border-b border-slate-200 pb-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 font-display",children:i.name}),T.jsx("p",{className:"text-slate-500 mt-1",children:"Manage specialty items in this collection."})]}),T.jsxs("button",{onClick:()=>t(i.id),className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-semibold",children:[T.jsx(ol,{}),"Delete Collection"]})]}),T.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-sm border border-slate-200",children:[T.jsx("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4 border-b border-slate-100 pb-6",children:T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Inventory & Estimated Value"}),T.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Manually add high-value items for accurate appraisal tracking."})]})}),T.jsx(Fg,{roomId:i.id,items:i.inventory,totalValue:i.totalValue,onUpdateItem:l,onDeleteItem:a,onAddItem:r,isProcessing:!1,onBack:f,onComplete:p})]})]}),Yh=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H7a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm2-9V5a2 2 0 00-2-2H9a2 2 0 00-2 2v3"})}),r1=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u1=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),c1=({rooms:i,collections:t,customerInfo:l,onBack:a})=>{const[r,f]=_e.useState(!1),p=_e.useRef(null),g=i.reduce((w,M)=>w+M.totalValue,0)+t.reduce((w,M)=>w+M.totalValue,0),h=g*.2,v=g+h;_e.useEffect(()=>{const w=M=>{p.current&&!p.current.contains(M.target)&&f(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[p]);const E=()=>{let w=`Category,Name,Item,Quantity,Condition,Estimated Value,Is Specialty,Notes,Valuation Rationale
`;const M=O=>`"${(O||"").replace(/"/g,'""')}"`;i.forEach(O=>{O.inventory.forEach(Z=>{const ie=['"Room"',M(O.name),M(Z.name),Z.quantity,M(Z.condition),Z.estimatedValue,Z.isSpecialty,M(Z.notes),M(Z.valuationRationale)].join(",");w+=ie+`
`})}),t.forEach(O=>{O.inventory.forEach(Z=>{const ie=['"Collection"',M(O.name),M(Z.name),Z.quantity,M(Z.condition),Z.estimatedValue,Z.isSpecialty,M(Z.notes),M(Z.valuationRationale)].join(",");w+=ie+`
`})});const z=new Blob([w],{type:"text/csv;charset=utf-8;"}),J=document.createElement("a"),D=URL.createObjectURL(z);J.setAttribute("href",D),J.setAttribute("download","bill_layne_inventory_report.csv"),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J)},_=()=>{const w=window.open("","_blank");if(!w){alert("Please allow popups to print the report.");return}const M=new Date().toLocaleDateString(),z=D=>D.length===0?'<tr><td colspan="5" style="text-align:center; font-style:italic;">No items listed</td></tr>':D.map(O=>`
                <tr>
                    <td class="name-col">
                        <strong>${O.name}</strong>
                        ${O.isSpecialty?'<span class="badge">Specialty</span>':""}
                    </td>
                    <td style="text-align: center;">${O.quantity}</td>
                    <td>${O.condition||"-"}</td>
                    <td style="text-align: right;">${O.estimatedValue.toLocaleString("en-US",{style:"currency",currency:"USD"})}</td>
                    <td class="notes-col">
                        ${O.notes||""}
                    </td>
                </tr>
            `).join(""),J=`
            <!DOCTYPE html>
            <html>
            <head>
                <title>Inventory Summary - ${l.name}</title>
                <style>
                    @page { size: letter; margin: 0.5in; }
                    body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 10pt; line-height: 1.3; color: #333; }
                    h1 { font-size: 16pt; margin: 0 0 5px 0; color: #312e81; }
                    h2 { font-size: 12pt; border-bottom: 1px solid #ccc; padding-bottom: 3px; margin-top: 15px; margin-bottom: 5px; color: #333; page-break-after: avoid; }
                    .header-table { width: 100%; margin-bottom: 15px; border-bottom: 2px solid #312e81; padding-bottom: 10px; }
                    .header-info { text-align: right; font-size: 9pt; }
                    .disclaimer { font-size: 8pt; color: #666; background: #f9f9f9; padding: 5px; border: 1px solid #ddd; margin-bottom: 15px; }
                    
                    /* Condensed Table Styles */
                    table.inventory-table { width: 100%; border-collapse: collapse; font-size: 9pt; page-break-inside: auto; }
                    table.inventory-table th, table.inventory-table td { border: 1px solid #ddd; padding: 4px 6px; vertical-align: top; }
                    table.inventory-table th { background-color: #f1f5f9; text-align: left; font-weight: bold; }
                    table.inventory-table tr { page-break-inside: avoid; page-break-after: auto; }
                    
                    .name-col { width: 25%; }
                    .notes-col { width: 35%; }
                    .badge { font-size: 7pt; background: #e0e7ff; color: #312e81; padding: 1px 3px; border-radius: 3px; margin-left: 4px; border: 1px solid #c7d2fe; }
                    
                    .summary-box { border: 1px solid #333; padding: 10px; margin-top: 20px; page-break-inside: avoid; background-color: #f8fafc; }
                    .summary-row { display: flex; justify-content: space-between; margin-bottom: 5px; }
                    .total-row { display: flex; justify-content: space-between; font-weight: bold; font-size: 12pt; border-top: 1px solid #999; padding-top: 5px; margin-top: 5px; }
                    
                    .img-grid { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 5px; }
                    .img-thumb { width: 80px; height: 80px; object-fit: cover; border: 1px solid #eee; }
                </style>
            </head>
            <body>
                <table class="header-table">
                    <tr>
                        <td>
                            <h1>Bill Layne Insurance</h1>
                            <div style="font-size: 10pt; font-weight: bold; color: #f59e0b;">ELKIN'S TRUSTED AGENCY</div>
                        </td>
                        <td class="header-info">
                            <strong>Client:</strong> ${l.name}<br>
                            <strong>Property:</strong> ${l.address}<br>
                            <strong>Date:</strong> ${M}
                        </td>
                    </tr>
                </table>

                <div class="disclaimer">
                    <strong>Disclaimer:</strong> This inventory report is generated by AI for estimation purposes only. 
                    Values are approximations and not professional appraisals.
                </div>

                ${i.map(D=>`
                    <h2>${D.name} <span style="float:right; font-weight:normal; font-size: 10pt;">Est. Value: ${D.totalValue.toLocaleString("en-US",{style:"currency",currency:"USD"})}</span></h2>
                    ${D.images.length>0?`
                        <div class="img-grid">
                            ${D.images.slice(0,6).map(O=>`<img src="data:image/jpeg;base64,${O}" class="img-thumb" />`).join("")}
                            ${D.images.length>6?`<div style="display:flex; align-items:center; justify-content:center; width:80px; height:80px; background:#eee; font-size:8pt; border:1px solid #ccc;">+${D.images.length-6} more</div>`:""}
                        </div>
                    `:""}
                    <table class="inventory-table">
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th style="width: 40px; text-align: center;">Qty</th>
                                <th style="width: 60px;">Cond.</th>
                                <th style="width: 80px; text-align: right;">Value</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${z(D.inventory)}
                        </tbody>
                    </table>
                `).join("")}

                ${t.map(D=>`
                    <h2>Collection: ${D.name} <span style="float:right; font-weight:normal; font-size: 10pt;">Est. Value: ${D.totalValue.toLocaleString("en-US",{style:"currency",currency:"USD"})}</span></h2>
                    <table class="inventory-table">
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th style="width: 40px; text-align: center;">Qty</th>
                                <th style="width: 60px;">Cond.</th>
                                <th style="width: 80px; text-align: right;">Value</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${z(D.inventory)}
                        </tbody>
                    </table>
                `).join("")}

                <div class="summary-box">
                    <div style="font-weight: bold; border-bottom: 1px solid #ccc; margin-bottom: 8px; padding-bottom: 4px;">Coverage Recommendation</div>
                    <div class="total-row">
                        <span>Rec. Limit:</span>
                        <span>${v.toLocaleString("en-US",{style:"currency",currency:"USD"})}</span>
                    </div>
                </div>
                
                <script>
                    window.onload = function() { window.print(); }
                <\/script>
            </body>
            </html>
        `;w.document.write(J),w.document.close()},A=()=>{const w=window.open("","_blank");if(!w){alert("Please allow popups to print the report.");return}const M=new Date().toLocaleDateString(),z=D=>D.length===0?'<tr><td colspan="5" style="text-align:center; font-style:italic;">No items listed</td></tr>':D.map(O=>`
                <tr>
                    <td class="name-col">
                        <strong>${O.name}</strong>
                        ${O.isSpecialty?'<span class="badge">Specialty</span>':""}
                    </td>
                    <td style="text-align: center;">${O.quantity}</td>
                    <td>${O.condition||"-"}</td>
                    <td style="text-align: right;">${O.estimatedValue.toLocaleString("en-US",{style:"currency",currency:"USD"})}</td>
                    <td class="notes-col">
                        ${O.notes||""}
                        ${O.valuationRationale?`<div class="rationale"><strong>Rationale:</strong> ${O.valuationRationale}</div>`:""}
                    </td>
                </tr>
            `).join(""),J=`
            <!DOCTYPE html>
            <html>
            <head>
                <title>Detailed Inventory Report - ${l.name}</title>
                <style>
                    @page { size: letter; margin: 0.5in; }
                    body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 10pt; line-height: 1.4; color: #1a202c; }
                    h1 { font-size: 18pt; margin: 0 0 5px 0; color: #312e81; font-weight: 800; }
                    h2 { font-size: 14pt; border-bottom: 2px solid #312e81; padding-bottom: 8px; margin-top: 30px; margin-bottom: 15px; color: #1e293b; break-after: avoid; }
                    
                    .header-table { width: 100%; margin-bottom: 25px; border-bottom: 4px solid #f59e0b; padding-bottom: 20px; }
                    .header-info { text-align: right; font-size: 10pt; line-height: 1.5; }
                    .disclaimer { font-size: 9pt; color: #b45309; background: #fffbeb; padding: 10px; border-left: 4px solid #f59e0b; margin-bottom: 25px; }
                    
                    table.inventory-table { width: 100%; border-collapse: collapse; font-size: 9pt; margin-bottom: 20px; page-break-inside: auto; }
                    table.inventory-table th, table.inventory-table td { border: 1px solid #e2e8f0; padding: 10px; vertical-align: top; }
                    table.inventory-table th { background-color: #f8fafc; text-align: left; font-weight: bold; color: #475569; border-bottom: 2px solid #cbd5e1; }
                    table.inventory-table tr:nth-child(even) { background-color: #f8fafc; }
                    table.inventory-table tr { page-break-inside: avoid; }

                    .name-col { width: 25%; font-weight: 600; color: #334155; }
                    .notes-col { width: 35%; color: #475569; }
                    .rationale { font-size: 8.5pt; color: #64748b; margin-top: 4px; padding-top: 4px; border-top: 1px dashed #cbd5e1; }
                    .badge { font-size: 7pt; background: #fee2e2; color: #991b1b; padding: 2px 5px; border-radius: 4px; margin-left: 5px; border: 1px solid #fecaca; text-transform: uppercase; font-weight: bold; }
                    
                    /* Detailed Image Grid - 2 Columns, Large */
                    .img-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; page-break-inside: avoid; }
                    .img-container { border: 1px solid #e2e8f0; padding: 5px; background: #fff; border-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
                    .img-container img { width: 100%; height: 250px; object-fit: cover; border-radius: 2px; }
                    
                    .summary-box { background: #f0fdf4; border: 1px solid #bbf7d0; padding: 25px; margin-top: 40px; border-radius: 8px; page-break-inside: avoid; }
                    .summary-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 11pt; }
                    .total-row { display: flex; justify-content: space-between; font-weight: 800; font-size: 16pt; color: #166534; border-top: 2px solid #166534; padding-top: 15px; margin-top: 10px; }
                    
                </style>
            </head>
            <body>
                <table class="header-table">
                    <tr>
                        <td>
                            <h1>Bill Layne Insurance</h1>
                            <div style="font-size: 11pt; font-weight: bold; color: #f59e0b; letter-spacing: 0.05em;">ELKIN'S TRUSTED AGENCY</div>
                            <div style="font-size: 10pt; margin-top: 5px; color: #64748b;">Detailed Home Inventory Report</div>
                        </td>
                        <td class="header-info">
                            <strong>Client:</strong> ${l.name}<br>
                            <strong>Property:</strong> ${l.address}<br>
                            <strong>Date:</strong> ${M}
                        </td>
                    </tr>
                </table>

                <div class="disclaimer">
                    <strong>Important:</strong> This report provides a detailed breakdown of items and photos generated by AI. 
                    Estimated values are based on market data at the time of generation and should be verified for accuracy before submission.
                </div>

                ${i.map(D=>`
                    <div style="page-break-after: always;">
                        <h2>${D.name} <span style="float:right; font-weight:normal; font-size: 12pt; color: #64748b;">Room Total: ${D.totalValue.toLocaleString("en-US",{style:"currency",currency:"USD"})}</span></h2>
                        
                        ${D.images.length>0?`
                            <div style="font-weight: bold; margin-bottom: 10px; color: #475569;">Room Documentation Photos</div>
                            <div class="img-grid">
                                ${D.images.map(O=>`
                                    <div class="img-container">
                                        <img src="data:image/jpeg;base64,${O}" />
                                    </div>
                                `).join("")}
                            </div>
                        `:'<div style="font-style: italic; color: #94a3b8; margin-bottom: 20px;">No photos available for this room.</div>'}
                        
                        <div style="font-weight: bold; margin-bottom: 10px; color: #475569;">Itemized Inventory</div>
                        <table class="inventory-table">
                            <thead>
                                <tr>
                                    <th>Item</th>
                                    <th style="width: 50px; text-align: center;">Qty</th>
                                    <th style="width: 70px;">Cond.</th>
                                    <th style="width: 100px; text-align: right;">Est. Value</th>
                                    <th>Detailed Notes & Rationale</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${z(D.inventory)}
                            </tbody>
                        </table>
                    </div>
                `).join("")}

                ${t.map(D=>`
                     <div style="page-break-after: always;">
                        <h2>Collection: ${D.name} <span style="float:right; font-weight:normal; font-size: 12pt; color: #64748b;">Total: ${D.totalValue.toLocaleString("en-US",{style:"currency",currency:"USD"})}</span></h2>
                        <table class="inventory-table">
                            <thead>
                                <tr>
                                    <th>Item</th>
                                    <th style="width: 50px; text-align: center;">Qty</th>
                                    <th style="width: 70px;">Cond.</th>
                                    <th style="width: 100px; text-align: right;">Est. Value</th>
                                    <th>Detailed Notes & Rationale</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${z(D.inventory)}
                            </tbody>
                        </table>
                    </div>
                `).join("")}

                <div class="summary-box">
                    <div style="font-weight: bold; border-bottom: 1px solid #86efac; margin-bottom: 15px; padding-bottom: 5px; font-size: 12pt; color: #166534;">Final Coverage Analysis</div>
                    <div class="summary-row">
                        <span>Total Itemized Inventory Value:</span>
                        <span>${g.toLocaleString("en-US",{style:"currency",currency:"USD"})}</span>
                    </div>
                    <div class="summary-row" style="color: #15803d;">
                        <span>+ Recommended 20% Buffer (Misc. Items):</span>
                        <span>${h.toLocaleString("en-US",{style:"currency",currency:"USD"})}</span>
                    </div>
                    <div class="total-row">
                        <span>Recommended Personal Property Limit:</span>
                        <span>${v.toLocaleString("en-US",{style:"currency",currency:"USD"})}</span>
                    </div>
                    <p style="margin-top: 15px; font-size: 9pt; color: #166534;">
                        <strong>Agent Note:</strong> The 20% buffer is added to account for miscellaneous items (clothing, kitchenware, linens, books) that are often not itemized individually but constitute a significant portion of a total loss claim.
                    </p>
                </div>
                
                <script>
                    window.onload = function() { window.print(); }
                <\/script>
            </body>
            </html>
        `;w.document.write(J),w.document.close()},I=()=>{const w=encodeURIComponent(`Home Inventory Report - ${l.name}`),M=encodeURIComponent(`Hello Bill Layne Insurance,

Please find attached the home inventory report for my property at ${l.address}.

Total Estimated Value: ${v.toLocaleString("en-US",{style:"currency",currency:"USD"})}

Sincerely,
${l.name}`);window.location.href=`mailto:?subject=${w}&body=${M}`,alert("We've opened your email client. Please remember to attach the PDF report you just saved!")};return T.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 md:p-8 animate-fade-in",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-4 mb-8",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-1 font-display",children:"Coverage Report"}),T.jsx("p",{className:"text-slate-500",children:"Here is the estimated replacement cost for your belongings."})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-shrink-0 mt-4 md:mt-0",children:[T.jsxs("button",{onClick:I,className:"flex items-center justify-center gap-2 px-4 py-3 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-bold transition-all text-sm shadow-sm w-full sm:w-auto",children:[T.jsx(u1,{className:"w-5 h-5 flex-shrink-0 text-slate-500"}),T.jsx("span",{children:"Email Report"})]}),T.jsxs("div",{className:"relative",ref:p,children:[T.jsxs("button",{onClick:()=>f(w=>!w),className:"flex items-center gap-2 px-4 py-3 bg-primary-600 border border-transparent text-white rounded-lg hover:bg-primary-700 font-bold transition-all text-sm shadow-md w-full sm:w-auto justify-center",children:[T.jsx(r1,{}),"Download / Print",T.jsx("svg",{className:`w-4 h-4 text-primary-200 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),r&&T.jsx("div",{className:"absolute right-0 mt-2 w-64 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10 animate-fade-in border border-slate-100",children:T.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[T.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),_(),f(!1)},className:"block px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 hover:text-primary-600 font-medium",role:"menuitem",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Yh,{className:"w-4 h-4 text-slate-400"})," Summary Report (Condensed)"]})}),T.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),A(),f(!1)},className:"block px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 hover:text-primary-600 font-medium",role:"menuitem",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Yh,{className:"w-4 h-4 text-primary-500"})," Detailed Report (All Photos)"]})}),T.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),E(),f(!1)},className:"block px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 hover:text-primary-600 border-t border-slate-100",role:"menuitem",children:"Export to Excel (CSV)"})]})})]})]})]}),T.jsxs("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 rounded-2xl p-6 md:p-8 text-white shadow-xl mb-8 relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-white opacity-10 rounded-full blur-3xl"}),T.jsx("h3",{className:"text-lg font-bold text-primary-100 uppercase tracking-wider mb-2",children:"Recommended Coverage"}),T.jsxs("div",{className:"flex flex-col md:flex-row items-baseline gap-2 mb-4",children:[T.jsx("span",{className:"text-4xl md:text-5xl font-extrabold tracking-tight",children:v.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0})}),T.jsx("span",{className:"text-primary-200 font-medium",children:"Replacement Cost Limit"})]}),T.jsxs("div",{className:"bg-white/10 rounded-lg p-4 backdrop-blur-sm border border-white/10",children:[T.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[T.jsx("span",{className:"text-primary-100",children:"Itemized Inventory:"}),T.jsx("span",{className:"font-mono",children:g.toLocaleString("en-US",{style:"currency",currency:"USD"})})]}),T.jsxs("div",{className:"flex justify-between items-center text-sm",children:[T.jsx("span",{className:"text-accent-300 font-bold",children:"+ 20% Buffer (Misc. Items):"}),T.jsx("span",{className:"font-mono text-accent-300 font-bold",children:h.toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]}),T.jsxs("p",{className:"mt-4 text-sm text-primary-100 leading-relaxed max-w-2xl",children:[T.jsx("strong",{children:"Why the buffer?"})," When disasters happen, people realize they forgot to count small things like clothes, spices, books, and linens. This 20% buffer helps ensure you don't run out of money before you replace everything."]})]}),T.jsxs("div",{className:"bg-white border-2 border-slate-100 rounded-xl p-6 md:p-8 flex flex-col md:flex-row items-center justify-between gap-6 shadow-sm",children:[T.jsxs("div",{className:"text-center md:text-left",children:[T.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:"Missed a room?"}),T.jsx("p",{className:"text-slate-500",children:"It happens! You can go back and add the Garage, Attic, or that Jewelry collection you forgot."})]}),T.jsxs("button",{onClick:a,className:"w-full md:w-auto flex items-center justify-center gap-2 px-8 py-4 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors text-base shadow-sm border border-slate-200",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Go Back & Add Items"]})]})]})},Jh=({info:i,onInfoChange:t,onNext:l})=>{const a=r=>{t({...i,[r.target.name]:r.target.value})};return T.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 md:p-8 animate-fade-in",children:[T.jsxs("div",{className:"border-b border-slate-100 pb-6 mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2 font-display",children:"Welcome to Your Home Check-up"}),T.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["Hi there! We're going to help you figure out exactly how much your stuff is worth. This ensures that if anything happens, your insurance pays you enough to replace everything with ",T.jsx("strong",{children:"brand new items"}),", not used ones."]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"name",className:"block text-sm font-bold text-slate-800 mb-1.5",children:"What is your name?"}),T.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:a,className:"w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg text-base focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none transition duration-200",placeholder:"e.g., Jane Smith"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"address",className:"block text-sm font-bold text-slate-800 mb-1.5",children:"Which property are we cataloging?"}),T.jsx("input",{type:"text",id:"address",name:"address",value:i.address,onChange:a,className:"w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg text-base focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none transition duration-200",placeholder:"e.g., 123 Maple Street"})]}),T.jsxs("div",{className:"p-4 bg-primary-50 rounded-lg border border-primary-100",children:[T.jsx("h3",{className:"text-sm font-bold text-primary-800 mb-1",children:"Agent's Note:"}),T.jsx("p",{className:"text-sm text-primary-700",children:`Don't worry about being perfect. The goal is to get the "Big Picture" so we don't underestimate your coverage.`})]})]}),T.jsx("div",{className:"mt-10 pt-6 flex justify-end",children:T.jsxs("button",{onClick:l,className:"w-full md:w-auto px-8 py-4 bg-primary-600 text-white rounded-xl font-bold text-lg hover:bg-primary-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2 transform hover:-translate-y-0.5",children:["Let's Start Inventory",T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})},Xh=[{number:1,title:"Customer Details"},{number:2,title:"Add Rooms & Inventory"},{number:3,title:"View & Export Report"}],f1=({currentStep:i})=>T.jsx("div",{className:"w-full px-4 sm:px-0",children:T.jsx("div",{className:"flex items-center",children:Xh.map((t,l)=>{const a=i>t.number,r=i===t.number;return T.jsxs(Ma.Fragment,{children:[T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300
                                        ${a?"bg-primary-600 text-white shadow-md":""}
                                        ${r?"bg-primary-600 text-white ring-4 ring-primary-100 shadow-lg scale-110":""}
                                        ${!a&&!r?"bg-slate-100 text-slate-400 border border-slate-200":""}
                                    `,children:a?T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:T.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):T.jsx("span",{className:"font-bold font-sans",children:t.number})}),T.jsx("p",{className:`text-center text-xs sm:text-sm mt-3 font-semibold transition-colors ${r?"text-primary-700":"text-slate-400"}`,children:t.title})]}),l<Xh.length-1&&T.jsx("div",{className:`flex-auto border-t-2 transition-colors mx-2
                                    ${i>t.number?"border-primary-500":"border-slate-100"}
                                `})]},t.number)})})}),nt=[];for(let i=0;i<256;++i)nt.push((i+256).toString(16).slice(1));function d1(i,t=0){return(nt[i[t+0]]+nt[i[t+1]]+nt[i[t+2]]+nt[i[t+3]]+"-"+nt[i[t+4]]+nt[i[t+5]]+"-"+nt[i[t+6]]+nt[i[t+7]]+"-"+nt[i[t+8]]+nt[i[t+9]]+"-"+nt[i[t+10]]+nt[i[t+11]]+nt[i[t+12]]+nt[i[t+13]]+nt[i[t+14]]+nt[i[t+15]]).toLowerCase()}let Su;const p1=new Uint8Array(16);function m1(){if(!Su){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Su=crypto.getRandomValues.bind(crypto)}return Su(p1)}const h1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kh={randomUUID:h1};function g1(i,t,l){var r;i=i||{};const a=i.random??((r=i.rng)==null?void 0:r.call(i))??m1();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,d1(a)}function nl(i,t,l){return Kh.randomUUID&&!i?Kh.randomUUID():g1(i)}function y1(){const[i,t]=_e.useState([]),[l,a]=_e.useState([]),[r,f]=_e.useState(null),[p,g]=_e.useState(null),[y,h]=_e.useState({name:"",address:"",policyNumber:""}),[v,E]=_e.useState(1),[_,A]=_e.useState(!1);_e.useEffect(()=>{const K=()=>{A(window.scrollY>20)};return window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)},[]);const I=_e.useMemo(()=>i.find(K=>K.id===r)||null,[i,r]),w=_e.useMemo(()=>l.find(K=>K.id===p)||null,[l,p]),M=K=>{g(null);const j=i.find(C=>C.name===K);if(j)f(j.id);else{const C={id:nl(),name:K,images:[],inventory:[],totalValue:0,status:"idle"};t(U=>[...U,C]),f(C.id)}},z=K=>{f(null);const j=l.find(C=>C.name===K);if(j)g(j.id);else{const C={id:nl(),name:K,inventory:[],totalValue:0};a(U=>[...U,C]),g(C.id)}},J=K=>{t(j=>j.filter(C=>C.id!==K)),r===K&&f(null)},D=K=>{a(j=>j.filter(C=>C.id!==K)),p===K&&g(null)},O=(K,j)=>{t(C=>C.map(U=>U.id===K?{...U,...j}:U))},Z=(K,j)=>{a(C=>C.map(U=>U.id===K?{...U,...j}:U))},ie=(K,j)=>{t(C=>C.map(U=>U.id===K?{...U,images:[...U.images,...j]}:U))},Y=(K,j)=>{t(C=>C.map(U=>{if(U.id===K){const F=[...U.images];return F.splice(j,1),{...U,images:F}}return U}))},he=async K=>{const j=i.find(C=>C.id===K);if(!(!j||j.images.length===0)){O(K,{status:"processing",inventory:[]});try{const U=(await HA(j.images,j.name)).map(te=>({...te,id:nl()})),F=U.reduce((te,fe)=>te+fe.estimatedValue,0);O(K,{inventory:U,totalValue:F,status:"done"})}catch(C){console.error("Failed to process inventory:",C),O(K,{status:"error"})}}},ee=(K,j)=>{const C=j.reduce((U,F)=>U+F.estimatedValue*F.quantity,0);O(K,{inventory:j,totalValue:C})},X=(K,j)=>{const C=i.find(U=>U.id===K);if(C){const U=C.inventory.map(F=>F.id===j.id?j:F);ee(K,U)}},le=(K,j)=>{const C=i.find(U=>U.id===K);if(C){const U=C.inventory.filter(F=>F.id!==j);ee(K,U)}},$=K=>{const j=i.find(C=>C.id===K);if(j){const C={id:nl(),name:"New Item",estimatedValue:0,isSpecialty:!1,quantity:1,notes:"",isEditing:!0,condition:"Good",valuationRationale:"Manually added item."},U=[...j.inventory,C];ee(K,U)}},ue=(K,j)=>{const C=j.reduce((U,F)=>U+F.estimatedValue*F.quantity,0);Z(K,{inventory:j,totalValue:C})},Me=(K,j)=>{const C=l.find(U=>U.id===K);if(C){const U=C.inventory.map(F=>F.id===j.id?j:F);ue(K,U)}},it=(K,j)=>{const C=l.find(U=>U.id===K);if(C){const U=C.inventory.filter(F=>F.id!==j);ue(K,U)}},H=K=>{const j=l.find(C=>C.id===K);if(j){const C={id:nl(),name:"New Item",estimatedValue:0,isSpecialty:!0,quantity:1,notes:"",isEditing:!0,condition:"Good",valuationRationale:"Manually added item."},U=[...j.inventory,C];ue(K,U)}},Q=()=>{f(null),g(null)},re=()=>{switch(v){case 1:return T.jsx(Jh,{info:y,onInfoChange:h,onNext:()=>E(2)});case 2:return I?T.jsx(a1,{room:I,onDeleteRoom:J,onUpdateImages:ie,onRemoveImage:Y,onProcessInventory:he,onUpdateItem:X,onDeleteItem:le,onAddItem:$,onBack:Q,onComplete:()=>E(3)},I.id):w?T.jsx(s1,{collection:w,onDeleteCollection:D,onUpdateItem:Me,onDeleteItem:it,onAddItem:H,onBack:Q,onComplete:()=>E(3)},w.id):T.jsx(jA,{rooms:i,collections:l,onRoomSelect:M,onCollectionSelect:z,onNextStep:()=>E(3)});case 3:return T.jsx(c1,{rooms:i,collections:l,customerInfo:y,onBack:()=>E(2)});default:return T.jsx(Jh,{info:y,onInfoChange:h,onNext:()=>E(2)})}};return T.jsxs("div",{className:"bg-slate-50 min-h-screen font-sans text-slate-800",children:[T.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${_?"glass-nav py-3":"bg-transparent py-5"}`,children:T.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:T.jsx("div",{className:"flex items-center gap-2",children:T.jsxs("a",{href:"https://www.billlayneinsurance.com",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col hover:opacity-80 transition-opacity",children:[T.jsxs("h1",{className:`font-display font-extrabold text-2xl tracking-tight leading-none ${_?"text-slate-900":"text-white"}`,children:["Bill Layne ",T.jsx("span",{className:_?"text-primary-600":"text-accent-400",children:"Insurance"})]}),T.jsx("span",{className:`text-xs font-bold uppercase tracking-widest ${_?"text-slate-500":"text-indigo-200"}`,children:"Elkin's Trusted Agency"})]})})})}),T.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-primary-900 pt-24 pb-24 sm:pt-32 sm:pb-32 px-4 sm:px-6 relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-primary-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),T.jsx("div",{className:"absolute top-0 left-0 -ml-20 -mt-20 w-96 h-96 bg-accent-400 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000"}),T.jsxs("div",{className:"container mx-auto text-center relative z-10",children:[T.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold text-white mb-3 sm:mb-4 tracking-tight",children:["Smart Home ",T.jsx("span",{className:"text-accent-400",children:"Inventory"})]}),T.jsx("p",{className:"text-base sm:text-lg text-indigo-100 max-w-2xl mx-auto leading-relaxed px-2",children:"Protect what matters most. Use our AI-powered tool to catalogue your belongings accurately for comprehensive coverage."})]})]}),T.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 -mt-20 relative z-20 pb-12",children:T.jsxs("div",{className:"max-w-5xl mx-auto",children:[T.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-slate-100 p-6 mb-8",children:T.jsx(f1,{currentStep:v})}),T.jsx("main",{children:re()}),T.jsxs("footer",{className:"mt-12 text-center text-slate-400 text-sm",children:[T.jsxs("p",{children:[" ",new Date().getFullYear()," ",T.jsx("a",{href:"https://www.billlayneinsurance.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 transition-colors",children:"Bill Layne Insurance"}),". All rights reserved."]}),T.jsx("p",{className:"mt-1",children:"Servicing Elkin and surrounding areas."})]})]})})]})}const Yg=document.getElementById("root");if(!Yg)throw new Error("Could not find root element to mount to");const v1=Av.createRoot(Yg);v1.render(T.jsx(Ma.StrictMode,{children:T.jsx(y1,{})}));
